/*! For license information please see main.aef6a5d8.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},151:function(e,t,n){var r=n(576);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,E=n[2]||l,S=m||g;r.push({name:y||a++,prefix:v||"",delimiter:E,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},576:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,S=60108,I=60114,T=60109,C=60110,A=60112,N=60113,O=60120,R=60115,P=60116,D=60121,L=60128,M=60129,U=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;x=F("react.element"),_=F("react.portal"),E=F("react.fragment"),S=F("react.strict_mode"),I=F("react.profiler"),T=F("react.provider"),C=F("react.context"),A=F("react.forward_ref"),N=F("react.suspense"),O=F("react.suspense_list"),R=F("react.memo"),P=F("react.lazy"),D=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),U=F("react.offscreen"),j=F("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Ue=!1,je=!1;function Fe(){null===Ce&&null===Ae||(Le(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){qe=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,u,s){He=!1,We=null,ze.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),Rt=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ut(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ut(s),i=Mt):0!==(u&=a)&&(r=Ut(u),i=Mt)}else 0!==(a=n&~o)?(r=Ut(a),i=Mt):0!==u&&(r=Ut(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Ue||Le();var i=Xt,a=Ue;Ue=!0;try{De(i,e,t,n,r)}finally{(Ue=a)||Fe()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Un=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Fn=f&&"TextEvent"in window&&!jn,Vn=f&&(!Un||jn&&8<jn&&11>=jn),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Ur(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Qn(t,$n,e,Ie(e)),e=Jn,Ue)e(t);else{Ue=!0;try{Pe(e,t)}finally{Ue=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Ur(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Pt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Fe()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=Rt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Ct:case At:case Nt:s=bn;break;case Ot:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Fr(o,u,s,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Un)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=Ur(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Un&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Ui={},ji=void 0!==Ai?Ai:function(){},Fi=null,Vi=null,qi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function Hi(){switch(Oi()){case Ri:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Si(e,t)}function Gi(e,t,n){return e=Wi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Yi()}function Yi(){if(!qi&&null!==Fi){qi=!0;var e=0;try{var t=Fi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ii(Ri,Qi),n}finally{qi=!1}}}var $i=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return y(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Oa)}function La(e){Ra(Oa.current);var t=Ra(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Ua=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,qa=!1;function Ba(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(qa){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,Fa=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ka(e){if(e!==Fa)return!1;if(!qa)return Wa(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,qa=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Ro,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Uo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Ht(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return yo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Uo=!1;function jo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Uo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return jo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):jo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Yo,$o,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ua.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ua,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Oa.current),Ra(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Ua),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Pu||0===(134217727&qu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ua),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ua,1&Ua.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=ja(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ua.current,fi(Ua,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Ua),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ua),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Us(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Us(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Ru=0,Pu=null,Du=null,Lu=0,Mu=0,Uu=ci(0),ju=0,Fu=null,Vu=0,qu=0,Bu=0,zu=0,Hu=null,Wu=0,Ku=1/0;function Gu(){Ku=zi()+500}var Qu,Yu=null,$u=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ru)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ru)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(Bu|=t,4===ju&&gs(e,Lu));var r=Hi();1===t?0!==(8&Ru)&&0===(48&Ru)?ks(e):(ys(e,n),0===Ru&&(Gu(),Qi())):(0===(4&Ru)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ut(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=jt(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Ui&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Ti(n)}15===t?(n=ks.bind(null,e),null===Fi?(Fi=[n],Vi=Ii(Ri,Yi)):Fi.push(n),n=Ui):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Ru))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=jt(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=Is();for(Pu===e&&Lu===r||(Gu(),Es(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Ru=i,null!==Du?r=0:(Pu=null,Lu=0,r=ju),0!==(Vu&Bu))Es(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Ts(e,n))),1===r)throw t=Fu,Es(e,0),gs(e,n),ys(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rs(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Ht(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(o(329))}}return ys(e,zi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ru))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=jt(e,t)))}else n=Ts(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Ts(e,t))),1===n)throw n=Fu,Es(e,0),gs(e,t),ys(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),ys(e,zi()),null}function bs(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Qi())}}function ws(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Qi())}}function xs(e,t){fi(Uu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Uu.current,li(Uu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Ua);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Pu=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,ju=0,Fu=null,zu=Bu=qu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),$a.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){ju=1,Fu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ua.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=qs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Is(){var e=Nu.current;return Nu.current=Ro,null===e?Ro:e}function Ts(e,t){var n=Ru;Ru|=16;var r=Is();for(Pu===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Ru=n,Nu.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,ju}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===ju&&(ju=5)}function Rs(e){var t=Hi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Ou.current=null,qr=Yt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Ds()}catch(I){if(null===Yu)throw Error(o(330));Vs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,Iu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Iu(Yu.alternate,Yu);break;case 4:Iu(Yu.alternate,Yu);break;case 8:Su(u,s=Yu);var x=s.alternate;bu(s),null!==x&&bu(x)}Yu=Yu.nextEffect}}catch(I){if(null===Yu)throw Error(o(330));Vs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);if(w=Br,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!qr,Br=qr=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var _=Yu.flags;if(36&_&&mu(k,Yu.alternate,Yu),128&_){b=void 0;var E=Yu.ref;if(null!==E){var S=Yu.stateNode;Yu.tag,b=S,"function"===typeof E?E(b):E.current=b}}Yu=Yu.nextEffect}}catch(I){if(null===Yu)throw Error(o(330));Vs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,ji(),Ru=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((_=Yu).sibling=null,_.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(ys(e,zi()),$u)throw $u=!1,e=Ju,Ju=null,e;return 0!==(8&Ru)||Qi(),null}function Ds(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&yu(e,Yu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,js)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(o(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Qi(),!0}function Fs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)Fs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===ju||3===ju&&(62914560&Lu)===Lu&&500>zi()-Wu?Es(e,0):zu|=n),ys(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ss&&(ss=Vu),0===(t=qt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ys(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new zs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case I:return(e=Hs(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=Hs(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Hs(19,n,t,i)).elementType=O,e.lanes=a,e;case U:return Ys(n,i,a,t);case j:return(e=Hs(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=U,e.lanes=n,e}function $s(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Ua,1&Ua.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ua,1&Ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ua,Ua.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Hr(r,i)?u=null:null!==a&&Hr(r,a)&&(t.flags|=16),zo(e,t),jo(e,t,u,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Xo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,De=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ru)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Re,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ru=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===s}},900:function(e,t,n){"use strict";e.exports=n(459)},878:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,l=!1,f=!1,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&s({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(f)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!c){c=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,r=new Promise((function(n,r){t.onload=function(){l=!0,c=!1,n(),e.onScriptLoaded()},t.onerror=function(t){f=!0,c=!1,r(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){r.then((function(){return n?t({isCanceled:!0}):e()})),r.catch((function(e){return t(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return a.default.createElement("button",r({},s({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),a.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return a.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},a.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?a.default.createElement(e,r({},s({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(a.default.Component);h.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},h.propTypes={desktopShowModal:o.default.bool,triggerEvent:o.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:o.default.string,style:o.default.object,textStyle:o.default.object,disabled:o.default.bool,ComponentClass:o.default.string,showLoadingDialog:o.default.func,hideLoadingDialog:o.default.func,onScriptError:o.default.func,onScriptTagCreated:o.default.func,reconfigureOnUpdate:o.default.bool,stripeKey:o.default.string.isRequired,token:o.default.func.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,amount:o.default.number,locale:o.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:o.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:o.default.string,zipCode:o.default.bool,billingAddress:o.default.bool,shippingAddress:o.default.bool,email:o.default.string,allowRememberMe:o.default.bool,bitcoin:o.default.bool,alipay:o.default.oneOf(["auto",!0,!1]),alipayReusable:o.default.bool,opened:o.default.func,closed:o.default.func},h._isMounted=!1,t.Z=h},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},329:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":N(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":N(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":N(e),m="undefined"==typeof t?"undefined":N(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+P[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+P[t].text,m(t)].concat(O(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":N(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,y=i.error,m=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,m=w.started-h);var x=r(p),_="function"==typeof o?o((function(){return g}),p,i):o,E=C(d),S=u.title?"color: "+u.title(x)+";":"",I=["color: gray; font-weight: lighter;"];I.push(S),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var T=a(x,E,m);try{_?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(I)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(I)):n.group(T)}catch(e){n.log(T)}var A=b(s,x,[v],"prevState"),N=b(s,x,[x],"action"),O=b(s,x,[y,v],"error"),R=b(s,x,[g],"nextState");if(A)if(u.prevState){var P="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",P,v)}else n[A]("prev state",v);if(N)if(u.action){var D="color: "+u.action(x)+"; font-weight: bold";n[N]("%c action    ",D,x)}else n[N]("action    ",x);if(y&&O)if(u.error){var L="color: "+u.error(y,v)+"; font-weight: bold;";n[O]("%c error     ",L,y)}else n[O]("error     ",y);if(R)if(u.nextState){var M="color: "+u.nextState(g)+"; font-weight: bold";n[R]("%c next state",M,g)}else n[R]("next state",g);c&&k(v,g,n,_);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var E,S,I=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return I("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},R=[];E="object"===("undefined"==typeof n.g?"undefined":N(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(S=E.DeepDiff)&&R.push((function(){"undefined"!=typeof S&&E.DeepDiff===f&&(E.DeepDiff=S,S=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof S},enumerable:!0},noConflict:{value:function(){return R&&(R.forEach((function(e){e()})),R=null),f},enumerable:!0}});var P={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?_()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=_,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},553:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?s(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.r=void 0;var f=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return l(s(n=o(this,(e=u(t)).call.apply(e,[this].concat(a)))),"state",{bootstrapped:!1}),l(s(n),"_unsubscribe",void 0),l(s(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&a(n.prototype,r),f&&a(n,f),t}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(791)).PureComponent);t.r=f,l(f,"defaultProps",{children:null,loading:null})},315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(184))&&r.__esModule?r:{default:r}},184:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,A=null,N=3,O=!1,R=!1,P=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(I,t)}t=_(T)}}function L(e){if(P=!1,D(e),!R)if(null!==_(I))R=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,P&&(P=!1,i()),O=!0;var a=N;try{for(D(n),A=_(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(I)&&E(I),D(n)}else E(I);A=_(I)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(I)&&e===_(T)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(I,e),R||O||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/crwn-clothing_redo/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ra},SDK_VERSION:function(){return $a},_DEFAULT_ENTRY_NAME:function(){return La},_addComponent:function(){return Fa},_addOrOverwriteComponent:function(){return Va},_apps:function(){return Ua},_clearComponents:function(){return Ha},_components:function(){return ja},_getProvider:function(){return Ba},_registerComponent:function(){return qa},_removeServiceInstance:function(){return za},deleteApp:function(){return eo},getApp:function(){return Xa},getApps:function(){return Za},initializeApp:function(){return Ja},onLog:function(){return ro},registerVersion:function(){return no},setLogLevel:function(){return io}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var f=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=l(t),i=l(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?x:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?m(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=y(a,h)),k(a,r,n)}function I(){return Math.random().toString(36).substr(2,f)}var T=b();function C(e){o(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(v(e.state))}function N(){R(v(S()))}var O=!1;function R(e){if(O)O=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}}var P=v(S()),D=[P.key];function L(e){return h+g(e)}function M(e){t.go(e)}var U=0;function j(e){1===(U+=e)&&1===e?(window.addEventListener(_,A),r&&window.addEventListener(E,N)):0===U&&(window.removeEventListener(_,A),r&&window.removeEventListener(E,N))}var F=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=k(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=T.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(A(window.location.href)+"#"+e)}function R(e){void 0===e&&{},w||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?m(p(e.basename)):"",c=C[u],l=c.encodePath,f=c.decodePath;function h(){var e=f(N());return s&&y(e,s),k(e)}var v=b();function _(e){o(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var E=!1,S=null;function I(){var e=N(),t=l(e);if(e!==t)O(t);else{var n=h(),r=V.location;if(!E&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(S===g(n))return;null,function(e){if(E)!1,_();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(g(t));-1===n&&0;var r=L.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(n)}}var R=N(),P=l(R);R!==P&&O(P);var D=h(),L=[g(D)];function M(e){t.go(e)}var U=0;function j(e){1===(U+=e)&&1===e?window.addEventListener(T,I):0===U&&window.removeEventListener(T,I)}var F=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&A(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(N()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(g(V.location)),o=L.slice(0,a+1);o.push(t),o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);N()!==i&&(t,O(i));var a=L.indexOf(g(V.location));-1!==a&&(L[a]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return F||(j(1),!0),function(){return F&&(!1,j(-1)),t()}},listen:function(e){var t=v.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function P(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=b();function f(e){o(m,e),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=P(u,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function y(e){var t=P(m.index+e,0,m.entries.length-1),r=m.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var m={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,f({action:r,location:i}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return m}var L=n(7),M=n.n(L),U=1073741823,j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function F(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return j[e]=(j[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=F(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):U,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[o]=M().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?U:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?U:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[o]=M().object,i),{Provider:u,Consumer:s}},q=V,B=n(151),z=n.n(B),H=n(441);function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=n(110),G=n.n(K),Q=function(e){var t=q();return t.displayName=e,t},Y=Q("Router-History"),$=function(e){var t=q();return t.displayName=e,t},J=$("Router"),X=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(J.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Y.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var Z=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var ee={},te=0;function ne(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ee[e])return ee[e];var t=z().compile(e);return te<1e4&&(ee[e]=t,te++),t}(e)(t,{pretty:!0})}function re(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(J.Consumer,null,(function(e){e||d(!1);var i=e.history,u=e.staticContext,s=a?i.push:i.replace,c=k(n?"string"===typeof r?ne(r,n.params):o({},r,{pathname:ne(r.pathname,n.params)}):r);return u?(s(c),null):t.createElement(Z,{onMount:function(){s(c)},onUpdate:function(e,t){var n=k(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&f(e.state,t.state)})(n,o({},c,{key:n.key}))||s(c)},to:r})}))}var ie={},ae=0;function oe(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ie[n]||(ie[n]={});if(r[e])return r[e];var i=[],a={regexp:z()(e,i,t),keys:i};return ae<1e4&&(r[e]=a,ae++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ue=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(J.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?oe(r.pathname,e.props):n.match}),a=e.props,u=a.children,s=a.component,c=a.render;return Array.isArray(u)&&0===u.length&&(u=null),t.createElement(J.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:s?t.createElement(s,i):c?c(i):null:"function"===typeof u?u(i):null)}))},n}(t.Component);function se(e){return"/"===e.charAt(0)?e:"/"+e}function ce(e,t){if(!e)return t;var n=se(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function le(e){return"string"===typeof e?e:g(e)}function fe(e){return function(){d(!1)}}function he(){}t.Component;var de=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(J.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var u=e.props.path||e.props.from;i=u?oe(a.pathname,o({},e.props,{path:u})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);function pe(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=W(n,["wrappedComponentRef"]);return t.createElement(J.Consumer,null,(function(n){return n||d(!1),t.createElement(e,o({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,G()(r,e)}var ve=t.useContext;var ye=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=I(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(X,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var me=function(e,t){return"function"===typeof e?e(t):e},ge=function(e,t){return"string"===typeof e?k(e,null,null,t):e},ke=function(e){return e},be=t.forwardRef;"undefined"===typeof be&&(be=ke);var we=be((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,u=W(e,["innerRef","navigate","onClick"]),s=u.target,c=o({},u,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=ke!==be&&n||r,t.createElement("a",c)}));var xe=be((function(e,n){var r=e.component,i=void 0===r?we:r,a=e.replace,u=e.to,s=e.innerRef,c=W(e,["component","replace","to","innerRef"]);return t.createElement(J.Consumer,null,(function(e){e||d(!1);var r=e.history,l=ge(me(u,e.location),e.location),f=l?r.createHref(l):"",h=o({},c,{href:f,navigate:function(){var t=me(u,e.location);(a?r.replace:r.push)(t)}});return ke!==be?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),_e=function(e){return e},Ee=t.forwardRef;"undefined"===typeof Ee&&(Ee=_e);Ee((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,u=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,y=e.style,m=e.to,g=e.innerRef,k=W(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(J.Consumer,null,(function(e){e||d(!1);var r=h||e.location,a=ge(me(m,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?oe(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,_=!!(f?f(x,r):x),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,u):c,S=_?o({},y,{},s):y,I=o({"aria-current":_&&i||null,className:E,style:S,to:a},k);return _e!==Ee?I.ref=n||g:I.innerRef=g,t.createElement(xe,I)}))}));var Se=t.createContext(null);var Ie=function(e){e()},Te=function(){return Ie};var Ce={notify:function(){},get:function(){return[]}};function Ae(e,t){var n,r=Ce;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Te(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Ce)},getListeners:function(){return r}};return o}var Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var Oe=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=Ae(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);Ne((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||Se;return t.createElement(u.Provider,{value:a},i)},Re=n(900),Pe=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],De=["reactReduxForwardedRef"],Le=[],Me=[null,null];function Ue(e,t){var n=e[1];return[t.payload,n+1]}function je(e,t,n){Ne((function(){return e.apply(void 0,t)}),n)}function Fe(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function Ve(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(d){n=d,f=d}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var qe=function(){return[null,0]};function Be(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,u=r.methodName,s=void 0===u?"connectAdvanced":u,c=r.renderCountProp,l=void 0===c?void 0:c,f=r.shouldHandleStateChanges,h=void 0===f||f,d=r.storeKey,p=void 0===d?"store":d,v=(r.withRef,r.forwardRef),y=void 0!==v&&v,m=r.context,g=void 0===m?Se:m,k=W(r,Pe),b=g;return function(n){var r=n.displayName||n.name||"Component",i=a(r),u=o({},k,{getDisplayName:a,methodName:s,renderCountProp:l,shouldHandleStateChanges:h,storeKey:p,displayName:i,wrappedComponentName:r,WrappedComponent:n}),c=k.pure;var f=c?t.useMemo:function(e){return e()};function d(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=W(r,De);return[r.context,e,t]}),[r]),a=i[0],s=i[1],c=i[2],l=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,Re.isContextConsumer)(t.createElement(a.Consumer,null))?a:b}),[a,b]),d=(0,t.useContext)(l),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var v=p?r.store:d.store,y=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,u)}(v)}),[v]),m=(0,t.useMemo)((function(){if(!h)return Me;var e=Ae(v,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,p,d]),g=m[0],k=m[1],w=(0,t.useMemo)((function(){return p?d:o({},d,{subscription:g})}),[p,d,g]),x=(0,t.useReducer)(Ue,Le,qe),_=x[0][0],E=x[1];if(_&&_.error)throw _.error;var S=(0,t.useRef)(),I=(0,t.useRef)(c),T=(0,t.useRef)(),C=(0,t.useRef)(!1),A=f((function(){return T.current&&c===I.current?T.current:y(v.getState(),c)}),[v,_,c]);je(Fe,[I,S,C,c,A,T,k]),je(Ve,[h,v,g,y,I,S,C,T,k,E],[v,g,y]);var N=(0,t.useMemo)((function(){return t.createElement(n,o({},A,{ref:s}))}),[s,n,A]);return(0,t.useMemo)((function(){return h?t.createElement(l.Provider,{value:w},N):N}),[l,N,w])}var v=c?t.memo(d):d;if(v.WrappedComponent=n,v.displayName=d.displayName=i,y){var m=t.forwardRef((function(e,n){return t.createElement(v,o({},e,{reactReduxForwardedRef:n}))}));return m.displayName=i,m.WrappedComponent=n,G()(m,n)}return G()(v,n)}}function ze(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function He(e,t){if(ze(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ze(e[n[i]],t[n[i]]))return!1;return!0}function We(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Ke(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ge(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ke(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Ke(i),i=r(t,n)),i},r}}var Qe=[function(e){return"function"===typeof e?Ge(e):void 0},function(e){return e?void 0:We((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?We((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var Ye=[function(e){return"function"===typeof e?Ge(e):void 0},function(e){return e?void 0:We((function(){return{}}))}];function $e(e,t,n){return o({},n,e,t)}var Je=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return $e}}],Xe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ze(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function et(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function tt(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=W(t,Xe),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?et:Ze)(o,u,s,e,a)}var nt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function rt(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function it(e,t){return e===t}function at(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Be:n,i=t.mapStateToPropsFactories,a=void 0===i?Ye:i,u=t.mapDispatchToPropsFactories,s=void 0===u?Qe:u,c=t.mergePropsFactories,l=void 0===c?Je:c,f=t.selectorFactory,h=void 0===f?tt:f;return function(e,t,n,i){void 0===i&&(i={});var u=i,c=u.pure,f=void 0===c||c,d=u.areStatesEqual,p=void 0===d?it:d,v=u.areOwnPropsEqual,y=void 0===v?He:v,m=u.areStatePropsEqual,g=void 0===m?He:m,k=u.areMergedPropsEqual,b=void 0===k?He:k,w=W(u,nt),x=rt(e,a,"mapStateToProps"),_=rt(t,s,"mapDispatchToProps"),E=rt(n,l,"mergeProps");return r(h,o({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:_,initMergeProps:E,pure:f,areStatesEqual:p,areOwnPropsEqual:y,areStatePropsEqual:g,areMergedPropsEqual:b},w))}}var ot=at();function ut(){return(0,t.useContext)(Se)}function st(e){void 0===e&&(e=Se);var n=e===Se?ut:function(){return(0,t.useContext)(e)};return function(){return n().store}}var ct=st();function lt(e){void 0===e&&(e=Se);var t=e===Se?ct:st(e);return function(){return t().dispatch}}var ft=lt(),ht=function(e,t){return e===t};function dt(e){void 0===e&&(e=Se);var n=e===Se?ut:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=ht);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0)[1],u=(0,t.useMemo)((function(){return Ae(r,i)}),[r,i]),s=(0,t.useRef)(),c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=r.getState();try{if(e!==c.current||h!==l.current||s.current){var d=e(h);a=void 0!==f.current&&n(d,f.current)?f.current:d}else a=f.current}catch(p){throw s.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),p}return Ne((function(){c.current=e,l.current=h,f.current=a,s.current=void 0})),Ne((function(){function e(){try{var e=r.getState();if(e===l.current)return;var t=c.current(e);if(n(t,f.current))return;f.current=t,l.current=e}catch(p){s.current=p}o()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[r,u]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var pt,vt=dt();pt=r.unstable_batchedUpdates,Ie=pt;var yt=n(553);function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var wt="function"===typeof Symbol&&Symbol.observable||"@@observable",xt=function(){return Math.random().toString(36).substring(7).split("").join(".")},_t={INIT:"@@redux/INIT"+xt(),REPLACE:"@@redux/REPLACE"+xt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xt()}};function Et(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function St(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(bt(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(bt(1));return n(St)(e,t)}if("function"!==typeof e)throw new Error(bt(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(bt(3));return a}function f(e){if("function"!==typeof e)throw new Error(bt(4));if(s)throw new Error(bt(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(bt(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Et(e))throw new Error(bt(7));if("undefined"===typeof e.type)throw new Error(bt(8));if(s)throw new Error(bt(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(bt(10));i=e,h({type:_t.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(bt(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[wt]=function(){return this},e}return h({type:_t.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[wt]=p,r}function It(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Tt="persist:",Ct="persist/FLUSH",At="persist/REHYDRATE",Nt="persist/PAUSE",Ot="persist/PERSIST",Rt="persist/PURGE",Pt="persist/REGISTER";function Dt(e){return Dt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(n,!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===Dt(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function jt(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:Tt).concat(e.key),u=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:Ft;var s=e.writeFailHandler||null,c={},l={},f=[],h=null,d=null;function p(){if(0===f.length)return h&&clearInterval(h),void(h=null);var e=f.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===f.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=u.setItem(o,t(l)).catch(y))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function y(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==c[t]&&f.push(t)})),null===h&&(h=setInterval(p,a)),c=e},flush:function(){for(;0!==f.length;)p();return d||Promise.resolve()}}}function Ft(e){return JSON.stringify(e)}function Vt(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:Tt).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:qt,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function qt(e){return JSON.parse(e)}function Bt(e){0}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(n,!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(n,!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt={registry:[],bootstrapped:!1},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return Yt({},e,{registry:[].concat(Gt(e.registry),[t.key])});case At:var n=e.registry.indexOf(t.key),r=Gt(e.registry);return r.splice(n,1),Yt({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function Zt(e,t,n){var r=n||!1,i=St(Xt,Jt,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:Pt,key:e})},o=function(t,n,a){var o={type:At,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&u.getState().bootstrapped&&(r(),r=!1)},u=Yt({},i,{purge:function(){var t=[];return e.dispatch({type:Rt,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:Ct,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:Nt})},persist:function(){e.dispatch({type:Ot,register:a,rehydrate:o})}});return t&&t.manualPersist||u.persist(),u}n(896);var en=function(e){return"@@redux-saga/"+e},tn=en("CANCEL_PROMISE"),nn=en("CHANNEL_END"),rn=en("IO"),an=en("MATCH"),on=en("MULTICAST"),un=en("SAGA_ACTION"),sn=en("SELF_CANCELLATION"),cn=en("TASK"),ln=en("TASK_CANCEL"),fn=en("TERMINATE"),hn=en("LOCATION"),dn=function(e){return null===e||void 0===e},pn=function(e){return null!==e&&void 0!==e},vn=function(e){return"function"===typeof e},yn=function(e){return"string"===typeof e},mn=Array.isArray,gn=function(e){return e&&vn(e.then)},kn=function(e){return e&&vn(e.next)&&vn(e.throw)},bn=function e(t){return t&&(yn(t)||_n(t)||vn(t)||mn(t)&&t.every(e))},wn=function(e){return e&&vn(e.take)&&vn(e.close)},xn=function(e){return vn(e)&&e.hasOwnProperty("toString")},_n=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var En=function(e){return function(){return e}},Sn=En(!0),In=function(){};var Tn=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Cn=function(e,t){o(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function An(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var Nn=function(e){throw e},On=function(e){return{value:e,done:!0}};function Rn(e,t,n){void 0===t&&(t=Nn),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:On,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function Pn(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var Dn=function(e){return Array.apply(null,new Array(e))},Ln=function(e){return function(t){return e(Object.defineProperty(t,un,{value:!0}))}},Mn=function(e){return e===fn},Un=function(e){return e===ln},jn=function(e){return Mn(e)||Un(e)};function Fn(e,t){var n=Object.keys(e),r=n.length;var i,a=0,o=mn(e)?Dn(r):{},u={};return n.forEach((function(e){var n=function(n,u){i||(u||jn(n)?(t.cancel(),t(n,u)):(o[e]=n,++a===r&&(i=!0,t(o))))};n.cancel=In,u[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return u[e].cancel()})))},u}function Vn(e){return{name:e.name||"anonymous",location:qn(e)}}function qn(e){return e[hn]}function Bn(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},u=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},s=function(){for(var e=[];r;)e.push(u());return e};return{isEmpty:function(){return 0==r},put:function(u){var c;if(r<e)o(u);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=u,a=i=(i+1)%e;break;case 4:c=2*e,n=s(),r=n.length,i=n.length,a=0,n.length=c,e=c,o(u)}},take:u,flush:s}}var zn=function(e){return Bn(e,4)},Hn="TAKE",Wn="PUT",Kn="ALL",Gn="CALL",Qn="FORK",Yn="CANCEL",$n=function(e,t){var n;return(n={})[rn]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function Jn(e,t){return void 0===e&&(e="*"),bn(e)?$n(Hn,{pattern:e}):function(e){return wn(e)&&e[on]}(e)&&pn(t)&&bn(t)?$n(Hn,{channel:e,pattern:t}):wn(e)?$n(Hn,{channel:e}):void 0}function Xn(e,t){return dn(t)&&(t=e,e=void 0),$n(Wn,{channel:e,action:t})}function Zn(e){var t=$n(Kn,e);return t.combinator=!0,t}function er(e,t){var n,r=null;return vn(e)?n=e:(mn(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&yn(n)&&vn(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $n(Gn,er(e,n))}function nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $n(Qn,er(e,n))}function rr(e){return void 0===e&&(e=sn),$n(Yn,e)}function ir(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ar=ir,or=[],ur=0;function sr(e){try{fr(),e()}finally{hr()}}function cr(e){or.push(e),ur||(fr(),dr())}function lr(e){try{return fr(),e()}finally{dr()}}function fr(){ur++}function hr(){ur--}function dr(){var e;for(hr();!ur&&void 0!==(e=or.shift());)sr(e)}var pr=function(e){return function(t){return e.some((function(e){return kr(e)(t)}))}},vr=function(e){return function(t){return e(t)}},yr=function(e){return function(t){return t.type===String(e)}},mr=function(e){return function(t){return t.type===e}},gr=function(){return Sn};function kr(e){var t="*"===e?gr:yn(e)?yr:mn(e)?pr:xn(e)?yr:vn(e)?vr:_n(e)?mr:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var br={type:nn},wr=function(e){return e&&e.type===nn};function xr(e){void 0===e&&(e=zn());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(br):e.isEmpty()?(n.push(r),r.cancel=function(){An(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(br):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(br)}}}}}function _r(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(br)}))};return(e={})[on]=!0,e.put=function(e){if(!t)if(wr(e))a();else for(var i=n=r,o=0,u=i.length;o<u;o++){var s=i[o];s[an](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=gr),t?e(br):(e[an]=n,i(),r.push(e),e.cancel=function(e){var t=!1;return function(){t||(t=!0,e())}}((function(){i(),An(r,e)})))},e.close=a,e}(),t=e.put;return e.put=function(e){e[un]?t(e):cr((function(){t(e)}))},e}function Er(e,t){var n=e[tn];vn(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Sr,Ir=0,Tr=function(){return++Ir};function Cr(e){e.isRunning()&&e.cancel()}var Ar=((Sr={}).TAKE=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,u=function(e){e instanceof Error?n(e,!0):!wr(e)||o?n(e):n(fn)};try{i.take(u,pn(a)?kr(a):null)}catch(s){return void n(s,!0)}n.cancel=u.cancel},Sr.PUT=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;cr((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(o){return void n(o,!0)}a&&gn(t)?Er(t,n):n(t)}))},Sr.ALL=function(e,t,n,r){var i=r.digestEffect,a=Ir,o=Object.keys(t);if(0!==o.length){var u=Fn(t,n);o.forEach((function(e){i(t[e],a,u[e],e)}))}else n(mn(t)?[]:{})},Sr.RACE=function(e,t,n,r){var i=r.digestEffect,a=Ir,o=Object.keys(t),u=mn(t)?Dn(o.length):{},s={},c=!1;o.forEach((function(e){var t=function(t,r){c||(r||jn(t)?(n.cancel(),n(t,r)):(n.cancel(),c=!0,u[e]=t,n(u)))};t.cancel=In,s[e]=t})),n.cancel=function(){c||(c=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){c||i(t[e],a,s[e],e)}))},Sr.CALL=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=r.task;try{var s=a.apply(i,o);if(gn(s))return void Er(s,n);if(kn(s))return void Fr(e,s,u.context,Ir,Vn(a),!1,n);n(s)}catch(c){n(c,!0)}},Sr.CPS=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){dn(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}},Sr.FORK=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=t.detached,s=r.task,c=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(kn(i))return i;var a=!1;return Rn((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!gn(i)})}))}catch(o){return Rn((function(){throw o}))}}({context:i,fn:a,args:o}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Vn(t)}(c,a);lr((function(){var t=Fr(e,c,s.context,Ir,l,u,void 0);u?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},Sr.JOIN=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&An(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(mn(t)){if(0===t.length)return void n([]);var o=Fn(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},Sr.CANCEL=function(e,t,n,r){var i=r.task;t===sn?Cr(i):mn(t)?t.forEach(Cr):Cr(t),n()},Sr.SELECT=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(a){n(a,!0)}},Sr.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=xr(t.buffer),a=kr(r),o=function t(n){wr(n)||e.channel.take(t,a),i.put(n)},u=i.close;i.close=function(){o.cancel(),u()},e.channel.take(o,a),n(i)},Sr.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},Sr.FLUSH=function(e,t,n){t.flush(n)},Sr.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},Sr.SET_CONTEXT=function(e,t,n,r){var i=r.task;Cn(i.context,t),n()},Sr);function Nr(e,t){return e+"?"+t}function Or(e){var t=e.name,n=e.location;return n?t+"  "+Nr(n.fileName,n.lineNumber):t}function Rr(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Pr=null,Dr=[],Lr=function(e){e.crashedEffect=Pr,Dr.push(e)},Mr=function(){Pr=null,Dr.length=0},Ur=function(){var e=Dr[0],t=Dr.slice(1),n=e.crashedEffect?function(e){var t=qn(e);return t?t.code+"  "+Nr(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Or(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+Or(e.meta)})),[Rr(Dr)]).join("\n")};function jr(e,t,n,r,i,a,o){var u;void 0===o&&(o=In);var s,c,l=0,f=null,h=[],d=Object.create(n),p=function(e,t,n){var r,i=[],a=!1;function o(e){t(),s(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,s){a||(An(i,t),t.cont=In,s?o(u):(t===e&&(r=u),i.length||(a=!0,n(r))))}}function s(){a||(a=!0,i.forEach((function(e){e.cont=In,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:s,abort:o,getTasks:function(){return i}}}(t,(function(){h.push.apply(h,p.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(l=2,Lr({meta:i,cancelledTasks:h}),y.isRoot){var r=Ur();Mr(),e.onError(t,{sagaStack:r})}c=t,f&&f.reject(t)}else t===ln?l=1:1!==l&&(l=3),s=t,f&&f.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[cn]=!0,u.id=r,u.meta=i,u.isRoot=a,u.context=d,u.joiners=[],u.queue=p,u.cancel=function(){0===l&&(l=1,p.cancelAll(),v(ln,!1))},u.cont=o,u.end=v,u.setContext=function(e){Cn(d,e)},u.toPromise=function(){return f||(f=ar(),2===l?f.reject(c):0!==l&&f.resolve(s)),f.promise},u.isRunning=function(){return 0===l},u.isCancelled=function(){return 1===l||0===l&&1===t.status},u.isAborted=function(){return 2===l},u.result=function(){return s},u.error=function(){return c},u);return y}function Fr(e,t,n,r,i,a,o){var u=e.finalizeRunEffect((function(t,n,r){if(gn(t))Er(t,r);else if(kn(t))Fr(e,t,c.context,n,i,!1,r);else if(t&&t[rn]){(0,Ar[t.type])(e,t.payload,r,l)}else r(t)}));f.cancel=In;var s={meta:i,cancel:function(){0===s.status&&(s.status=1,f(ln))},status:0},c=jr(e,s,n,r,i,a,o),l={task:c,digestEffect:h};return o&&(o.cancel=c.cancel),f(),c;function f(e,n){try{var i;n?(i=t.throw(e),Mr()):Un(e)?(s.status=1,f.cancel(),i=vn(t.return)?t.return(ln):{done:!0,value:ln}):i=Mn(e)?vn(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==s.status&&(s.status=3),s.cont(i.value)):h(i.value,r,f)}catch(a){if(1===s.status)throw a;s.status=2,s.cont(a,!0)}}function h(t,n,r,i){void 0===i&&(i="");var a,o=Tr();function s(n,i){a||(a=!0,r.cancel=In,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&function(e){Pr=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),s.cancel=In,r.cancel=function(){a||(a=!0,s.cancel(),s.cancel=In,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},u(t,o,s)}}function Vr(e,t){var n=e.channel,r=void 0===n?_r():n,i=e.dispatch,a=e.getState,o=e.context,u=void 0===o?{}:o,s=e.sagaMonitor,c=e.effectMiddlewares,l=e.onError,f=void 0===l?Pn:l;for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];var v=t.apply(void 0,d);var y,m=Tr();if(s&&(s.rootSagaStarted=s.rootSagaStarted||In,s.effectTriggered=s.effectTriggered||In,s.effectResolved=s.effectResolved||In,s.effectRejected=s.effectRejected||In,s.effectCancelled=s.effectCancelled||In,s.actionDispatched=s.actionDispatched||In,s.rootSagaStarted({effectId:m,saga:t,args:d})),c){var g=It.apply(void 0,c);y=function(e){return function(t,n,r){return g((function(t){return e(t,n,r)}))(t)}}}else y=Tn;var k={channel:r,dispatch:Ln(i),getState:a,sagaMonitor:s,onError:f,finalizeRunEffect:y};return lr((function(){var e=Fr(k,v,u,m,Vn(t),!0,void 0);return s&&s.effectResolved(m,e),e}))}var qr=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,a=n.channel,u=void 0===a?_r():a,s=n.sagaMonitor,c=W(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,r=e.dispatch;return t=Vr.bind(null,o({},c,{context:i,channel:u,dispatch:r,getState:n,sagaMonitor:s})),function(e){return function(t){s&&s.actionDispatched&&s.actionDispatched(t);var n=e(t);return u.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){Cn(i,e)},l},Br=n(752),zr={SET_CURRENT_USER:"SET_CURRENT_USER",GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",EMAIL_SIGN_IN_START:"EMAIL_SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_OUT_START:"SIGN_OUT_START",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SIGN_OUT_FAILURE:"SIGN_OUT_FAILURE",SIGN_UP_START:"SIGN_UP_START",SIGN_UP_SUCCESS:"SIGN_UP_SUCCESS",SIGN_UP_FAILURE:"SIGN_UP_FAILURE"},Hr={currentUser:null,error:null},Wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zr.SIGN_IN_SUCCESS:return kt(kt({},e),{},{currentUser:t.payload,error:null});case zr.SIGN_OUT_SUCCESS:return kt(kt({},e),{},{currentUser:null,error:null});case zr.SIGN_IN_FAILURE:case zr.SIGN_OUT_FAILURE:case zr.SIGN_UP_FAILURE:return kt(kt({},e),{},{error:t.payload});default:return e}},Kr={TOGGLE_CART_HIDDEN:"TOGGLE_CART_HIDDEN",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",CLEAR_ITEM_FROM_CART:"CLEAR_ITEM_FROM_CART",CLEAR_CART:"CLEAR_CART"};function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Yr(e,t){if(e){if("string"===typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}function $r(e){return function(e){if(Array.isArray(e))return Gr(e)}(e)||Qr(e)||Yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jr=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?kt(kt({},e),{},{quantity:e.quantity+1}):e})):[].concat($r(e),[kt(kt({},t),{},{quantity:1})])},Xr=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?kt(kt({},e),{},{quantity:e.quantity-1}):e}))},Zr={hidden:!0,cartItems:[]},ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kr.TOGGLE_CART_HIDDEN:return kt(kt({},e),{},{hidden:!e.hidden});case Kr.ADD_ITEM:return kt(kt({},e),{},{cartItems:Jr(e.cartItems,t.payload)});case Kr.REMOVE_ITEM:return kt(kt({},e),{},{cartItems:Xr(e.cartItems,t.payload)});case Kr.CLEAR_ITEM_FROM_CART:return kt(kt({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});case Kr.CLEAR_CART:return kt(kt({},e),{},{cartItems:[]});default:return e}},ti={sections:[{title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png",id:1,linkUrl:"shop/hats"},{title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png",id:2,linkUrl:"shop/jackets"},{title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png",id:3,linkUrl:"shop/sneakers"},{title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png",size:"large",id:4,linkUrl:"shop/womens"},{title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png",size:"large",id:5,linkUrl:"shop/mens"}]},ni=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ti,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ri={FETCH_COLLECTIONS_START:"FETCH_COLLECTIONS_START",FETCH_COLLECTIONS_SUCCESS:"FETCH_COLLECTIONS_SUCCESS",FETCH_COLLECTIONS_FAILURE:"FETCH_COLLECTIONS_FAILURE"},ii={collections:null,isFetching:!1,errorMessage:void 0},ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ri.FETCH_COLLECTIONS_START:return kt(kt({},e),{},{isFetching:!0});case ri.FETCH_COLLECTIONS_SUCCESS:return kt(kt({},e),{},{isFetching:!1,collections:t.payload});case ri.FETCH_COLLECTIONS_FAILURE:return kt(kt({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},oi={key:"root",storage:Br.Z,whitelist:["cart"]},ui=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:_t.INIT}))throw new Error(bt(12));if("undefined"===typeof n(void 0,{type:_t.PROBE_UNKNOWN_ACTION()}))throw new Error(bt(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(bt(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:Wr,cart:ei,directory:ni,shop:ai}),si=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?Ut:e.stateReconciler),i=e.getStoredState||Vt,a=void 0!==e.timeout?e.timeout:5e3,o=null,u=!1,s=!0,c=function(e){return e._persist.rehydrated&&o&&!s&&o.update(e),e};return function(l,f){var h=l||{},d=h._persist,p=Kt(h,["_persist"]);if(f.type===Ot){var v=!1,y=function(t,n){v||(f.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),s=!1,o||(o=jt(e)),d)return Ht({},t(p,f),{_persist:d});if("function"!==typeof f.rehydrate||"function"!==typeof f.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){y(e)}),(function(e){y(void 0,e)}))}),(function(e){y(void 0,e)})),Ht({},t(p,f),{_persist:{version:n,rehydrated:!1}})}if(f.type===Rt)return u=!0,f.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:Tt).concat(e.key);return t.removeItem(n,Bt)}(e)),Ht({},t(p,f),{_persist:d});if(f.type===Ct)return f.result(o&&o.flush()),Ht({},t(p,f),{_persist:d});if(f.type===Nt)s=!0;else if(f.type===At){if(u)return Ht({},p,{_persist:Ht({},d,{rehydrated:!0})});if(f.key===e.key){var m=t(p,f),g=f.payload,k=Ht({},!1!==r&&void 0!==g?r(g,l,m,e):m,{_persist:Ht({},d,{rehydrated:!0})});return c(k)}}if(!d)return t(l,f);var b=t(p,f);return b===p?l:c(Ht({},b,{_persist:d}))}}(oi,ui),ci=n(757),li=n.n(ci),fi=function(e){return{done:!0,value:e}},hi={};function di(e){return wn(e)?"channel":xn(e)?String(e):vn(e)?e.name:String(e)}function pi(e,t,n){var r,i,a,o=t;function u(t,n){if(o===hi)return fi(t);if(n&&!i)throw o=hi,n;r&&r(t);var u=n?e[i](n):e[o]();return o=u.nextState,a=u.effect,r=u.stateUpdater,i=u.errorState,o===hi?fi(t):a}return Rn(u,(function(e){return u(null,e)}),n)}function vi(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,u={done:!1,value:Jn(e)},s=function(e){return{done:!1,value:nr.apply(void 0,[t].concat(r,[e]))}},c=function(e){return{done:!1,value:rr(e)}},l=function(e){return a=e},f=function(e){return o=e};return pi({q1:function(){return{nextState:"q2",effect:u,stateUpdater:f}},q2:function(){return a?{nextState:"q3",effect:c(a)}:{nextState:"q1",effect:s(o),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:s(o),stateUpdater:l}}},"q1","takeLatest("+di(e)+", "+t.name+")")}function yi(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return nr.apply(void 0,[vi,e,t].concat(r))}var mi=function(){return{type:Kr.TOGGLE_CART_HIDDEN}},gi=li().mark(wi),ki=li().mark(xi),bi=li().mark(_i);function wi(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn({type:Kr.CLEAR_CART});case 2:case"end":return e.stop()}}),gi)}function xi(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(zr.SIGN_OUT_SUCCESS,wi);case 2:case"end":return e.stop()}}),ki)}function _i(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn([tr(xi)]);case 2:case"end":return e.stop()}}),bi)}function Ei(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Si(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ei(a,r,i,o,u,"next",e)}function u(e){Ei(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ci(e,t,n){return t&&Ti(e.prototype,t),n&&Ti(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ai(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ni(e){if(Array.isArray(e))return e}function Oi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ri(e,t){return Ni(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Yr(e,t)||Oi()}function Pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Di(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function Li(e){return Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Li(e)}function Mi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ui(e){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(e)}function ji(e,t){if(t&&("object"===Ui(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Fi(e){var t=Mi();return function(){var n,r=Li(e);if(t){var i=Li(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ji(this,n)}}function Vi(e,t,n){return Vi=Mi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},Vi.apply(null,arguments)}function qi(e){var t="function"===typeof Map?new Map:void 0;return qi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Vi(e,arguments,Li(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},qi(e)}var Bi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Hi=function(e){return function(e){var t=Bi(e);return zi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wi=function(e){try{return zi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ki(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Gi(n)&&(e[n]=Ki(e[n],t[n]));return e}function Gi(e){return"__proto__"!==e}var Qi=function(){function e(){var t=this;Ii(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ci(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Yi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Hi(JSON.stringify({alg:"none",type:"JWT"})),Hi(JSON.stringify(a)),""].join(".")}function $i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ji(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($i())}function Xi(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Zi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ea(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ta(){var e=$i();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function na(){return"object"===typeof indexedDB}var ra=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Pi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Pi(a),ia.prototype.create),a}return Ci(n)}(qi(Error)),ia=function(){function e(t,n,r){Ii(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ci(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?aa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ra(n,a,t);return o}}]),e}();function aa(e,t){return e.replace(oa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var oa=/\{\$([^}]+)}/g;function ua(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ca(u)&&ca(s)){if(!sa(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ca(e){return null!==e&&"object"===typeof e}function la(e){for(var t=[],n=function(){var e=Ri(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fa(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Ri(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ha(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function da(e,t){var n=new pa(e,t);return n.subscribe.bind(n)}var pa=function(){function e(t,n){var r=this;Ii(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ci(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ai(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=va),void 0===r.error&&(r.error=va),void 0===r.complete&&(r.complete=va);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function va(){}function ya(e){return e&&e._delegate?e._delegate:e}var ma=function(){function e(t,n,r){Ii(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ci(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ga="[DEFAULT]",ka=function(){function e(t,n){Ii(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ci(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Qi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch(s){}var t,n=Ai(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Ri(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Si(ci.mark((function e(){var t;return ci.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat($r(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),$r(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ai(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Ri(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ai(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(jk){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ga?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(jk){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga;return this.component?this.component.multipleInstances?e:ga:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ba,wa,xa=function(){function e(t){Ii(this,e),this.name=t,this.providers=new Map}return Ci(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ka(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),_a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wa||(wa={}));var Ea,Sa,Ia={debug:wa.DEBUG,verbose:wa.VERBOSE,info:wa.INFO,warn:wa.WARN,error:wa.ERROR,silent:wa.SILENT},Ta=wa.INFO,Ca=(mt(ba={},wa.DEBUG,"log"),mt(ba,wa.VERBOSE,"log"),mt(ba,wa.INFO,"info"),mt(ba,wa.WARN,"warn"),mt(ba,wa.ERROR,"error"),ba),Aa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ca[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Na=function(){function e(t){Ii(this,e),this.name=t,this._logLevel=Ta,this._logHandler=Aa,this._userLogHandler=null,_a.push(this)}return Ci(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in wa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ia[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wa.DEBUG].concat(t)),this._logHandler.apply(this,[this,wa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,wa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wa.INFO].concat(t)),this._logHandler.apply(this,[this,wa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wa.WARN].concat(t)),this._logHandler.apply(this,[this,wa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wa.ERROR].concat(t)),this._logHandler.apply(this,[this,wa.ERROR].concat(t))}}]),e}();var Oa=function(){function e(t){Ii(this,e),this.container=t}return Ci(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ra="@firebase/app",Pa="0.7.16",Da=new Na("@firebase/app"),La="[DEFAULT]",Ma=(mt(Ea={},Ra,"fire-core"),mt(Ea,"@firebase/app-compat","fire-core-compat"),mt(Ea,"@firebase/analytics","fire-analytics"),mt(Ea,"@firebase/analytics-compat","fire-analytics-compat"),mt(Ea,"@firebase/app-check","fire-app-check"),mt(Ea,"@firebase/app-check-compat","fire-app-check-compat"),mt(Ea,"@firebase/auth","fire-auth"),mt(Ea,"@firebase/auth-compat","fire-auth-compat"),mt(Ea,"@firebase/database","fire-rtdb"),mt(Ea,"@firebase/database-compat","fire-rtdb-compat"),mt(Ea,"@firebase/functions","fire-fn"),mt(Ea,"@firebase/functions-compat","fire-fn-compat"),mt(Ea,"@firebase/installations","fire-iid"),mt(Ea,"@firebase/installations-compat","fire-iid-compat"),mt(Ea,"@firebase/messaging","fire-fcm"),mt(Ea,"@firebase/messaging-compat","fire-fcm-compat"),mt(Ea,"@firebase/performance","fire-perf"),mt(Ea,"@firebase/performance-compat","fire-perf-compat"),mt(Ea,"@firebase/remote-config","fire-rc"),mt(Ea,"@firebase/remote-config-compat","fire-rc-compat"),mt(Ea,"@firebase/storage","fire-gcs"),mt(Ea,"@firebase/storage-compat","fire-gcs-compat"),mt(Ea,"@firebase/firestore","fire-fst"),mt(Ea,"@firebase/firestore-compat","fire-fst-compat"),mt(Ea,"fire-js","fire-js"),mt(Ea,"firebase","fire-js-all"),Ea),Ua=new Map,ja=new Map;function Fa(e,t){try{e.container.addComponent(t)}catch(n){Da.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Va(e,t){e.container.addOrOverwriteComponent(t)}function qa(e){var t=e.name;if(ja.has(t))return Da.debug("There were multiple attempts to register component ".concat(t,".")),!1;ja.set(t,e);var n,r=Ai(Ua.values());try{for(r.s();!(n=r.n()).done;){Fa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ba(e,t){return e.container.getProvider(t)}function za(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:La;Ba(e,t).clearInstance(n)}function Ha(){ja.clear()}var Wa,Ka,Ga=(mt(Sa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),mt(Sa,"bad-app-name","Illegal App name: '{$appName}"),mt(Sa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),mt(Sa,"app-deleted","Firebase App named '{$appName}' already deleted"),mt(Sa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),mt(Sa,"invalid-log-argument","First argument to `onLog` must be null or a function."),Sa),Qa=new ia("app","Firebase",Ga),Ya=function(){function e(t,n,r){var i=this;Ii(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",(function(){return i}),"PUBLIC"))}return Ci(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}]),e}(),$a="9.6.6";function Ja(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:La,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Qa.create("bad-app-name",{appName:String(i)});var a=Ua.get(i);if(a){if(sa(e,a.options)&&sa(r,a.config))return a;throw Qa.create("duplicate-app",{appName:i})}var o,u=new xa(i),s=Ai(ja.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ya(e,r,u);return Ua.set(i,l),l}function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=Ua.get(e);if(!t)throw Qa.create("no-app",{appName:e});return t}function Za(){return Array.from(Ua.values())}function eo(e){return to.apply(this,arguments)}function to(){return(to=Si(ci.mark((function e(t){var n;return ci.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ua.has(n)){e.next=6;break}return Ua.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t,n){var r,i=null!==(r=Ma[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Da.warn(u.join(" "))}qa(new ma("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ro(e,t){if(null!==e&&"function"!==typeof e)throw Qa.create("invalid-log-argument");!function(e,t){var n,r=Ai(_a);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ia[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:wa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function io(e){var t;t=e,_a.forEach((function(e){e.setLogLevel(t)}))}Wa="",qa(new ma("platform-logger",(function(e){return new Oa(e)}),"PRIVATE")),no(Ra,Pa,Wa),no(Ra,Pa,"esm2017"),no("fire-js","");var ao=function(){function e(t,n){var r=this;Ii(this,e),this._delegate=t,this.firebase=n,Fa(t,new ma("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ci(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),eo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Fa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Va(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),oo=(mt(Ka={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),mt(Ka,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ka),uo=new ia("app-compat","Firebase",oo);var so=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ja(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ua(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:no,setLogLevel:io,onLog:ro,apps:null,SDK_VERSION:$a,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(qa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw uo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ki(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ua(n,e=e||La))throw uo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ao);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ki(n,e)},createSubscribe:da,ErrorFactory:ia,deepExtend:Ki}),n}(),co=new Na("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){co.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var lo=self.firebase.SDK_VERSION;lo&&lo.indexOf("LITE")>=0&&co.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var fo=so;!function(e){no("@firebase/app-compat","0.1.17",e)}();function ho(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Li(e)););return e}function po(){return po="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ho(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},po.apply(this,arguments)}fo.registerVersion("firebase","9.6.6","app-compat");var vo,yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},mo={},go=go||{},ko=yo||self;function bo(){}function wo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _o="closure_uid_"+(1e9*Math.random()>>>0),Eo=0;function So(e,t,n){return e.call.apply(e.bind,arguments)}function Io(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function To(e,t,n){return(To=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?So:Io).apply(null,arguments)}function Co(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ao(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function No(){this.s=this.s,this.o=this.o}var Oo={};No.prototype.s=!1,No.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,_o)&&e[_o]||(e[_o]=++Eo)}(this);delete Oo[e]}},No.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ro=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Po=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Do(e){return Array.prototype.concat.apply([],arguments)}function Lo(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Mo(e){return/^[\s\xa0]*$/.test(e)}var Uo,jo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Fo(e,t){return-1!=e.indexOf(t)}function Vo(e,t){return e<t?-1:e>t?1:0}e:{var qo=ko.navigator;if(qo){var Bo=qo.userAgent;if(Bo){Uo=Bo;break e}}Uo=""}function zo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ho(e){var t={};for(var n in e)t[n]=e[n];return t}var Wo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ko(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Wo.length;a++)n=Wo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Go(e){return Go[" "](e),e}Go[" "]=bo;var Qo,Yo=Fo(Uo,"Opera"),$o=Fo(Uo,"Trident")||Fo(Uo,"MSIE"),Jo=Fo(Uo,"Edge"),Xo=Jo||$o,Zo=Fo(Uo,"Gecko")&&!(Fo(Uo.toLowerCase(),"webkit")&&!Fo(Uo,"Edge"))&&!(Fo(Uo,"Trident")||Fo(Uo,"MSIE"))&&!Fo(Uo,"Edge"),eu=Fo(Uo.toLowerCase(),"webkit")&&!Fo(Uo,"Edge");function tu(){var e=ko.document;return e?e.documentMode:void 0}e:{var nu="",ru=function(){var e=Uo;return Zo?/rv:([^\);]+)(\)|;)/.exec(e):Jo?/Edge\/([\d\.]+)/.exec(e):$o?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):eu?/WebKit\/(\S+)/.exec(e):Yo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ru&&(nu=ru?ru[1]:""),$o){var iu=tu();if(null!=iu&&iu>parseFloat(nu)){Qo=String(iu);break e}}Qo=nu}var au,ou={};function uu(){return function(e){var t=ou;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=jo(String(Qo)).split("."),n=jo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Vo(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Vo(0==a[2].length,0==o[2].length)||Vo(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ko.document&&$o){var su=tu();au=su||(parseInt(Qo,10)||void 0)}else au=void 0;var cu=au,lu=function(){if(!ko.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ko.addEventListener("test",bo,t),ko.removeEventListener("test",bo,t)}catch(n){}return e}();function fu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function hu(e,t){if(fu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zo){e:{try{Go(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:du[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hu.Z.h.call(this)}}fu.prototype.h=function(){this.defaultPrevented=!0},Ao(hu,fu);var du={2:"touch",3:"pen",4:"mouse"};hu.prototype.h=function(){hu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pu="closure_listenable_"+(1e6*Math.random()|0),vu=0;function yu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++vu,this.ca=this.fa=!1}function mu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function gu(e){this.src=e,this.g={},this.h=0}function ku(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ro(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(mu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}gu.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=bu(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new yu(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var wu="closure_lm_"+(1e6*Math.random()|0),xu={};function _u(e,t,n,r,i){if(r&&r.once)return Su(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)_u(e,t[a],n,r,i);return null}return n=Ru(n),e&&e[pu]?e.N(t,n,xo(r)?!!r.capture:!!r,i):Eu(e,t,n,!1,r,i)}function Eu(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=xo(i)?!!i.capture:!!i,u=Nu(e);if(u||(e[wu]=u=new gu(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Au;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)lu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Su(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Su(e,t[a],n,r,i);return null}return n=Ru(n),e&&e[pu]?e.O(t,n,xo(r)?!!r.capture:!!r,i):Eu(e,t,n,!0,r,i)}function Iu(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Iu(e,t[a],n,r,i);else r=xo(r)?!!r.capture:!!r,n=Ru(n),e&&e[pu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bu(a=e.g[t],n,r,i))&&(mu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Nu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bu(t,n,r,i)),(n=-1<e?t[e]:null)&&Tu(n))}function Tu(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[pu])ku(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Nu(t))?(ku(n,e),0==n.h&&(n.src=null,t[wu]=null)):mu(e)}}}function Cu(e){return e in xu?xu[e]:xu[e]="on"+e}function Au(e,t){if(e.ca)e=!0;else{t=new hu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Tu(e),e=n.call(r,t)}return e}function Nu(e){return(e=e[wu])instanceof gu?e:null}var Ou="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ru(e){return"function"===typeof e?e:(e[Ou]||(e[Ou]=function(t){return e.handleEvent(t)}),e[Ou])}function Pu(){No.call(this),this.i=new gu(this),this.P=this,this.I=null}function Du(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new fu(t,e);else if(t instanceof fu)t.target=t.target||e;else{var i=t;Ko(t=new fu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Lu(o,r,!0,t)&&i}if(i=Lu(o=t.g=e,r,!0,t)&&i,i=Lu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Lu(o=t.g=n[a],r,!1,t)&&i}function Lu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ku(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ao(Pu,No),Pu.prototype[pu]=!0,Pu.prototype.removeEventListener=function(e,t,n,r){Iu(this,e,t,n,r)},Pu.prototype.M=function(){if(Pu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mu(n[r]);delete t.g[e],t.h--}}this.I=null},Pu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Pu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Mu=ko.JSON.stringify;function Uu(){var e=Wu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ju,Fu=function(){function e(){Ii(this,e),this.h=this.g=null}return Ci(e,[{key:"add",value:function(e,t){var n=Vu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vu=new(function(){function e(t,n){Ii(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ci(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new qu}),(function(e){return e.reset()})),qu=function(){function e(){Ii(this,e),this.next=this.g=this.h=null}return Ci(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Bu(e){ko.setTimeout((function(){throw e}),0)}function zu(e,t){ju||function(){var e=ko.Promise.resolve(void 0);ju=function(){e.then(Ku)}}(),Hu||(ju(),Hu=!0),Wu.add(e,t)}var Hu=!1,Wu=new Fu;function Ku(){for(var e;e=Uu();){try{e.h.call(e.g)}catch(n){Bu(n)}var t=Vu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hu=!1}function Gu(e,t){Pu.call(this),this.h=e||1,this.g=t||ko,this.j=To(this.kb,this),this.l=Date.now()}function Qu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Yu(e,t,n){if("function"===typeof e)n&&(e=To(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=To(e.handleEvent,e)}return 2147483647<Number(t)?-1:ko.setTimeout(e,t||0)}function $u(e){e.g=Yu((function(){e.g=null,e.i&&(e.i=!1,$u(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ao(Gu,Pu),(vo=Gu.prototype).da=!1,vo.S=null,vo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Du(this,"tick"),this.da&&(Qu(this),this.start()))}},vo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vo.M=function(){Gu.Z.M.call(this),Qu(this),delete this.g};var Ju=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ci(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:$u(this)}},{key:"M",value:function(){po(Li(n.prototype),"M",this).call(this),this.g&&(ko.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(No);function Xu(e){No.call(this),this.h=e,this.g={}}Ao(Xu,No);var Zu=[];function es(e,t,n,r){Array.isArray(n)||(n&&(Zu[0]=n.toString()),n=Zu);for(var i=0;i<n.length;i++){var a=_u(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ts(e){zo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Tu(e)}),e),e.g={}}function ns(){this.g=!0}function rs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Mu(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Xu.prototype.M=function(){Xu.Z.M.call(this),ts(this)},Xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ns.prototype.Aa=function(){this.g=!1},ns.prototype.info=function(){};var is={},as=null;function os(){return as=as||new Pu}function us(e){fu.call(this,is.Ma,e)}function ss(e){var t=os();Du(t,new us(t,e))}function cs(e,t){fu.call(this,is.STAT_EVENT,e),this.stat=t}function ls(e){var t=os();Du(t,new cs(t,e))}function fs(e,t){fu.call(this,is.Na,e),this.size=t}function hs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ko.setTimeout((function(){e()}),t)}is.Ma="serverreachability",Ao(us,fu),is.STAT_EVENT="statevent",Ao(cs,fu),is.Na="timingevent",Ao(fs,fu);var ds={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ps={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vs(){}function ys(e){return e.h||(e.h=e.i())}function ms(){}vs.prototype.h=null;var gs,ks={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bs(){fu.call(this,"d")}function ws(){fu.call(this,"c")}function xs(){}function _s(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xu(this),this.P=Ss,e=Xo?125:void 0,this.W=new Gu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Es}function Es(){this.i=null,this.g="",this.h=!1}Ao(bs,fu),Ao(ws,fu),Ao(xs,vs),xs.prototype.g=function(){return new XMLHttpRequest},xs.prototype.i=function(){return{}},gs=new xs;var Ss=45e3,Is={},Ts={};function Cs(e,t,n){e.K=1,e.v=Js(Ws(t)),e.s=n,e.U=!0,As(e,null)}function As(e,t){e.F=Date.now(),Ps(e),e.A=Ws(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),lc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Es,e.g=hl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ju(To(e.Ia,e,e.g),e.O)),es(e.V,e.g,"readystatechange",e.gb),t=e.H?Ho(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ss(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ns(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Os(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Rs(e,n))==Ts){4==t&&(e.o=4,ls(14),i=!1),rs(e.j,e.m,null,"[Incomplete Response]");break}if(r==Is){e.o=4,ls(15),rs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}rs(e.j,e.m,r,null),js(e,r)}Ns(e)&&r!=Ts&&r!=Is&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ls(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),il(t),t.L=!0,ls(11))):(rs(e.j,e.m,n,"[Invalid Chunked Response]"),Us(e),Ms(e))}function Rs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ts:(n=Number(t.substring(n,r)),isNaN(n)?Is:(r+=1)+n>t.length?Ts:(t=t.substr(r,n),e.C=r+n,t))}function Ps(e){e.Y=Date.now()+e.P,Ds(e,e.P)}function Ds(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=hs(To(e.eb,e),t)}function Ls(e){e.B&&(ko.clearTimeout(e.B),e.B=null)}function Ms(e){0==e.l.G||e.I||ul(e.l,e)}function Us(e){Ls(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Qu(e.W),ts(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function js(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||gc(n.i,e)))if(n.I=e.N,!e.J&&gc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ol(n),Yc(n)}rl(n),ls(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=hs(To(n.ab,n),6e3));if(1>=mc(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else cl(n,11)}else if((e.J||n.g==e)&&ol(n),!Mo(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Fo(l,"spdy")||Fo(l,"quic")||Fo(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(kc(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,$s(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=fl(r,r.H?r.la:null,r.W),d.J){bc(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ls(p),Ps(p)),r.g=d}else nl(r);0<n.l.length&&Xc(n)}else"stop"!=a[0]&&"close"!=a[0]||cl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?cl(n,7):Qc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ss(4)}catch(a){}}function Fs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wo(e)||"string"===typeof e)Po(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(wo(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(wo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Vs(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Vs)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function qs(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Bs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Bs(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Bs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(vo=_s.prototype).setTimeout=function(e){this.P=e},vo.gb=function(e){e=e.target;var t=this.L;t&&3==zc(e)?t.l():this.Ia(e)},vo.Ia=function(e){try{if(e==this.g)e:{var t=zc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Xo||this.g&&(this.h.h||this.g.ga()||Hc(this.g)))){this.I||4!=t||7==n||ss(8==n||0>=r?3:2),Ls(this);var i=this.g.ba();this.N=i;t:if(Ns(this)){var a=Hc(this.g);e="";var o=a.length,u=4==zc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Us(this),Ms(this);var s="";break t}this.h.i=new ko.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mo(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ls(12),Us(this),Ms(this);break e}rs(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,js(this,i)}this.U?(Os(this,t,s),Xo&&this.i&&3==t&&(es(this.V,this.W,"tick",this.fb),this.W.start())):(rs(this.j,this.m,s,null),js(this,s)),4==t&&Us(this),this.i&&!this.I&&(4==t?ul(this.l,this):(this.i=!1,Ps(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ls(12)):(this.o=0,ls(13)),Us(this),Ms(this)}}}catch(t){}},vo.fb=function(){if(this.g){var e=zc(this.g),t=this.g.ga();this.C<t.length&&(Ls(this),Os(this,e,t),this.i&&4!=e&&Ps(this))}},vo.cancel=function(){this.I=!0,Us(this)},vo.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ss(3),ls(17)),Us(this),this.o=2,Ms(this)):Ds(this,this.Y-e)},(vo=Vs.prototype).R=function(){qs(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},vo.T=function(){return qs(this),this.g.concat()},vo.get=function(e,t){return Bs(this.h,e)?this.h[e]:t},vo.set=function(e,t){Bs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},vo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var zs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Hs){this.g=void 0!==t?t:e.g,Ks(this,e.j),this.s=e.s,Gs(this,e.i),Qs(this,e.m),this.l=e.l,t=e.h;var n=new oc;n.i=t.i,t.g&&(n.g=new Vs(t.g),n.h=t.h),Ys(this,n),this.o=e.o}else e&&(n=String(e).match(zs))?(this.g=!!t,Ks(this,n[1]||"",!0),this.s=Xs(n[2]||""),Gs(this,n[3]||"",!0),Qs(this,n[4]),this.l=Xs(n[5]||"",!0),Ys(this,n[6]||"",!0),this.o=Xs(n[7]||"")):(this.g=!!t,this.h=new oc(null,this.g))}function Ws(e){return new Hs(e)}function Ks(e,t,n){e.j=n?Xs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gs(e,t,n){e.i=n?Xs(t,!0):t}function Qs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ys(e,t,n){t instanceof oc?(e.h=t,function(e,t){t&&!e.j&&(uc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sc(this,t),lc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Zs(t,ic)),e.h=new oc(t,e.g))}function $s(e,t,n){e.h.set(t,n)}function Js(e){return $s(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zs(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ec),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ec(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Hs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zs(t,tc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zs(t,tc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zs(n,"/"==n.charAt(0)?rc:nc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zs(n,ac)),e.join("")};var tc=/[#\/\?@]/g,nc=/[#\?:]/g,rc=/[#\?]/g,ic=/[#\?@]/g,ac=/#/g;function oc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function uc(e){e.g||(e.g=new Vs,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sc(e,t){uc(e),t=fc(e,t),Bs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Bs((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&qs(e)))}function cc(e,t){return uc(e),t=fc(e,t),Bs(e.g.h,t)}function lc(e,t,n){sc(e,t),0<n.length&&(e.i=null,e.g.set(fc(e,t),Lo(n)),e.h+=n.length)}function fc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(vo=oc.prototype).add=function(e,t){uc(this),this.i=null,e=fc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},vo.forEach=function(e,t){uc(this),this.g.forEach((function(n,r){Po(n,(function(n){e.call(t,n,r,this)}),this)}),this)},vo.T=function(){uc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},vo.R=function(e){uc(this);var t=[];if("string"===typeof e)cc(this,e)&&(t=Do(t,this.g.get(fc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Do(t,e[n])}return t},vo.set=function(e,t){return uc(this),this.i=null,cc(this,e=fc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},vo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},vo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var hc=Ci((function e(t,n){Ii(this,e),this.h=t,this.g=n}));function dc(e){this.l=e||vc,ko.PerformanceNavigationTiming?e=0<(e=ko.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ko.g&&ko.g.Ea&&ko.g.Ea()&&ko.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pc,vc=10;function yc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mc(e){return e.h?1:e.g?e.g.size:0}function gc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function kc(e,t){e.g?e.g.add(t):e.h=t}function bc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ai(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Lo(e.i)}function xc(){}function _c(){this.g=new xc}function Ec(e,t,n){var r=n||"";try{Fs(e,(function(e,n){var i=e;xo(e)&&(i=Mu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ic(e){this.l=e.$b||null,this.j=e.ib||!1}function Tc(e,t){Pu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Cc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dc.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ai(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},xc.prototype.stringify=function(e){return ko.JSON.stringify(e,void 0)},xc.prototype.parse=function(e){return ko.JSON.parse(e,void 0)},Ao(Ic,vs),Ic.prototype.g=function(){return new Tc(this.l,this.j)},Ic.prototype.i=(pc={},function(){return pc}),Ao(Tc,Pu);var Cc=0;function Ac(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Nc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Oc(e)}function Oc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(vo=Tc.prototype).open=function(e,t){if(this.readyState!=Cc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Oc(this)},vo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ko).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},vo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nc(this)),this.readyState=Cc},vo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Oc(this)),this.g&&(this.readyState=3,Oc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ko.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ac(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},vo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nc(this):Oc(this),3==this.readyState&&Ac(this)}},vo.Ua=function(e){this.g&&(this.response=this.responseText=e,Nc(this))},vo.Ta=function(e){this.g&&(this.response=e,Nc(this))},vo.ha=function(){this.g&&Nc(this)},vo.setRequestHeader=function(e,t){this.v.append(e,t)},vo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},vo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rc=ko.JSON.parse;function Pc(e){Pu.call(this),this.headers=new Vs,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dc,this.K=this.L=!1}Ao(Pc,Pu);var Dc="",Lc=/^https?$/i,Mc=["POST","PUT"];function Uc(e){return"content-type"==e.toLowerCase()}function jc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fc(e),qc(e)}function Fc(e){e.D||(e.D=!0,Du(e,"complete"),Du(e,"error"))}function Vc(e){if(e.h&&"undefined"!=typeof go&&(!e.C[1]||4!=zc(e)||2!=e.ba()))if(e.v&&4==zc(e))Yu(e.Fa,0,e);else if(Du(e,"readystatechange"),4==zc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(zs)[1]||null;if(!a&&ko.self&&ko.self.location){var o=ko.self.location.protocol;a=o.substr(0,o.length-1)}i=!Lc.test(a?a.toLowerCase():"")}t=i}if(t)Du(e,"complete"),Du(e,"success");else{e.m=6;try{var u=2<zc(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Fc(e)}}finally{qc(e)}}}function qc(e,t){if(e.g){Bc(e);var n=e.g,r=e.C[0]?bo:null;e.g=null,e.C=null,t||Du(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Bc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ko.clearTimeout(e.A),e.A=null)}function zc(e){return e.g?e.g.readyState:0}function Hc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Dc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(BN){return null}}function Wc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return zo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$s(e,t,n))}function Kc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gc(e){this.za=0,this.l=[],this.h=new ns,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kc("baseRetryDelayMs",5e3,e),this.$a=Kc("retryDelaySeedMs",1e4,e),this.Ya=Kc("forwardChannelMaxRetries",2,e),this.ra=Kc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new dc(e&&e.concurrentRequestLimit),this.Ca=new _c,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qc(e){if($c(e),3==e.G){var t=e.V++,n=Ws(e.F);$s(n,"SID",e.J),$s(n,"RID",t),$s(n,"TYPE","terminate"),el(e,n),(t=new _s(e,e.h,t,void 0)).K=2,t.v=Js(Ws(n)),n=!1,ko.navigator&&ko.navigator.sendBeacon&&(n=ko.navigator.sendBeacon(t.v.toString(),"")),!n&&ko.Image&&((new Image).src=t.v,n=!0),n||(t.g=hl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ps(t)}ll(e)}function Yc(e){e.g&&(il(e),e.g.cancel(),e.g=null)}function $c(e){Yc(e),e.u&&(ko.clearTimeout(e.u),e.u=null),ol(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ko.clearTimeout(e.m),e.m=null)}function Jc(e,t){e.l.push(new hc(e.Za++,t)),3==e.G&&Xc(e)}function Xc(e){yc(e.i)||e.m||(e.m=!0,zu(e.Ha,e),e.C=0)}function Zc(e,t){var n;n=t?t.m:e.V++;var r=Ws(e.F);$s(r,"SID",e.J),$s(r,"RID",n),$s(r,"AID",e.U),el(e,r),e.o&&e.s&&Wc(r,e.o,e.s),n=new _s(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=tl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),kc(e.i,n),Cs(n,r,t)}function el(e,t){e.j&&Fs({},(function(e,n){$s(t,n,e)}))}function tl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?To(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ec(l,o,"req"+c+"_")}catch(zl){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function nl(e){e.g||e.u||(e.Y=1,zu(e.Ga,e),e.A=0)}function rl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=hs(To(e.Ga,e),sl(e,e.A)),e.A++,!0)}function il(e){null!=e.B&&(ko.clearTimeout(e.B),e.B=null)}function al(e){e.g=new _s(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ws(e.oa);$s(t,"RID","rpc"),$s(t,"SID",e.J),$s(t,"CI",e.N?"0":"1"),$s(t,"AID",e.U),el(e,t),$s(t,"TYPE","xmlhttp"),e.o&&e.s&&Wc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Js(Ws(t)),n.s=null,n.U=!0,As(n,e)}function ol(e){null!=e.v&&(ko.clearTimeout(e.v),e.v=null)}function ul(e,t){var n=null;if(e.g==t){ol(e),il(e),e.g=null;var r=2}else{if(!gc(e.i,t))return;n=t.D,bc(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Du(r=os(),new fs(r,n,t,i)),Xc(e)}else nl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(mc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=hs(To(e.Ha,e,t),sl(e,e.C)),e.C++,!0))}(e,t)||2==r&&rl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:cl(e,5);break;case 4:cl(e,10);break;case 3:cl(e,6);break;default:cl(e,2)}}function sl(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function cl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=To(e.jb,e);n||(n=new Hs("//www.google.com/images/cleardot.gif"),ko.location&&"http"==ko.location.protocol||Ks(n,"https"),Js(n)),function(e,t){var n=new ns;if(ko.Image){var r=new Image;r.onload=Co(Sc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Co(Sc,n,r,"TestLoadImage: error",!1,t),r.onabort=Co(Sc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Co(Sc,n,r,"TestLoadImage: timeout",!1,t),ko.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ls(2);e.G=0,e.j&&e.j.va(t),ll(e),$c(e)}function ll(e){e.G=0,e.I=-1,e.j&&(0==wc(e.i).length&&0==e.l.length||(e.i.i.length=0,Lo(e.l),e.l.length=0),e.j.ua())}function fl(e,t,n){var r=function(e){return e instanceof Hs?Ws(e):new Hs(e,void 0)}(n);if(""!=r.i)t&&Gs(r,t+"."+r.i),Qs(r,r.m);else{var i=ko.location;r=function(e,t,n,r){var i=new Hs(null,void 0);return e&&Ks(i,e),t&&Gs(i,t),n&&Qs(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&zo(e.aa,(function(e,t){$s(r,t,e)})),t=e.D,n=e.sa,t&&n&&$s(r,t,n),$s(r,"VER",e.ma),el(e,r),r}function hl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Pc(new Ic({ib:!0})):new Pc(e.qa)).L=e.H,t}function dl(){}function pl(){if($o&&!(10<=Number(cu)))throw Error("Environmental error: no available transport.")}function vl(e,t){Pu.call(this),this.g=new Gc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Mo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gl(this)}function yl(e){bs.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ml(){ws.call(this),this.status=1}function gl(e){this.g=e}(vo=Pc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gs.g(),this.C=this.u?ys(this.u):ys(gs),this.g.onreadystatechange=To(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void jc(this,a)}e=n||"";var i=new Vs(this.headers);r&&Fs(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Uc,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ko.FormData&&e instanceof ko.FormData,!(0<=Ro(Mc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bc(this),0<this.B&&((this.K=function(e){return $o&&uu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=To(this.pa,this)):this.A=Yu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){jc(this,a)}},vo.pa=function(){"undefined"!=typeof go&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Du(this,"timeout"),this.abort(8))},vo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Du(this,"complete"),Du(this,"abort"),qc(this))},vo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qc(this,!0)),Pc.Z.M.call(this)},vo.Fa=function(){this.s||(this.F||this.v||this.l?Vc(this):this.cb())},vo.cb=function(){Vc(this)},vo.ba=function(){try{return 2<zc(this)?this.g.status:-1}catch(pc){return-1}},vo.ga=function(){try{return this.g?this.g.responseText:""}catch(pc){return""}},vo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rc(t)}},vo.Da=function(){return this.m},vo.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(vo=Gc.prototype).ma=8,vo.G=1,vo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(BN){}},vo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new _s(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ko(n=Ho(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=tl(this,t,r),$s(i=Ws(this.F),"RID",e),$s(i,"CVER",22),this.D&&$s(i,"X-HTTP-Session-Id",this.D),el(this,i),this.o&&n&&Wc(i,this.o,n),kc(this.i,t),this.Ra&&$s(i,"TYPE","init"),this.ja?($s(i,"$req",r),$s(i,"SID","null"),t.$=!0,Cs(t,i,null)):Cs(t,i,r),this.G=2}}else 3==this.G&&(e?Zc(this,e):0==this.l.length||yc(this.i)||Zc(this))},vo.Ga=function(){if(this.u=null,al(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=hs(To(this.bb,this),e)}},vo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ls(10),Yc(this),al(this))},vo.ab=function(){null!=this.v&&(this.v=null,Yc(this),rl(this),ls(19))},vo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ls(2)):(this.h.info("Failed to ping google.com"),ls(1))},(vo=dl.prototype).xa=function(){},vo.wa=function(){},vo.va=function(){},vo.ua=function(){},vo.Oa=function(){},pl.prototype.g=function(e,t){return new vl(e,t)},Ao(vl,Pu),vl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),zu(To(e.hb,e,t))),ls(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fl(e,null,e.W),Xc(e)},vl.prototype.close=function(){Qc(this.g)},vl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Jc(this.g,t)}else this.v?((t={}).__data__=Mu(e),Jc(this.g,t)):Jc(this.g,e)},vl.prototype.M=function(){this.g.j=null,delete this.j,Qc(this.g),delete this.g,vl.Z.M.call(this)},Ao(yl,bs),Ao(ml,ws),Ao(gl,dl),gl.prototype.xa=function(){Du(this.g,"a")},gl.prototype.wa=function(e){Du(this.g,new yl(e))},gl.prototype.va=function(e){Du(this.g,new ml(e))},gl.prototype.ua=function(){Du(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,vl.prototype.send=vl.prototype.u,vl.prototype.open=vl.prototype.m,vl.prototype.close=vl.prototype.close,ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,ps.COMPLETE="complete",ms.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",Pu.prototype.listen=Pu.prototype.N,Pc.prototype.listenOnce=Pc.prototype.O,Pc.prototype.getLastError=Pc.prototype.La,Pc.prototype.getLastErrorCode=Pc.prototype.Da,Pc.prototype.getStatus=Pc.prototype.ba,Pc.prototype.getResponseJson=Pc.prototype.Qa,Pc.prototype.getResponseText=Pc.prototype.ga,Pc.prototype.send=Pc.prototype.ea;var kl=mo.createWebChannelTransport=function(){return new pl},bl=mo.getStatEventTarget=function(){return os()},wl=mo.ErrorCode=ds,xl=mo.EventType=ps,_l=mo.Event=is,El=mo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Sl=mo.FetchXmlHttpFactory=Ic,Il=mo.WebChannel=ms,Tl=mo.XhrIo=Pc,Cl="@firebase/firestore",Al=function(){function e(t){Ii(this,e),this.uid=t}return Ci(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Al.UNAUTHENTICATED=new Al(null),Al.GOOGLE_CREDENTIALS=new Al("google-credentials-uid"),Al.FIRST_PARTY=new Al("first-party-uid"),Al.MOCK_USER=new Al("mock-user");var Nl="9.6.5",Ol=new Na("@firebase/firestore");function Rl(){return Ol.logLevel}function Pl(e){if(Ol.logLevel<=wa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ml);Ol.debug.apply(Ol,["Firestore (".concat(Nl,"): ").concat(e)].concat($r(i)))}}function Dl(e){if(Ol.logLevel<=wa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ml);Ol.error.apply(Ol,["Firestore (".concat(Nl,"): ").concat(e)].concat($r(i)))}}function Ll(e){if(Ol.logLevel<=wa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ml);Ol.warn.apply(Ol,["Firestore (".concat(Nl,"): ").concat(e)].concat($r(i)))}}function Ml(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Nl,") INTERNAL ASSERTION FAILED: ")+e;throw Dl(t),new Error(t)}function jl(e,t){e||Ul()}function Fl(e,t){return e}var Vl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ql=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ci(n)}(ra),Bl=Ci((function e(){var t=this;Ii(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zl=Ci((function e(t,n){Ii(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Hl=function(){function e(){Ii(this,e)}return Ci(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Al.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Wl=function(){function e(t){Ii(this,e),this.token=t,this.changeListener=null}return Ci(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Kl=function(){function e(t){Ii(this,e),this.t=t,this.currentUser=Al.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ci(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Bl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Bl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Pl("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Pl("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Pl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(jl("string"==typeof n.accessToken),new zl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return jl(null===e||"string"==typeof e),new Al(e)}}]),e}(),Gl=Ci((function e(t,n,r){Ii(this,e),this.type="FirstParty",this.user=Al.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ql=function(){function e(t,n,r){Ii(this,e),this.h=t,this.l=n,this.m=r}return Ci(e,[{key:"getToken",value:function(){return Promise.resolve(new Gl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Al.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Yl=Ci((function e(t){Ii(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$l=function(){function e(t){Ii(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Ci(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Pl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Pl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Pl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(jl("string"==typeof e.token),new Yl(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Jl=function(){function e(t,n){var r=this;Ii(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ci(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Xl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Jl.I=-1;var Zl=function(){function e(){Ii(this,e)}return Ci(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ef(e,t){return e<t?-1:e>t?1:0}function tf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function nf(e){return e+"\0"}var rf=function(){function e(t,n){if(Ii(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ql(Vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ql(Vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ql(Vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ql(Vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ci(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ef(this.nanoseconds,e.nanoseconds):ef(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),af=function(){function e(t){Ii(this,e),this.timestamp=t}return Ci(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new rf(0,0))}}]),e}();function of(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var cf=function(){function e(t,n,r){Ii(this,e),void 0===n?n=0:n>t.length&&Ul(),void 0===r?r=t.length-n:r>t.length-n&&Ul(),this.segments=t,this.offset=n,this.len=r}return Ci(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lf=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ql(Vl.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,$r(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cf),ff=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hf=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ff.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ql(Vl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ql(Vl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ql(Vl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ql(Vl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cf),df=function(){function e(t){Ii(this,e),this.fields=t,t.sort(hf.comparator)}return Ci(e,[{key:"covers",value:function(e){var t,n=Ai(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return tf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var pf=function(e){function t(e){Ii(this,t),this.binaryString=e}return Ci(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ef(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();pf.EMPTY_BYTE_STRING=new pf("");var vf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yf(e){if(jl(!!e),"string"==typeof e){var t=0,n=vf.exec(e);if(jl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mf(e.seconds),nanos:mf(e.nanos)}}function mf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gf(e){return"string"==typeof e?pf.fromBase64String(e):pf.fromUint8Array(e)}function kf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bf(e){var t=e.mapValue.fields.__previous_value__;return kf(t)?bf(t):t}function wf(e){var t=yf(e.mapValue.fields.__local_write_time__.timestampValue);return new rf(t.seconds,t.nanos)}function xf(e){return null==e}function _f(e){return 0===e&&1/e==-1/0}function Ef(e){return"number"==typeof e&&Number.isInteger(e)&&!_f(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Sf=function(){function e(t){Ii(this,e),this.path=t}return Ci(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===lf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lf.fromString(t))}},{key:"fromName",value:function(t){return new e(lf.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return lf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lf(t.slice()))}}]),e}();function If(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kf(e)?4:10:Ul()}function Tf(e,t){if(e===t)return!0;var n=If(e);if(n!==If(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wf(e).isEqual(wf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=yf(e.timestampValue),r=yf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gf(e.bytesValue).isEqual(gf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mf(e.geoPointValue.latitude)===mf(t.geoPointValue.latitude)&&mf(e.geoPointValue.longitude)===mf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mf(e.integerValue)===mf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=mf(e.doubleValue),r=mf(t.doubleValue);return n===r?_f(n)===_f(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tf(e.arrayValue.values||[],t.arrayValue.values||[],Tf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(of(n)!==of(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tf(n[i],r[i])))return!1;return!0}(e,t);default:return Ul()}}function Cf(e,t){return void 0!==(e.values||[]).find((function(e){return Tf(e,t)}))}function Af(e,t){if(e===t)return 0;var n=If(e),r=If(t);if(n!==r)return ef(n,r);switch(n){case 0:return 0;case 1:return ef(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=mf(e.integerValue||e.doubleValue),r=mf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Nf(e.timestampValue,t.timestampValue);case 4:return Nf(wf(e),wf(t));case 5:return ef(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gf(e),r=gf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ef(n[i],r[i]);if(0!==a)return a}return ef(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ef(mf(e.latitude),mf(t.latitude));return 0!==n?n:ef(mf(e.longitude),mf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Af(n[i],r[i]);if(a)return a}return ef(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ef(r[o],a[o]);if(0!==u)return u;var s=Af(n[r[o]],i[a[o]]);if(0!==s)return s}return ef(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ul()}}function Nf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ef(e,t);var n=yf(e),r=yf(t),i=ef(n.seconds,r.seconds);return 0!==i?i:ef(n.nanos,r.nanos)}function Of(e){return Rf(e)}function Rf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=yf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Sf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ai(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Rf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ai(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Rf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ul();var t,n}function Pf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Df(e){return!!e&&"integerValue"in e}function Lf(e){return!!e&&"arrayValue"in e}function Mf(e){return!!e&&"nullValue"in e}function Uf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jf(e){return!!e&&"mapValue"in e}function Ff(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ff(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ff(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Vf=function(){function e(t){Ii(this,e),this.value=t}return Ci(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!jf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ff(t)}},{key:"setAll",value:function(e){var t=this,n=hf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ff(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());jf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Tf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];jf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uf(t,(function(t,n){return e[t]=n}));var r,i=Ai(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ff(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function qf(e){var t=[];return uf(e.fields,(function(e,n){var r=new hf([e]);if(jf(n)){var i=qf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ai(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new df(t)}var Bf=function(){function e(t,n,r,i,a){Ii(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Ci(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Vf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Vf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,af.min(),Vf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vf.empty(),2)}}]),e}(),zf=Ci((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ii(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function Hf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new zf(e,t,n,r,i,a,o)}function Wf(e){var t=Fl(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Of(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),xf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ih(t.startAt)),t.endAt&&(n+="|ub:",n+=ih(t.endAt)),t.R=n}return t.R}function Kf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!oh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Tf(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sh(e.startAt,t.startAt)&&sh(e.endAt,t.endAt)}function Gf(e){return Sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Qf=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ci(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Af(t,this.value)):null!==t&&If(this.value)===If(t)&&this.v(Af(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ul()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Yf(e,t,r):"array-contains"===t?new Zf(e,r):"in"===t?new eh(e,r):"not-in"===t?new th(e,r):"array-contains-any"===t?new nh(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new $f(e,n):new Jf(e,n)}}]),n}(function(){return Ci((function e(){Ii(this,e)}))}());var Yf=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this,e,r,i)).key=Sf.fromName(i.referenceValue),a}return Ci(n,[{key:"matches",value:function(e){var t=Sf.comparator(e.key,this.key);return this.v(t)}}]),n}(Qf),$f=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e,"in",r)).keys=Xf("in",r),i}return Ci(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qf),Jf=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e,"not-in",r)).keys=Xf("not-in",r),i}return Ci(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qf);function Xf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Sf.fromName(e.referenceValue)}))}var Zf=function(e){Di(n,e);var t=Fi(n);function n(e,r){return Ii(this,n),t.call(this,e,"array-contains",r)}return Ci(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Lf(t)&&Cf(t.arrayValue,this.value)}}]),n}(Qf),eh=function(e){Di(n,e);var t=Fi(n);function n(e,r){return Ii(this,n),t.call(this,e,"in",r)}return Ci(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Cf(this.value.arrayValue,t)}}]),n}(Qf),th=function(e){Di(n,e);var t=Fi(n);function n(e,r){return Ii(this,n),t.call(this,e,"not-in",r)}return Ci(n,[{key:"matches",value:function(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Cf(this.value.arrayValue,t)}}]),n}(Qf),nh=function(e){Di(n,e);var t=Fi(n);function n(e,r){return Ii(this,n),t.call(this,e,"array-contains-any",r)}return Ci(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Lf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Cf(t.value.arrayValue,e)}))}}]),n}(Qf),rh=Ci((function e(t,n){Ii(this,e),this.position=t,this.before=n}));function ih(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Of(e)})).join(","))}var ah=Ci((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ii(this,e),this.field=t,this.dir=n}));function oh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Sf.comparator(Sf.fromName(o.referenceValue),n.key):Af(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function sh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Tf(e.position[n],t.position[n]))return!1;return!0}var ch=Ci((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ii(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function lh(e,t,n,r,i,a,o,u){return new ch(e,t,n,r,i,a,o,u)}function fh(e){return new ch(e)}function hh(e){return!xf(e.limit)&&"F"===e.limitType}function dh(e){return!xf(e.limit)&&"L"===e.limitType}function ph(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vh(e){var t,n=Ai(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function yh(e){return null!==e.collectionGroup}function mh(e){var t=Fl(e);if(null===t.S){t.S=[];var n=vh(t),r=ph(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new ah(n)),t.S.push(new ah(hf.keyField(),"asc"));else{var i,a=!1,o=Ai(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new ah(hf.keyField(),s))}}}return t.S}function gh(e){var t=Fl(e);if(!t.D)if("F"===t.limitType)t.D=Hf(t.path,t.collectionGroup,mh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ai(mh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ah(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new rh(t.endAt.position,!t.endAt.before):null,s=t.startAt?new rh(t.startAt.position,!t.startAt.before):null;t.D=Hf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function kh(e,t,n){return new ch(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bh(e,t){return Kf(gh(e),gh(t))&&e.limitType===t.limitType}function wh(e){return"".concat(Wf(gh(e)),"|lt:").concat(e.limitType)}function xh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Of(t.value));var t})).join(", "),"]")),xf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+ih(e.startAt)),e.endAt&&(t+=", endAt: "+ih(e.endAt)),"Target(".concat(t,")")}(gh(e)),"; limitType=").concat(e.limitType,")")}function _h(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ai(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ai(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!uh(e.startAt,mh(e),t))&&(!e.endAt||!uh(e.endAt,mh(e),t))}(e,t)}function Eh(e){return function(t,n){var r,i=!1,a=Ai(mh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Sh(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Sh(e,t,n){var r=e.field.isKeyField()?Sf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Af(r,i):Ul()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ul()}}function Ih(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(t)?"-0":t}}function Th(e){return{integerValue:""+e}}function Ch(e,t){return Ef(t)?Th(t):Ih(e,t)}var Ah=Ci((function e(){Ii(this,e),this._=void 0}));function Nh(e,t,n){return e instanceof Ph?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dh?Lh(e,t):e instanceof Mh?Uh(e,t):function(e,t){var n=Rh(e,t),r=Fh(n)+Fh(e.N);return Df(n)&&Df(e.N)?Th(r):Ih(e.k,r)}(e,t)}function Oh(e,t,n){return e instanceof Dh?Lh(e,t):e instanceof Mh?Uh(e,t):n}function Rh(e,t){return e instanceof jh?Df(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ph=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n)}(Ah),Dh=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this)).elements=e,r}return Ci(n)}(Ah);function Lh(e,t){var n,r=Vh(t),i=Ai(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Tf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mh=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this)).elements=e,r}return Ci(n)}(Ah);function Uh(e,t){var n,r=Vh(t),i=Ai(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Tf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jh=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this)).k=e,i.N=r,i}return Ci(n)}(Ah);function Fh(e){return mf(e.integerValue||e.doubleValue)}function Vh(e){return Lf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var qh=Ci((function e(t,n){Ii(this,e),this.field=t,this.transform=n}));var Bh=Ci((function e(t,n){Ii(this,e),this.version=t,this.transformResults=n})),zh=function(){function e(t,n){Ii(this,e),this.updateTime=t,this.exists=n}return Ci(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Hh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Wh=Ci((function e(){Ii(this,e)}));function Kh(e,t,n){e instanceof Jh?function(e,t,n){var r=e.value.clone(),i=ed(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xh?function(e,t,n){if(Hh(e.precondition,t)){var r=ed(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gh(e,t,n){e instanceof Jh?function(e,t,n){if(Hh(e.precondition,t)){var r=e.value.clone(),i=td(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($h(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Xh?function(e,t,n){if(Hh(e.precondition,t)){var r=td(e.fieldTransforms,n,t),i=t.data;i.setAll(Zh(e)),i.setAll(r),t.convertToFoundDocument($h(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Hh(e.precondition,t)&&t.convertToNoDocument(af.min())}(e,t)}function Qh(e,t){var n,r=null,i=Ai(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Rh(a.transform,o||null);null!=u&&(null==r&&(r=Vf.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Yh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&tf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dh&&t instanceof Dh||e instanceof Mh&&t instanceof Mh?tf(e.elements,t.elements,Tf):e instanceof jh&&t instanceof jh?Tf(e.N,t.N):e instanceof Ph&&t instanceof Ph}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function $h(e){return e.isFoundDocument()?e.version:af.min()}var Jh=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ii(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ci(n)}(Wh),Xh=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ii(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ci(n)}(Wh);function Zh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ed(e,t,n){var r=new Map;jl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Oh(o,u,n[i]))}return r}function td(e,t,n){var r,i=new Map,a=Ai(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Nh(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var nd,rd,id=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ci(n)}(Wh),ad=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ci(n)}(Wh),od=Ci((function e(t){Ii(this,e),this.count=t}));function ud(e){switch(e){default:return Ul();case Vl.CANCELLED:case Vl.UNKNOWN:case Vl.DEADLINE_EXCEEDED:case Vl.RESOURCE_EXHAUSTED:case Vl.INTERNAL:case Vl.UNAVAILABLE:case Vl.UNAUTHENTICATED:return!1;case Vl.INVALID_ARGUMENT:case Vl.NOT_FOUND:case Vl.ALREADY_EXISTS:case Vl.PERMISSION_DENIED:case Vl.FAILED_PRECONDITION:case Vl.ABORTED:case Vl.OUT_OF_RANGE:case Vl.UNIMPLEMENTED:case Vl.DATA_LOSS:return!0}}function sd(e){if(void 0===e)return Dl("GRPC error has no .code"),Vl.UNKNOWN;switch(e){case nd.OK:return Vl.OK;case nd.CANCELLED:return Vl.CANCELLED;case nd.UNKNOWN:return Vl.UNKNOWN;case nd.DEADLINE_EXCEEDED:return Vl.DEADLINE_EXCEEDED;case nd.RESOURCE_EXHAUSTED:return Vl.RESOURCE_EXHAUSTED;case nd.INTERNAL:return Vl.INTERNAL;case nd.UNAVAILABLE:return Vl.UNAVAILABLE;case nd.UNAUTHENTICATED:return Vl.UNAUTHENTICATED;case nd.INVALID_ARGUMENT:return Vl.INVALID_ARGUMENT;case nd.NOT_FOUND:return Vl.NOT_FOUND;case nd.ALREADY_EXISTS:return Vl.ALREADY_EXISTS;case nd.PERMISSION_DENIED:return Vl.PERMISSION_DENIED;case nd.FAILED_PRECONDITION:return Vl.FAILED_PRECONDITION;case nd.ABORTED:return Vl.ABORTED;case nd.OUT_OF_RANGE:return Vl.OUT_OF_RANGE;case nd.UNIMPLEMENTED:return Vl.UNIMPLEMENTED;case nd.DATA_LOSS:return Vl.DATA_LOSS;default:return Ul()}}(rd=nd||(nd={}))[rd.OK=0]="OK",rd[rd.CANCELLED=1]="CANCELLED",rd[rd.UNKNOWN=2]="UNKNOWN",rd[rd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rd[rd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rd[rd.NOT_FOUND=5]="NOT_FOUND",rd[rd.ALREADY_EXISTS=6]="ALREADY_EXISTS",rd[rd.PERMISSION_DENIED=7]="PERMISSION_DENIED",rd[rd.UNAUTHENTICATED=16]="UNAUTHENTICATED",rd[rd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rd[rd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rd[rd.ABORTED=10]="ABORTED",rd[rd.OUT_OF_RANGE=11]="OUT_OF_RANGE",rd[rd.UNIMPLEMENTED=12]="UNIMPLEMENTED",rd[rd.INTERNAL=13]="INTERNAL",rd[rd.UNAVAILABLE=14]="UNAVAILABLE",rd[rd.DATA_LOSS=15]="DATA_LOSS";var cd=function(){function e(t,n){Ii(this,e),this.comparator=t,this.root=n||fd.EMPTY}return Ci(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ld(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ld(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ld(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ld(this.root,e,this.comparator,!0)}}]),e}(),ld=function(){function e(t,n,r,i){Ii(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ci(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),fd=function(){function e(t,n,r,i,a){Ii(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ci(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ul();if(this.right.isRed())throw Ul();var e=this.left.check();if(e!==this.right.check())throw Ul();return e+(this.isRed()?0:1)}}]),e}();fd.EMPTY=null,fd.RED=!0,fd.BLACK=!1,fd.EMPTY=new(function(){function e(){Ii(this,e),this.size=0}return Ci(e,[{key:"key",get:function(){throw Ul()}},{key:"value",get:function(){throw Ul()}},{key:"color",get:function(){throw Ul()}},{key:"left",get:function(){throw Ul()}},{key:"right",get:function(){throw Ul()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new fd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var hd=function(){function e(t){Ii(this,e),this.comparator=t,this.data=new cd(this.comparator)}return Ci(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dd(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dd(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dd=function(){function e(t){Ii(this,e),this.iter=t}return Ci(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),pd=new cd(Sf.comparator);function vd(){return pd}var yd=new cd(Sf.comparator);function md(){return yd}var gd=new cd(Sf.comparator);function kd(){return gd}var bd=new hd(Sf.comparator);function wd(){for(var e=bd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xd=new hd(ef);function _d(){return xd}var Ed=function(){function e(t,n,r,i,a){Ii(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ci(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Sd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(af.min(),r,_d(),vd(),wd())}}]),e}(),Sd=function(){function e(t,n,r,i,a){Ii(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ci(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(pf.EMPTY_BYTE_STRING,n,wd(),wd(),wd())}}]),e}(),Id=Ci((function e(t,n,r,i){Ii(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Td=Ci((function e(t,n){Ii(this,e),this.targetId=t,this.M=n})),Cd=Ci((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ii(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ad=function(){function e(){Ii(this,e),this.F=0,this.L=Rd(),this.B=pf.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Ci(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=wd(),t=wd(),n=wd();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ul()}})),new Sd(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Rd()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Nd=function(){function e(t){Ii(this,e),this.et=t,this.nt=new Map,this.st=vd(),this.it=Od(),this.rt=new hd(ef)}return Ci(e,[{key:"ot",value:function(e){var t,n=Ai(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ai(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Ul()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Gf(i))if(0===n){var a=new Sf(i.path);this.at(t,a,Bf.newNoDocument(a,af.min()))}else jl(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Gf(a.target)){var o=new Sf(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Bf.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=wd();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ed(e,n,this.rt,this.st,r);return this.st=vd(),this.it=Od(),this.rt=new hd(ef),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Ad,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new hd(ef),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Pl("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Ad),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Od(){return new cd(Sf.comparator)}function Rd(){return new cd(Sf.comparator)}var Pd={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ld=Ci((function e(t,n){Ii(this,e),this.databaseId=t,this.C=n}));function Md(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ud(e,t){return e.C?t.toBase64():t.toUint8Array()}function jd(e,t){return Md(e,t.toTimestamp())}function Fd(e){return jl(!!e),af.fromTimestamp(function(e){var t=yf(e);return new rf(t.seconds,t.nanos)}(e))}function Vd(e,t){return function(e){return new lf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qd(e){var t=lf.fromString(e);return jl(hp(t)),t}function Bd(e,t){return Vd(e.databaseId,t.path)}function zd(e,t){var n=qd(t);if(n.get(1)!==e.databaseId.projectId)throw new ql(Vl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ql(Vl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sf(Gd(n))}function Hd(e,t){return Vd(e.databaseId,t)}function Wd(e){var t=qd(e);return 4===t.length?lf.emptyPath():Gd(t)}function Kd(e){return new lf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gd(e){return jl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qd(e,t,n){return{name:Bd(e,t),fields:n.value.mapValue.fields}}function Yd(e,t,n){var r=zd(e,t.name),i=Fd(t.updateTime),a=new Vf({mapValue:{fields:t.fields}}),o=Bf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $d(e,t){return"found"in t?function(e,t){jl(!!t.found),t.found.name,t.found.updateTime;var n=zd(e,t.found.name),r=Fd(t.found.updateTime),i=new Vf({mapValue:{fields:t.found.fields}});return Bf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){jl(!!t.missing),jl(!!t.readTime);var n=zd(e,t.missing),r=Fd(t.readTime);return Bf.newNoDocument(n,r)}(e,t):Ul()}function Jd(e,t){var n;if(t instanceof Jh)n={update:Qd(e,t.key,t.value)};else if(t instanceof id)n={delete:Bd(e,t.key)};else if(t instanceof Xh)n={update:Qd(e,t.key,t.data),updateMask:fp(t.fieldMask)};else{if(!(t instanceof ad))return Ul();n={verify:Bd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ph)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jh)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Ul()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ul()}(e,t.precondition)),n}function Xd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?zh.updateTime(Fd(e.updateTime)):void 0!==e.exists?zh.exists(e.exists):zh.none()}(t.currentDocument):zh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)jl("REQUEST_TIME"===t.setToServerValue),n=new Ph;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Dh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Mh(i)}else"increment"in t?n=new jh(e,t.increment):Ul();var a=hf.fromServerFormat(t.fieldPath);return new qh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zd(e,t.update.name),a=new Vf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new df(t.map((function(e){return hf.fromServerFormat(e)})))}(t.updateMask);return new Xh(i,a,o,n,r)}return new Jh(i,a,n,r)}if(t.delete){var u=zd(e,t.delete);return new id(u,n)}if(t.verify){var s=zd(e,t.verify);return new ad(s,n)}return Ul()}function Zd(e,t){return{documents:[Hd(e,t.path)]}}function ep(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Hd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Uf(e.value))return{unaryFilter:{field:up(e.field),op:"IS_NAN"}};if(Mf(e.value))return{unaryFilter:{field:up(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uf(e.value))return{unaryFilter:{field:up(e.field),op:"IS_NOT_NAN"}};if(Mf(e.value))return{unaryFilter:{field:up(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:up(e.field),op:op(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:up(e.field),direction:ap(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||xf(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=rp(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rp(t.endAt)),n}function tp(e){var t=Wd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=np(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ah(sp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return xf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=ip(n.startAt));var l=null;return n.endAt&&(l=ip(n.endAt)),lh(t,i,u,o,s,"F",c,l)}function np(e){return e?void 0!==e.unaryFilter?[lp(e)]:void 0!==e.fieldFilter?[cp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return np(e)})).reduce((function(e,t){return e.concat(t)})):Ul():[]}function rp(e){return{before:e.before,values:e.position}}function ip(e){var t=!!e.before,n=e.values||[];return new rh(n,t)}function ap(e){return Pd[e]}function op(e){return Dd[e]}function up(e){return{fieldPath:e.canonicalString()}}function sp(e){return hf.fromServerFormat(e.fieldPath)}function cp(e){return Qf.create(sp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ul()}}(e.fieldFilter.op),e.fieldFilter.value)}function lp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=sp(e.unaryFilter.field);return Qf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=sp(e.unaryFilter.field);return Qf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sp(e.unaryFilter.field);return Qf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sp(e.unaryFilter.field);return Qf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ul()}}function fp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function dp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vp(t)),t=pp(e.get(n),t);return vp(t)}function pp(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function vp(e){return e+"\x01\x01"}function yp(e){var t=e.length;if(jl(t>=2),2===t)return jl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ul(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ul()}a=o+2}return new lf(r)}var mp=Ci((function e(t,n){Ii(this,e),this.seconds=t,this.nanoseconds=n})),gp=Ci((function e(t,n,r){Ii(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));gp.store="owner",gp.key="owner";var kp=Ci((function e(t,n,r){Ii(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));kp.store="mutationQueues",kp.keyPath="userId";var bp=Ci((function e(t,n,r,i,a){Ii(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));bp.store="mutations",bp.keyPath="batchId",bp.userMutationsIndex="userMutationsIndex",bp.userMutationsKeyPath=["userId","batchId"];var wp=function(){function e(){Ii(this,e)}return Ci(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,dp(t)]}},{key:"key",value:function(e,t,n){return[e,dp(t),n]}}]),e}();wp.store="documentMutations",wp.PLACEHOLDER=new wp;var xp=Ci((function e(t,n){Ii(this,e),this.path=t,this.readTime=n})),_p=Ci((function e(t,n){Ii(this,e),this.path=t,this.version=n})),Ep=Ci((function e(t,n,r,i,a,o){Ii(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Ep.store="remoteDocuments",Ep.readTimeIndex="readTimeIndex",Ep.readTimeIndexPath="readTime",Ep.collectionReadTimeIndex="collectionReadTimeIndex",Ep.collectionReadTimeIndexPath=["parentPath","readTime"];var Sp=Ci((function e(t){Ii(this,e),this.byteSize=t}));Sp.store="remoteDocumentGlobal",Sp.key="remoteDocumentGlobalKey";var Ip=Ci((function e(t,n,r,i,a,o,u){Ii(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Ip.store="targets",Ip.keyPath="targetId",Ip.queryTargetsIndexName="queryTargetsIndex",Ip.queryTargetsKeyPath=["canonicalId","targetId"];var Tp=Ci((function e(t,n,r){Ii(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Tp.store="targetDocuments",Tp.keyPath=["targetId","path"],Tp.documentTargetsIndex="documentTargetsIndex",Tp.documentTargetsKeyPath=["path","targetId"];var Cp=Ci((function e(t,n,r,i){Ii(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Cp.key="targetGlobalKey",Cp.store="targetGlobal";var Ap=Ci((function e(t,n){Ii(this,e),this.collectionId=t,this.parent=n}));Ap.store="collectionParents",Ap.keyPath=["collectionId","parent"];var Np=Ci((function e(t,n,r,i){Ii(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Np.store="clientMetadata",Np.keyPath="clientId";var Op=Ci((function e(t,n,r){Ii(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Op.store="bundles",Op.keyPath="bundleId";var Rp=Ci((function e(t,n,r){Ii(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Rp.store="namedQueries",Rp.keyPath="name";var Pp=[kp.store,bp.store,wp.store,Ep.store,Ip.store,gp.store,Cp.store,Tp.store].concat([Np.store]).concat([Sp.store]).concat([Ap.store]).concat([Op.store,Rp.store]),Dp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lp=function(){function e(){Ii(this,e),this.onCommittedListeners=[]}return Ci(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Mp=function(){function e(t){var n=this;Ii(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ci(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ul(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ai(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Up=function(){function e(t,n){var r=this;Ii(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Bl,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Vp(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Wp(e.target.error);r.It.reject(new Vp(t,n))}}return Ci(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Pl("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Bp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Vp(n,t)}}}]),e}(),jp=function(){function e(t,n,r){Ii(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt($i())&&Dl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ci(e,[{key:"Ct",value:function(){var e=Si(li().mark((function e(t){var n=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Pl("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Vp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ql(Vl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ql(Vl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Vp(t,n))},i.onupgradeneeded=function(e){Pl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Pl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Si(li().mark((function e(t,n,r,i){var a,o,u,s,c=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(li().mark((function e(){var n,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Up.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Mp.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Pl("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Pl("SimpleDb","Removing database:",e),zp(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!na())return!1;if(e.vt())return!0;var t=$i(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Fp=function(){function e(t){Ii(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Ci(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return zp(this.$t.delete())}}]),e}(),Vp=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,Vl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ci(n)}(ql);function qp(e){return"IndexedDbTransactionError"===e.name}var Bp=function(){function e(t){Ii(this,e),this.store=t}return Ci(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Pl("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pl("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zp(n)}},{key:"add",value:function(e){return Pl("SimpleDb","ADD",this.store.name,e,e),zp(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pl("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Pl("SimpleDb","DELETE",this.store.name,e),zp(this.store.delete(e))}},{key:"count",value:function(){return Pl("SimpleDb","COUNT",this.store.name),zp(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Pl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Mp((function(n,r){t.onerror=function(e){var t=Wp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Mp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Fp(i),o=t(i.primaryKey,i.value,a);if(o instanceof Mp){var u=o.catch((function(e){return a.done(),Mp.reject(e)}));n.push(u)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return Mp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zp(e){return new Mp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Wp(e.target.error);n(t)}}))}var Hp=!1;function Wp(e){var t=jp.bt($i());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ql("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hp||(Hp=!0,setTimeout((function(){throw r}),0)),r}}return e}var Kp=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Ci(n)}(Lp);function Gp(e,t){var n=Fl(e);return jp.Dt(n.Wt,t)}var Qp=function(){function e(t,n,r,i){Ii(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ci(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Kh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ai(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Gh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ai(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Gh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(af.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(function(e,t){return Yh(e,t)}))&&tf(this.baseMutations,e.baseMutations,(function(e,t){return Yh(e,t)}))}}]),e}(),Yp=function(){function e(t,n,r,i){Ii(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ci(e,null,[{key:"from",value:function(t,n,r){jl(t.mutations.length===r.length);for(var i=kd(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),$p=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:af.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:af.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pf.EMPTY_BYTE_STRING;Ii(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ci(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Jp=Ci((function e(t){Ii(this,e),this.Gt=t}));function Xp(e,t){if(t.document)return Yd(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Sf.fromSegments(t.noDocument.path),r=rv(t.noDocument.readTime),i=Bf.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Sf.fromSegments(t.unknownDocument.path),o=rv(t.unknownDocument.version);return Bf.newUnknownDocument(a,o)}return Ul()}function Zp(e,t,n){var r=ev(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Bd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Md(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Ep(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=nv(t.version),c=t.hasCommittedMutations;return new Ep(null,new xp(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=nv(t.version);return new Ep(new _p(l,f),null,null,!0,r,i)}return Ul()}function ev(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tv(e){var t=new rf(e[0],e[1]);return af.fromTimestamp(t)}function nv(e){var t=e.toTimestamp();return new mp(t.seconds,t.nanoseconds)}function rv(e){var t=new rf(e.seconds,e.nanoseconds);return af.fromTimestamp(t)}function iv(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Xd(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Xd(e.Gt,t)})),u=rf.fromMillis(t.localWriteTimeMs);return new Qp(t.batchId,u,n,o)}function av(e){var t,n,r=rv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?rv(e.lastLimboFreeSnapshotVersion):af.min();return void 0!==e.query.documents?(jl(1===(n=e.query).documents.length),t=gh(fh(Wd(n.documents[0])))):t=function(e){return gh(tp(e))}(e.query),new $p(t,e.targetId,0,e.lastListenSequenceNumber,r,i,pf.fromBase64String(e.resumeToken))}function ov(e,t){var n,r=nv(t.snapshotVersion),i=nv(t.lastLimboFreeSnapshotVersion);n=Gf(t.target)?Zd(e.Gt,t.target):ep(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Ip(t.targetId,Wf(t.target),r,a,t.sequenceNumber,i,n)}function uv(e){var t=tp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kh(t,t.limit,"L"):t}var sv=function(){function e(){Ii(this,e)}return Ci(e,[{key:"getBundleMetadata",value:function(e,t){return cv(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:rv(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return cv(e).put({bundleId:(n=t).id,createTime:nv(Fd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return lv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:uv(t.bundledQuery),readTime:rv(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return lv(e).put(function(e){return{name:e.name,readTime:nv(Fd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function cv(e){return Gp(e,Op.store)}function lv(e){return Gp(e,Rp.store)}var fv=function(){function e(){Ii(this,e),this.zt=new hv}return Ci(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Mp.resolve()}},{key:"getCollectionParents",value:function(e,t){return Mp.resolve(this.zt.getEntries(t))}}]),e}(),hv=function(){function e(){Ii(this,e),this.index={}}return Ci(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hd(lf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new hd(lf.comparator)).toArray()}}]),e}(),dv=function(){function e(){Ii(this,e),this.Ht=new hv}return Ci(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:dp(i)};return pv(e).put(a)}return Mp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[nf(t),""],!1,!0);return pv(e).Bt(r).next((function(e){var r,i=Ai(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(yp(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function pv(e){return Gp(e,Ap.store)}var vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yv=function(){function e(t,n,r){Ii(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ci(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function mv(e,t,n){var r=e.store(bp.store),i=e.store(wp.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){jl(1===u)})));var c,l=[],f=Ai(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=wp.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Mp.waitFor(a).next((function(){return l}))}function gv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ul();t=e.noDocument}return JSON.stringify(t).length}yv.DEFAULT_COLLECTION_PERCENTILE=10,yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yv.DEFAULT=new yv(41943040,yv.DEFAULT_COLLECTION_PERCENTILE,yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yv.DISABLED=new yv(-1,0,0);var kv=function(){function e(t,n,r,i){Ii(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Ci(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wv(e).jt({index:bp.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=xv(e),o=wv(e);return o.add({}).next((function(u){jl("number"==typeof u);var s,c=new Qp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Jd(e.Gt,t)})),i=n.mutations.map((function(t){return Jd(e.Gt,t)}));return new bp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new hd((function(e,t){return ef(e.canonicalString(),t.canonicalString())})),d=Ai(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=wp.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,wp.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),Mp.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return wv(e).get(t).next((function(e){return e?(jl(e.userId===n.userId),iv(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Mp.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return wv(e).jt({index:bp.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(jl(t.batchId>=r),a=iv(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wv(e).jt({index:bp.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wv(e).Bt(bp.userMutationsIndex,n).next((function(e){return e.map((function(e){return iv(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=wp.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return xv(e).jt({range:i},(function(r,i,o){var u=Ri(r,3),s=u[0],c=u[1],l=u[2],f=yp(c);if(s===n.userId&&t.path.isEqual(f))return wv(e).get(l).next((function(e){if(!e)throw Ul();jl(e.userId===n.userId),a.push(iv(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hd(ef),i=[];return t.forEach((function(t){var a=wp.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=xv(e).jt({range:o},(function(e,i,a){var o=Ri(e,3),u=o[0],s=o[1],c=o[2],l=yp(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Mp.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=wp.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new hd(ef);return xv(e).jt({range:o},(function(e,t,a){var o=Ri(e,3),s=o[0],c=o[1],l=o[2],f=yp(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(wv(e).get(t).next((function(e){if(null===e)throw Ul();jl(e.userId===n.userId),r.push(iv(n.k,e))})))})),Mp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return mv(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Mp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Mp.resolve();var r=IDBKeyRange.lowerBound(wp.prefixForUser(t.userId)),i=[];return xv(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=yp(e[1]);i.push(a)}else r.done()})).next((function(){jl(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bv(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return _v(e).get(this.userId).next((function(e){return e||new kp(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return jl(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bv(e,t,n){var r=wp.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return xv(e).jt({range:a,Kt:!0},(function(e,n,r){var a=Ri(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function wv(e){return Gp(e,bp.store)}function xv(e){return Gp(e,wp.store)}function _v(e){return Gp(e,kp.store)}var Ev=function(){function e(t){Ii(this,e),this.se=t}return Ci(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Sv=function(){function e(t,n){Ii(this,e),this.referenceDelegate=t,this.k=n}return Ci(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Ev(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return af.fromTimestamp(new rf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Iv(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return jl(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Iv(e).jt((function(o,u){var s=av(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Mp.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Iv(e).jt((function(e,n){var r=av(n);t(r)}))}},{key:"oe",value:function(e){return Tv(e).get(Cp.key).next((function(e){return jl(null!==e),e}))}},{key:"ce",value:function(e,t){return Tv(e).put(Cp.key,t)}},{key:"ae",value:function(e,t){return Iv(e).put(ov(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Wf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Iv(e).jt({range:r,index:Ip.queryTargetsIndexName},(function(e,n,r){var a=av(n);Kf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Cv(e);return t.forEach((function(t){var o=dp(t.path);i.push(a.put(new Tp(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Mp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Cv(e);return Mp.forEach(t,(function(t){var a=dp(t.path);return Mp.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Cv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Cv(e),i=wd();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=yp(e[1]),a=new Sf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=dp(t.path),r=IDBKeyRange.bound([n],[nf(n)],!1,!0),i=0;return Cv(e).jt({index:Tp.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=Ri(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Iv(e).get(t).next((function(e){return e?av(e):null}))}}]),e}();function Iv(e){return Gp(e,Ip.store)}function Tv(e){return Gp(e,Cp.store)}function Cv(e){return Gp(e,Tp.store)}function Av(e){return Nv.apply(this,arguments)}function Nv(){return Nv=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Vl.FAILED_PRECONDITION&&t.message===Dp){e.next=2;break}throw t;case 2:Pl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Nv.apply(this,arguments)}function Ov(e,t){var n=Ri(e,2),r=n[0],i=n[1],a=Ri(t,2),o=a[0],u=a[1],s=ef(r,o);return 0===s?ef(i,u):s}var Rv=function(){function e(t){Ii(this,e),this.he=t,this.buffer=new hd(Ov),this.le=0}return Ci(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ov(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Pv=function(){function e(t,n){Ii(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Ci(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Pl("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Si(li().mark((function n(){return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!qp(n.t0)){n.next=12;break}Pl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Av(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Dv=function(){function e(t,n){Ii(this,e),this.ge=t,this.params=n}return Ci(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Mp.resolve(Jl.I);var r=new Rv(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pl("LruGarbageCollector","Garbage collection skipped; disabled"),Mp.resolve(vv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pl("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vv):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Pl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Rl()<=wa.DEBUG&&Pl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Mp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Lv=function(){function e(t,n){Ii(this,e),this.db=t,this.garbageCollector=function(e,t){return new Dv(e,t)}(this,n)}return Ci(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Mv(e,n)}},{key:"removeReference",value:function(e,t,n){return Mv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Mv(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return _v(e).Qt((function(r){return bv(e,r,t).next((function(e){return e&&(n=!0),Mp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Cv(e).delete([0,dp(o.path)])}))}));i.push(s)}})).next((function(){return Mp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Mv(e,t)}},{key:"Ie",value:function(e,t){var n,r=Cv(e),i=Jl.I;return r.jt({index:Tp.documentTargetsIndex},(function(e,r){var a=Ri(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Jl.I&&t(new Sf(yp(n)),i),i=s,n=u):i=Jl.I})).next((function(){i!==Jl.I&&t(new Sf(yp(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Mv(e,t){return Cv(e).put(function(e,t){return new Tp(0,dp(e.path),t)}(t,e.currentSequenceNumber))}var Uv=function(){function e(t,n){Ii(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Ci(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ai(n);try{for(i.s();!(r=i.n()).done;){var a=Ri(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){uf(this.inner,(function(t,n){var r,i=Ai(n);try{for(i.s();!(r=i.n()).done;){var a=Ri(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return sf(this.inner)}}]),e}(),jv=function(){function e(){Ii(this,e),this.changes=new Uv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ci(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:af.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Bf.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Mp.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Fv=function(){function e(t,n){Ii(this,e),this.k=t,this.Jt=n}return Ci(e,[{key:"addEntry",value:function(e,t,n){return Bv(e).put(zv(t),n)}},{key:"removeEntry",value:function(e,t){var n=Bv(e),r=zv(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Bv(e).get(zv(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Bv(e).get(zv(t)).next((function(e){return{document:n.be(t,e),size:gv(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=vd();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=vd(),i=new cd(Sf.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,gv(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Mp.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Bv(e).jt({range:r},(function(e,t,r){for(var o=Sf.fromSegments(e);a&&Sf.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=vd(),a=t.path.length+1,o={};if(n.isEqual(af.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=ev(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Ep.collectionReadTimeIndex}return Bv(e).jt(o,(function(e,n,o){if(e.length===a){var u=Xp(r.k,n);t.path.isPrefixOf(u.key.path)?_h(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Vv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return qv(e).get(Sp.key).next((function(e){return jl(!!e),e}))}},{key:"Re",value:function(e,t){return qv(e).put(Sp.key,t)}},{key:"be",value:function(e,t){if(t){var n=Xp(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(af.min()))return n}return Bf.newInvalidDocument(e)}}]),e}(),Vv=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Uv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ci(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new hd((function(e,t){return ef(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=Zp(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=gv(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Zp(t.De.k,Bf.newNoDocument(a,af.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Mp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(jv);function qv(e){return Gp(e,Sp.store)}function Bv(e){return Gp(e,Ep.store)}function zv(e){return e.path.toArray()}var Hv=function(){function e(t){Ii(this,e),this.k=t}return Ci(e,[{key:"Nt",value:function(e,t,n,r){var i=this;jl(n<r&&n>=0&&r<=11);var a=new Up("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(gp.store)}(e),function(e){e.createObjectStore(kp.store,{keyPath:kp.keyPath}),e.createObjectStore(bp.store,{keyPath:bp.keyPath,autoIncrement:!0}).createIndex(bp.userMutationsIndex,bp.userMutationsKeyPath,{unique:!0}),e.createObjectStore(wp.store)}(e),Wv(e),function(e){e.createObjectStore(Ep.store)}(e));var o=Mp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Tp.store),e.deleteObjectStore(Ip.store),e.deleteObjectStore(Cp.store)}(e),Wv(e)),o=o.next((function(){return function(e){var t=e.store(Cp.store),n=new Cp(0,0,af.min().toTimestamp(),0);return t.put(Cp.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(bp.store).Bt().next((function(n){e.deleteObjectStore(bp.store),e.createObjectStore(bp.store,{keyPath:bp.keyPath,autoIncrement:!0}).createIndex(bp.userMutationsIndex,bp.userMutationsKeyPath,{unique:!0});var r=t.store(bp.store),i=n.map((function(e){return r.put(e)}));return Mp.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Np.store,{keyPath:Np.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Sp.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ep.store);t.createIndex(Ep.readTimeIndex,Ep.readTimeIndexPath,{unique:!1}),t.createIndex(Ep.collectionReadTimeIndex,Ep.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Op.store,{keyPath:Op.keyPath})}(e),function(e){e.createObjectStore(Rp.store,{keyPath:Rp.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Ep.store).jt((function(e,n){t+=gv(n)})).next((function(){var n=new Sp(t);return e.store(Sp.store).put(Sp.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(kp.store),r=e.store(bp.store);return n.Bt().next((function(n){return Mp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(bp.userMutationsIndex,i).next((function(r){return Mp.forEach(r,(function(r){jl(r.userId===n.userId);var i=iv(t.k,r);return mv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Tp.store),n=e.store(Ep.store);return e.store(Cp.store).get(Cp.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new lf(n),o=function(e){return[0,dp(e)]}(a);r.push(t.get(o).next((function(n){return n?Mp.resolve():function(n){return t.put(new Tp(0,dp(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Mp.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Ap.store,{keyPath:Ap.keyPath});var n=t.store(Ap.store),r=new hv,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:dp(i)})}};return t.store(Ep.store).jt({Kt:!0},(function(e,t){var n=new lf(e);return i(n.popLast())})).next((function(){return t.store(wp.store).jt({Kt:!0},(function(e,t){var n=Ri(e,3),r=(n[0],n[1]),a=(n[2],yp(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Ip.store);return n.jt((function(e,r){var i=av(r),a=ov(t.k,i);return n.put(a)}))}}]),e}();function Wv(e){e.createObjectStore(Tp.store,{keyPath:Tp.keyPath}).createIndex(Tp.documentTargetsIndex,Tp.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ip.store,{keyPath:Ip.keyPath}).createIndex(Ip.queryTargetsIndexName,Ip.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Cp.store)}var Kv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gv=function(){function e(t,n,r,i,a,o,u,s,c,l){if(Ii(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=u,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new ql(Vl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lv(this,i),this.Ge=n+"main",this.k=new Jp(s),this.ze=new jp(this.Ge,11,new Hv(this.k)),this.He=new Sv(this.referenceDelegate,this.k),this.Jt=new dv,this.Je=function(e,t){return new Fv(e,t)}(this.k,this.Jt),this.Ye=new sv,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Dl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ci(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ql(Vl.FAILED_PRECONDITION,Kv);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Jl(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Si(li().mark((function n(r){return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Si(li().mark((function t(n){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Yv(t).put(new Np(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(qp(t))return Pl("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Pl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Qv(e).get(gp.key).next((function(e){return Mp.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Yv(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Si(li().mark((function e(){var t,n,r,i,a=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Gp(e,Np.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Mp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Ai(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Mp.resolve(!0):Qv(e).get(gp.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new ql(Vl.FAILED_PRECONDITION,Kv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Yv(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pl("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Si(li().mark((function e(){var t=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[gp.store,Np.store],(function(e){var n=new Kp(e,Jl.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Yv(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return kv.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Pl("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Pp,(function(a){return i=new Kp(a,r.Be?r.Be.next():Jl.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Dl("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new ql(Vl.FAILED_PRECONDITION,Dp);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Qv(e).get(gp.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ql(Vl.FAILED_PRECONDITION,Kv)}))}},{key:"an",value:function(e){var t=new gp(this.clientId,this.allowTabSynchronization,Date.now());return Qv(e).put(gp.key,t)}},{key:"cn",value:function(e){var t=this,n=Qv(e);return n.get(gp.key).next((function(e){return t.un(e)?(Pl("IndexedDbPersistence","Releasing primary lease."),n.delete(gp.key)):Mp.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Dl("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Xi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Pl("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Dl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Ao){Dl("Failed to set zombie client id.",Ao)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Ao){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return jp.Pt()}}]),e}();function Qv(e){return Gp(e,gp.store)}function Yv(e){return Gp(e,Np.store)}function $v(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Jv=Ci((function e(t,n){Ii(this,e),this.progress=t,this.In=n})),Xv=function(){function e(t,n,r){Ii(this,e),this.Je=t,this.An=n,this.Jt=r}return Ci(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Ai(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Ai(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):yh(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Sf(t)).next((function(e){var t=md();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=md();return this.Jt.getCollectionParents(e,i).next((function(o){return Mp.forEach(o,(function(o){var u=function(e,t){return new ch(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Ai(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Ai(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=Bf.newInvalidDocument(c),r=r.insert(c,l)),Gh(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){_h(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=wd(),a=Ai(t);try{for(a.s();!(r=a.n()).done;){var o,u=Ai(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof Xh&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Zv=function(){function e(t,n,r,i){Ii(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Ci(e,null,[{key:"$n",value:function(t,n){var r,i=wd(),a=wd(),o=Ai(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ey=function(){function e(){Ii(this,e)}return Ci(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(af.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(hh(t)||dh(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Rl()<=wa.DEBUG&&Pl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xh(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new hd(Eh(e));return t.forEach((function(t,r){_h(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Rl()<=wa.DEBUG&&Pl("QueryEngine","Using full collection scan to execute query:",xh(t)),this.Mn.getDocumentsMatchingQuery(e,t,af.min())}}]),e}(),ty=function(){function e(t,n,r,i){Ii(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new cd(ef),this.Kn=new Uv((function(e){return Wf(e)}),Kf),this.jn=af.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Xv(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Ci(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function ny(e,t,n,r){return new ty(e,t,n,r)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Xv(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=wd(),s=Ai(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Ai(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ai(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Ai(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e,t){var n=Fl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Mp.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);jl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function oy(e){var t=Fl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function uy(e,t){var n=Fl(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(pf.EMPTY_BYTE_STRING,af.min()).withLastLimboFreeSnapshotVersion(af.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var u=vd();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sy(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(af.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Mp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function sy(e,t,n,r,i){var a=wd();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=vd();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(af.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Pl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function cy(e,t){var n=Fl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function ly(e,t){var n=Fl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Mp.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new $p(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function fy(e,t,n){return hy.apply(this,arguments)}function hy(){return hy=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fl(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),qp(e.t1)){e.next=12;break}throw e.t1;case 12:Pl("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),hy.apply(this,arguments)}function dy(e,t,n){var r=Fl(e),i=af.min(),a=wd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fl(e),i=r.Kn.get(n);return void 0!==i?Mp.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,gh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:af.min(),n?a:wd())})).next((function(e){return{documents:e,zn:a}}))}))}function py(e,t){var n=Fl(e),r=Fl(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function vy(e){var t=Fl(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Fl(e),i=vd(),a=ev(n),o=Bv(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Ep.readTimeIndex,range:u},(function(e,t){var n=Xp(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:tv(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function yy(e){return my.apply(this,arguments)}function my(){return my=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fl(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Bv(e),n=af.min();return t.jt({index:Ep.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=tv(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function gy(e,t,n,r){return ky.apply(this,arguments)}function ky(){return ky=Si(li().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fl(t),o=wd(),u=vd(),s=kd(),c=Ai(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,ly(a,function(e){return gh(fh(lf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return sy(e,d,u,af.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function by(e,t){return wy.apply(this,arguments)}function wy(){return wy=Si(li().mark((function e(t,n){var r,i,a,o=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:wd(),e.next=3,ly(t,gh(uv(n.bundledQuery)));case 3:return i=e.sent,a=Fl(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Fd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(pf.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),wy.apply(this,arguments)}var xy=function(){function e(t){Ii(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Ci(e,[{key:"getBundleMetadata",value:function(e,t){return Mp.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fd(n.createTime)}),Mp.resolve()}},{key:"getNamedQuery",value:function(e,t){return Mp.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:uv(e.bundledQuery),readTime:Fd(e.readTime)}}(t)),Mp.resolve()}}]),e}(),_y=function(){function e(){Ii(this,e),this.ts=new hd(Ey.es),this.ns=new hd(Ey.ss)}return Ci(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ey(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Ey(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Sf(new lf([])),r=new Ey(n,e),i=new Ey(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Sf(new lf([])),n=new Ey(t,e),r=new Ey(t,e+1),i=wd();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ey(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ey=function(){function e(t,n){Ii(this,e),this.key=t,this.fs=n}return Ci(e,null,[{key:"es",value:function(e,t){return Sf.comparator(e.key,t.key)||ef(e.fs,t.fs)}},{key:"ss",value:function(e,t){return ef(e.fs,t.fs)||Sf.comparator(e.key,t.key)}}]),e}(),Sy=function(){function e(t,n){Ii(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new hd(Ey.es)}return Ci(e,[{key:"checkEmpty",value:function(e){return Mp.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Qp(i,t,n,r);this.An.push(a);var o,u=Ai(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new Ey(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Mp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Mp.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Mp.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Mp.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Mp.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ey(t,0),i=new Ey(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Mp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hd(ef);return t.forEach((function(e){var t=new Ey(e,0),i=new Ey(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Mp.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Sf.isDocumentKey(i)||(i=i.child(""));var a=new Ey(new Sf(i),0),o=new hd(ef);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Mp.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;jl(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Mp.forEach(t.mutations,(function(i){var a=new Ey(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ey(t,0),r=this.ws.firstAfterOrEqual(n);return Mp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Mp.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Iy=function(){function e(t,n){Ii(this,e),this.Jt=t,this.Ts=n,this.docs=new cd(Sf.comparator),this.size=0}return Ci(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Mp.resolve(n?n.document.mutableCopy():Bf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=vd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Bf.newInvalidDocument(e))})),Mp.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=vd(),i=new Sf(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||_h(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Mp.resolve(r)}},{key:"Es",value:function(e,t){return Mp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ty(this)}},{key:"getSize",value:function(e){return Mp.resolve(this.size)}}]),e}(),Ty=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this)).De=e,r}return Ci(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Mp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(jv),Cy=function(){function e(t){Ii(this,e),this.persistence=t,this.Is=new Uv((function(e){return Wf(e)}),Kf),this.lastRemoteSnapshotVersion=af.min(),this.highestTargetId=0,this.As=0,this.Rs=new _y,this.targetCount=0,this.bs=Ev.ie()}return Ci(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Mp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Mp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Mp.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Mp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Mp.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Ev(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Mp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Mp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Mp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Mp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Mp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Mp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Mp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Mp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Mp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Mp.resolve(n)}},{key:"containsKey",value:function(e,t){return Mp.resolve(this.Rs.containsKey(t))}}]),e}(),Ay=function(){function e(t,n){var r=this;Ii(this,e),this.Ps={},this.Be=new Jl(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Cy(this),this.Jt=new fv,this.Je=function(e,t){return new Iy(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Jp(n),this.Ye=new xy(this.k)}return Ci(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Sy(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Pl("MemoryPersistence","Starting transaction:",e);var i=new Ny(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Mp.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ny=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ci(n)}(Lp),Oy=function(){function e(t){Ii(this,e),this.persistence=t,this.Cs=new _y,this.Ns=null}return Ci(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Ul()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Mp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Mp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Mp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mp.forEach(this.xs,(function(r){var i=Sf.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Mp.or([function(){return Mp.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Ry(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Py(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Dy(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ly=function(){function e(t,n,r,i){Ii(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ci(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ql(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Dl("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),My=function(){function e(t,n,r){Ii(this,e),this.targetId=t,this.state=n,this.error=r}return Ci(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ql(i.error.code,i.error.message))),a?new e(t,i.state,r):(Dl("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Uy=function(){function e(t,n){Ii(this,e),this.clientId=t,this.activeTargetIds=n}return Ci(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=_d(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ef(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Dl("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),jy=function(){function e(t,n){Ii(this,e),this.clientId=t,this.onlineState=n}return Ci(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Dl("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Fy=function(){function e(){Ii(this,e),this.activeTargetIds=_d()}return Ci(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Vy=function(){function e(t,n,r,i,a){Ii(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new cd(ef),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Ry(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Fy),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Ci(e,[{key:"start",value:function(){var e=Si(li().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Ai(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ry(this.persistenceKey,i)))&&(o=Uy.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=Ai(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Dy(this.persistenceKey,e));if(n){var r=My.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Dy(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Pl("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Pl("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Pl("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Pl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Dl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Si(li().mark((function e(){var r,i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Jl.I;if(null!=e)try{var n=JSON.parse(e);jl("number"==typeof n),t=n}catch(e){Dl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Jl.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Ly(this.currentUser,e,t,n),i=Py(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=Py(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Dy(this.persistenceKey,e),i=new My(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Uy.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ly.Os(new Al(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return My.Os(r,t)}},{key:"Zs",value:function(e){return jy.Os(e)}},{key:"fi",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Pl("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=_d();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),qy=function(){function e(){Ii(this,e),this.pi=new Fy,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ci(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Fy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),By=function(){function e(){Ii(this,e)}return Ci(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zy=function(){function e(){var t=this;Ii(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Ci(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Pl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ai(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Pl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ai(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Hy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wy=function(){function e(t){Ii(this,e),this.Vi=t.Vi,this.Si=t.Si}return Ci(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Ky=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ci(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Tl;o.listenOnce(xl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case wl.NO_ERROR:var t=o.getResponseJson();Pl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case wl.TIMEOUT:Pl("Connection",'RPC "'+e+'" timed out'),a(new ql(Vl.DEADLINE_EXCEEDED,"Request time out"));break;case wl.HTTP_ERROR:var n=o.getStatus();if(Pl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vl).indexOf(t)>=0?t:Vl.UNKNOWN}(r.status);a(new ql(u,r.message))}else a(new ql(Vl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ql(Vl.UNAVAILABLE,"Connection failed."));break;default:Ul()}}finally{Pl("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=kl(),a=bl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Sl({})),this.qi(o.initMessageHeaders,t,n),Ji()||ea()||$i().indexOf("Electron/")>=0||ta()||$i().indexOf("MSAppHost/")>=0||Zi()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Pl("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Wy({Vi:function(e){l?Pl("Connection","Not sending because WebChannel is closed:",e):(c||(Pl("Connection","Opening WebChannel transport."),s.open(),c=!0),Pl("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Il.EventType.OPEN,(function(){l||Pl("Connection","WebChannel transport opened.")})),h(s,Il.EventType.CLOSE,(function(){l||(l=!0,Pl("Connection","WebChannel transport closed"),f.Oi())})),h(s,Il.EventType.ERROR,(function(e){l||(l=!0,Ll("Connection","WebChannel transport errored:",e),f.Oi(new ql(Vl.UNAVAILABLE,"The operation could not be completed")))})),h(s,Il.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];jl(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Pl("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=nd[e];if(void 0!==t)return sd(t)}(a),u=i.message;void 0===o&&(o=Vl.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new ql(o,u)),s.close()}else Pl("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,_l.STAT_EVENT,(function(e){e.stat===El.PROXY?Pl("Connection","Detected buffering proxy"):e.stat===El.NOPROXY&&Pl("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Ii(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ci(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Pl("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Pl("RestConnection","Received: ",e),e}),(function(t){throw Ll("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Hy[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Gy(){return"undefined"!=typeof window?window:null}function Qy(){return"undefined"!=typeof document?document:null}function Yy(e){return new Ld(e,!0)}var $y=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ii(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Ci(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Pl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Jy=function(){function e(t,n,r,i,a,o,u,s){Ii(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new $y(t,n)}return Ci(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Vl.RESOURCE_EXHAUSTED?(Dl(n.toString()),Dl("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Vl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Ri(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new ql(Vl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Pl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Pl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xy=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o,u){var s;return Ii(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return Ci(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ul()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(jl(void 0===t||"string"==typeof t),pf.fromBase64String(t||"")):(jl(void 0===t||t instanceof Uint8Array),pf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Vl.UNKNOWN:sd(e.code);return new ql(t,e.message||"")}(o);n=new Cd(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zd(e,s.document.name),l=Fd(s.document.updateTime),f=new Vf({mapValue:{fields:s.document.fields}}),h=Bf.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Id(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=zd(e,v.document),m=v.readTime?Fd(v.readTime):af.min(),g=Bf.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Id([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=zd(e,b.document),x=b.removedTargetIds||[];n=new Id([],x,w,null)}else{if(!("filter"in t))return Ul();t.filter;var _=t.filter;_.targetId;var E=_.count||0,S=new od(E),I=_.targetId;n=new Td(I,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return af.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?af.min():t.readTime?Fd(t.readTime):af.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Kd(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Gf(r)?{documents:Zd(e,r)}:{query:ep(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ud(e,t.resumeToken):t.snapshotVersion.compareTo(af.min())>0&&(n.readTime=Md(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ul()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Kd(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Jy),Zy=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o,u){var s;return Ii(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return Ci(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,po(Li(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(jl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(jl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fd(e.updateTime):Fd(t);return n.isEqual(af.min())&&(n=Fd(t)),new Bh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fd(e.commitTime);return this.listener.Cr(n,t)}return jl(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Kd(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Jd(t.k,e)}))};this.gr(n)}}]),n}(Jy),em=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o;return Ii(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Ci(n,[{key:"Or",value:function(){if(this.$r)throw new ql(Vl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ri(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ql(Vl.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ri(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ql(Vl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Ci((function e(){Ii(this,e)}))}()),tm=function(){function e(t,n){Ii(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Ci(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Dl(t),this.Lr=!1):Pl("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),nm=Ci((function e(t,n,r,i,a){var o=this;Ii(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=dm(o),!e.t0){e.next=5;break}return Pl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fl(t)).Gr.add(4),e.next=4,am(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,rm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new tm(r,i)}));function rm(e){return im.apply(this,arguments)}function im(){return im=Si(li().mark((function e(t){var n,r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dm(t)){e.next=18;break}n=Ai(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),im.apply(this,arguments)}function am(e){return om.apply(this,arguments)}function om(){return om=Si(li().mark((function e(t){var n,r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ai(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),om.apply(this,arguments)}function um(e,t){var n=Fl(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),hm(n)?fm(n):Bm(n).lr()&&cm(n,t))}function sm(e,t){var n=Fl(e),r=Bm(n);n.Wr.delete(t),r.lr()&&lm(n,t),0===n.Wr.size&&(r.lr()?r._r():dm(n)&&n.Jr.set("Unknown"))}function cm(e,t){e.Yr.X(t.targetId),Bm(e).Pr(t)}function lm(e,t){e.Yr.X(t),Bm(e).vr(t)}function fm(e){e.Yr=new Nd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Bm(e).start(),e.Jr.Br()}function hm(e){return dm(e)&&!Bm(e).hr()&&e.Wr.size>0}function dm(e){return 0===Fl(e).Gr.size}function pm(e){e.Yr=void 0}function vm(e){return ym.apply(this,arguments)}function ym(){return ym=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){cm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function mm(e,t){return gm.apply(this,arguments)}function gm(){return gm=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pm(t),hm(t)?(t.Jr.Kr(n),fm(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function km(e,t,n){return bm.apply(this,arguments)}function bm(){return bm=Si(li().mark((function e(t,n,r){var i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Cd&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ai(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Pl("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,wm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Id?t.Yr.ot(n):n instanceof Td?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(af.min())){e.next=29;break}return e.prev=14,e.next=17,oy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(pf.EMPTY_BYTE_STRING,n.snapshotVersion)),lm(e,t);var r=new $p(n.target,t,1,n.sequenceNumber);cm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Pl("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,wm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),bm.apply(this,arguments)}function wm(e,t,n){return xm.apply(this,arguments)}function xm(){return xm=Si(li().mark((function e(t,n,r){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qp(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,am(t);case 5:t.Jr.set("Offline"),r||(r=function(){return oy(t.localStore)}),t.asyncQueue.enqueueRetryable(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pl("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,rm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function _m(e,t){return t().catch((function(n){return wm(e,n,t)}))}function Em(e){return Sm.apply(this,arguments)}function Sm(){return Sm=Si(li().mark((function e(t){var n,r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fl(t),r=zm(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Im(n)){e.next=19;break}return e.prev=3,e.next=6,cy(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Tm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,wm(n,e.t0);case 17:e.next=2;break;case 19:Cm(n)&&Am(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Sm.apply(this,arguments)}function Im(e){return dm(e)&&e.Qr.length<10}function Tm(e,t){e.Qr.push(t);var n=zm(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Cm(e){return dm(e)&&!zm(e).hr()&&e.Qr.length>0}function Am(e){zm(e).start()}function Nm(e){return Om.apply(this,arguments)}function Om(){return Om=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zm(t).kr();case 1:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Rm(e){return Pm.apply(this,arguments)}function Pm(){return Pm=Si(li().mark((function e(t){var n,r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zm(t),r=Ai(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function Dm(e,t,n){return Lm.apply(this,arguments)}function Lm(){return Lm=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Yp.from(i,n,r),e.next=3,_m(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Em(t);case 5:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Mm(e,t){return Um.apply(this,arguments)}function Um(){return Um=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zm(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ud(i=n.code)||i===Vl.ABORTED){e.next=7;break}return r=t.Qr.shift(),zm(t).wr(),e.next=5,_m(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Em(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Cm(t)&&Am(t);case 5:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function jm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fl(t)).asyncQueue.verifyOperationInProgress(),Pl("RemoteStore","RemoteStore received new credentials"),i=dm(r),r.Gr.add(3),e.next=6,am(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,rm(r);case 12:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Vm(e,t){return qm.apply(this,arguments)}function qm(){return qm=Si(li().mark((function e(t,n){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fl(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,rm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,am(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Bm(e){return e.Xr||(e.Xr=function(e,t,n){var r=Fl(e);return r.Or(),new Xy(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:vm.bind(null,e),Ni:mm.bind(null,e),br:km.bind(null,e)}),e.zr.push(function(){var t=Si(li().mark((function t(n){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),hm(e)?fm(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:pm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function zm(e){return e.Zr||(e.Zr=function(e,t,n){var r=Fl(e);return r.Or(),new Zy(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Nm.bind(null,e),Ni:Mm.bind(null,e),Nr:Rm.bind(null,e),Cr:Dm.bind(null,e)}),e.zr.push(function(){var t=Si(li().mark((function t(n){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Em(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Pl("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Hm=function(){function e(t,n,r,i,a){Ii(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ci(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ql(Vl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Wm(e,t){if(Dl("AsyncQueue","".concat(t,": ").concat(e)),qp(e))return new ql(Vl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Km=function(){function e(t){Ii(this,e),this.comparator=t?function(e,n){return t(e,n)||Sf.comparator(e.key,n.key)}:function(e,t){return Sf.comparator(e.key,t.key)},this.keyedMap=md(),this.sortedSet=new cd(this.comparator)}return Ci(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Gm=function(){function e(){Ii(this,e),this.eo=new cd(Sf.comparator)}return Ci(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Ul():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Qm=function(){function e(t,n,r,i,a,o,u,s){Ii(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ci(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Km.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ym=Ci((function e(){Ii(this,e),this.so=void 0,this.listeners=[]})),$m=Ci((function e(){Ii(this,e),this.queries=new Uv((function(e){return wh(e)}),bh),this.onlineState="Unknown",this.io=new Set}));function Jm(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=Si(li().mark((function e(t,n){var r,i,a,o,u;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ym),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Wm(e.t0,"Initialization of query '".concat(xh(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&rg(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xm.apply(this,arguments)}function Zm(e,t){return eg.apply(this,arguments)}function eg(){return eg=Si(li().mark((function e(t,n){var r,i,a,o,u;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e,t){var n,r=Fl(e),i=!1,a=Ai(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ai(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&rg(r)}function ng(e,t,n){var r=Fl(e),i=r.queries.get(t);if(i){var a,o=Ai(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function rg(e){e.io.forEach((function(e){e.next()}))}var ig=function(){function e(t,n,r){Ii(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Ci(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ai(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Qm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),ag=function(){function e(t,n){Ii(this,e),this.payload=t,this.byteLength=n}return Ci(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),og=function(){function e(t){Ii(this,e),this.k=t}return Ci(e,[{key:"Hn",value:function(e){return zd(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Yd(this.k,e.document,!1):Bf.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Fd(e)}}]),e}(),ug=function(){function e(t,n,r){Ii(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=sg(t)}return Ci(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new og(this.k),i=Ai(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=Ai(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||wd()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Si(li().mark((function e(){var t,n,r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gy(this.localStore,new og(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Ai(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,by(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Jv(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var cg=Ci((function e(t){Ii(this,e),this.key=t})),lg=Ci((function e(t){Ii(this,e),this.key=t})),fg=function(){function e(t,n){Ii(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=wd(),this.mutatedKeys=wd(),this.Ao=Eh(t),this.Ro=new Km(this.Ao)}return Ci(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Gm,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=hh(this.query)&&i.size===this.query.limit?i.last():null,c=dh(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=_h(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),hh(this.query)||dh(this.query))for(;o.size>this.query.limit;){var l=hh(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ul()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new Qm(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Gm,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=wd(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new lg(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new cg(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=wd();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Qm.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),hg=Ci((function e(t,n,r){Ii(this,e),this.query=t,this.targetId=n,this.view=r})),dg=Ci((function e(t){Ii(this,e),this.key=t,this.$o=!1})),pg=function(){function e(t,n,r,i,a,o){Ii(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Uv((function(e){return wh(e)}),bh),this.Fo=new Map,this.Lo=new Set,this.Bo=new cd(Sf.comparator),this.Uo=new Map,this.qo=new _y,this.Ko={},this.jo=new Map,this.Qo=Ev.re(),this.onlineState="Unknown",this.Wo=void 0}return Ci(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function vg(e,t){return yg.apply(this,arguments)}function yg(){return yg=Si(li().mark((function e(t,n){var r,i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sk(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,ly(r.localStore,gh(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,mg(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&um(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function mg(e,t,n,r){return gg.apply(this,arguments)}function gg(){return gg=Si(li().mark((function e(t,n,r,i){var a,o,u,s,c,l;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Si(li().mark((function e(t,n,r,i){var a,o,u;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,dy(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(jg(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,dy(t.localStore,n,!0);case 3:return a=e.sent,o=new fg(n,a.zn),u=o.Po(a.documents),s=Sd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),jg(t,r,c.Co),l=new hg(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function kg(e,t){return bg.apply(this,arguments)}function bg(){return bg=Si(li().mark((function e(t,n){var r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fl(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!bh(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,fy(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sm(r.remoteStore,i.targetId),Mg(r,i.targetId)})).catch(Av);case 9:e.next=14;break;case 11:return Mg(r,i.targetId),e.next=14,fy(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function wg(e,t,n){return xg.apply(this,arguments)}function xg(){return xg=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ck(t),e.prev=1,e.next=4,function(e,t){var n,r=Fl(e),i=rf.now(),a=t.reduce((function(e,t){return e.add(t.key)}),wd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=Ai(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Qh(c,n.get(c.key));null!=l&&u.push(new Xh(c.key,l,qf(l.value.mapValue),zh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new cd(ef)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,qg(i,a.changes);case 9:return e.next=11,Em(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Wm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),xg.apply(this,arguments)}function _g(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),e.prev=1,e.next=4,uy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(jl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?jl(n.$o):e.removedDocuments.size>0&&(jl(n.$o),n.$o=!1))})),e.next=8,qg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Av(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Eg.apply(this,arguments)}function Sg(e,t,n){var r=Fl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ai(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&rg(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ig(e,t,n){return Tg.apply(this,arguments)}function Tg(){return Tg=Si(li().mark((function e(t,n,r){var i,a,o,u,s,c;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new cd(Sf.comparator)).insert(o,Bf.newNoDocument(o,af.min())),s=wd().add(o),c=new Ed(af.min(),new Map,new hd(ef),u,s),e.next=9,_g(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Vg(i),e.next=16;break;case 14:return e.next=16,fy(i.localStore,n,!1).then((function(){return Mg(i,n,r)})).catch(Av);case 16:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Cg(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=Si(li().mark((function e(t,n){var r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),i=n.batch.batchId,e.prev=1,e.next=4,ay(r.localStore,n);case 4:return a=e.sent,Lg(r,i,null),Dg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,qg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Av(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ag.apply(this,arguments)}function Ng(e,t,n){return Og.apply(this,arguments)}function Og(){return Og=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fl(t),e.prev=1,e.next=4,function(e,t){var n=Fl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return jl(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Lg(i,n,r),Dg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,qg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Av(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Og.apply(this,arguments)}function Rg(e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dm((r=Fl(t)).remoteStore)||Pl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Wm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Pg.apply(this,arguments)}function Dg(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Lg(e,t,n){var r=Fl(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Mg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ai(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Ug(e,t)}))}function Ug(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(sm(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Vg(e))}function jg(e,t,n){var r,i=Ai(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof cg?(e.qo.addReference(a.key,t),Fg(e,a)):a instanceof lg?(Pl("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Ug(e,a.key)):Ul()}}catch(o){i.e(o)}finally{i.f()}}function Fg(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Pl("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Vg(e))}function Vg(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Sf(lf.fromString(t)),r=e.Qo.next();e.Uo.set(r,new dg(n)),e.Bo=e.Bo.insert(n,r),um(e.remoteStore,new $p(gh(fh(n.path)),r,2,Jl.I))}}function qg(e,t,n){return Bg.apply(this,arguments)}function Bg(){return Bg=Si(li().mark((function e(t,n,r){var i,a,o,u;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fl(t),a=[],o=[],u=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Zv.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Oo.br(a),e.next=9,function(){var e=Si(li().mark((function e(t,n){var r,i,a,o,u,s,c,l;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Mp.forEach(n,(function(t){return Mp.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Mp.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),qp(e.t0)){e.next=10;break}throw e.t0;case 10:Pl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ai(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function zg(e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fl(t)).currentUser.isEqual(n)){e.next=11;break}return Pl("SyncEngine","User change. New user:",n.toKey()),e.next=5,ry(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new ql(Vl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,qg(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}function Wg(e,t){var n=Fl(e),r=n.Uo.get(t);if(r&&r.$o)return wd().add(r.key);var i=wd(),a=n.Fo.get(t);if(!a)return i;var o,u=Ai(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Mo.get(s);i=i.unionWith(c.view.bo)}}catch(l){u.e(l)}finally{u.f()}return i}function Kg(e,t){return Gg.apply(this,arguments)}function Gg(){return Gg=Si(li().mark((function e(t,n){var r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),e.next=3,dy(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&jg(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Gg.apply(this,arguments)}function Qg(e){return Yg.apply(this,arguments)}function Yg(){return Yg=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fl(t),e.abrupt("return",vy(n.localStore).then((function(e){return qg(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function $g(e,t,n,r){return Jg.apply(this,arguments)}function Jg(){return Jg=Si(li().mark((function e(t,n,r,i){var a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fl(t),e.next=3,function(e,t){var n=Fl(e),r=Fl(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Mp.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Em(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Lg(a,n,i||null),Dg(a,n),function(e,t){Fl(Fl(e).An).ee(t)}(a.localStore,n)):Ul();case 11:return e.next=13,qg(a,o);case 13:e.next=16;break;case 15:Pl("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Xg(e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=Si(li().mark((function e(t,n){var r,i,a,o,u,s,c,l;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sk(r=Fl(t)),ck(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ek(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Vm(r.remoteStore,!0);case 9:o=Ai(a);try{for(o.s();!(u=o.n()).done;)s=u.value,um(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Mg(r,t),fy(r.localStore,t,!0)})),sm(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,ek(r,c);case 21:return function(e){var t=Fl(e);t.Uo.forEach((function(e,n){sm(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new cd(Sf.comparator)}(r),r.Wo=!1,e.next=25,Vm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ek(e,t,n){return tk.apply(this,arguments)}function tk(){return tk=Si(li().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fl(t),a=[],o=[],u=Ai(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,ly(i.localStore,gh(f[0]));case 11:l=e.sent,h=Ai(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,Kg(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,py(i.localStore,c);case 36:return m=e.sent,e.next=39,ly(i.localStore,m);case 39:return l=e.sent,e.next=42,mg(i,nk(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),tk.apply(this,arguments)}function nk(e){return lh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rk(e){var t=Fl(e);return Fl(Fl(t.localStore).persistence).Tn()}function ik(e,t,n,r){return ak.apply(this,arguments)}function ak(){return ak=Si(li().mark((function e(t,n,r,i){var a,o,u;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fl(t)).Wo){e.next=5;break}Pl("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,vy(a.localStore);case 11:return o=e.sent,u=Ed.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,qg(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,fy(a.localStore,n,!0);case 18:return Mg(a,n,i),e.abrupt("break",21);case 20:Ul();case 21:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t,n){return uk.apply(this,arguments)}function uk(){return uk=Si(li().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=sk(t)).Wo){e.next=45;break}a=Ai(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return Pl("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,py(i.localStore,u);case 12:return s=e.sent,e.next=15,ly(i.localStore,s);case 15:return c=e.sent,e.next=18,mg(i,nk(s),c.targetId,!1);case 18:um(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ai(r),e.prev=30,h=li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,fy(i.localStore,t,!1).then((function(){sm(i.remoteStore,t),Mg(i,t)})).catch(Av);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),uk.apply(this,arguments)}function sk(e){var t=Fl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_g.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ig.bind(null,t),t.Oo.br=tg.bind(null,t.eventManager),t.Oo.zo=ng.bind(null,t.eventManager),t}function ck(e){var t=Fl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ng.bind(null,t),t}function lk(e,t,n){var r=Fl(e);(function(){var e=Si(li().mark((function e(t,n,r){var i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fl(e),r=Fd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(sg(i)),a=new ug(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,qg(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Fl(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Ll("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var fk=function(){function e(){Ii(this,e),this.synchronizeTabs=!1}return Ci(e,[{key:"initialize",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Yy(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return ny(this.persistence,new ey,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Ay(Oy.ks,this.k)}},{key:"Jo",value:function(e){return new qy}},{key:"terminate",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hk=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ci(n,[{key:"initialize",value:function(){var e=Si(li().mark((function e(t){var r=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Li(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,yy(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,ck(this.tc.syncEngine);case 8:return e.next=10,Em(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return ny(this.persistence,new ey,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Pv(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=$v(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yv.withCacheSize(this.cacheSizeBytes):yv.DEFAULT;return new Gv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gy(),Qy(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new qy}}]),n}(fk),dk=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ci(n,[{key:"initialize",value:function(){var e=Si(li().mark((function e(t){var r,i=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Li(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Vy,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:$g.bind(null,r),gi:ik.bind(null,r),yi:ok.bind(null,r),Tn:rk.bind(null,r),_i:Qg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xg(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Gy();if(!Vy.Pt(t))throw new ql(Vl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$v(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(hk),pk=function(){function e(){Ii(this,e)}return Ci(e,[{key:"initialize",value:function(){var e=Si(li().mark((function e(t,n){var r=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Sg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zg.bind(null,this.syncEngine),e.next=12,Vm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new $m}},{key:"createDatastore",value:function(e){var t,n=Yy(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ky(t));return function(e,t,n,r){return new em(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Sg(o.syncEngine,e,0)},a=zy.Pt()?new zy:new By,new nm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new pg(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fl(t),Pl("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,am(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function vk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Si(li().mark((function r(){var i;return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var yk=function(){function e(t){Ii(this,e),this.observer=t,this.muted=!1}return Ci(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),mk=function(){function e(t,n){var r=this;Ii(this,e),this.sc=t,this.k=n,this.metadata=new Bl,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ci(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Si(li().mark((function e(){var t,n,r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new ag(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=Si(li().mark((function e(){var t,n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Si(li().mark((function e(){var t,n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gk=function(){function e(t){Ii(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ci(e,[{key:"lookup",value:function(){var e=Si(li().mark((function e(t){var n,r=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ql(Vl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Si(li().mark((function e(t,n){var r,i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),i=Kd(r.k)+"/documents",a={documents:n.map((function(e){return Bd(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=$d(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());jl(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new id(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Si(li().mark((function e(){var t,n=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Sf.fromPath(t);n.mutations.push(new ad(r,n.precondition(r)))})),e.next=7,function(){var e=Si(li().mark((function e(t,n){var r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),i=Kd(r.k)+"/documents",a={writes:n.map((function(e){return Jd(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ul();t=af.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ql(Vl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zh.updateTime(t):zh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(af.min()))throw new ql(Vl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zh.updateTime(t)}return zh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),kk=function(){function e(t,n,r,i){Ii(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new $y(this.asyncQueue,"transaction_retry")}return Ci(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Si(li().mark((function t(){var n,r;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gk(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!xf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ud(t)}return!1}}]),e}(),bk=function(){function e(t,n,r,i){var a=this;Ii(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Al.UNAUTHENTICATED,this.clientId=Zl.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pl("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Pl("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ci(e,[{key:"getConfiguration",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ql(Vl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Si(li().mark((function n(){var r;return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Wm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wk(e,t){return xk.apply(this,arguments)}function xk(){return xk=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Pl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ry(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function _k(e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Sk(t);case 3:return r=e.sent,Pl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return jm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return jm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Sk(e){return Ik.apply(this,arguments)}function Ik(){return Ik=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Pl("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,wk(t,new fk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Tk(e){return Ck.apply(this,arguments)}function Ck(){return Ck=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Pl("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,_k(t,new pk);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Ak(e){return Sk(e).then((function(e){return e.persistence}))}function Nk(e){return Sk(e).then((function(e){return e.localStore}))}function Ok(e){return Tk(e).then((function(e){return e.remoteStore}))}function Rk(e){return Tk(e).then((function(e){return e.syncEngine}))}function Pk(e){return Dk.apply(this,arguments)}function Dk(){return Dk=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=vg.bind(null,n.syncEngine),r.onUnlisten=kg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Lk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bl;return e.asyncQueue.enqueueAndForget(Si(li().mark((function i(){return li().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yk({next:function(a){t.enqueueAndForget((function(){return Zm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ql(Vl.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ql(Vl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ig(fh(n.path),a,{includeMetadataChanges:!0,wo:!0});return Jm(e,o)},i.next=3,Pk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Mk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bl;return e.asyncQueue.enqueueAndForget(Si(li().mark((function i(){return li().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yk({next:function(n){t.enqueueAndForget((function(){return Zm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ql(Vl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ig(n,a,{includeMetadataChanges:!0,wo:!0});return Jm(e,o)},i.next=3,Pk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Uk=Ci((function e(t,n,r,i,a,o,u,s){Ii(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),jk=function(){function e(t,n){Ii(this,e),this.projectId=t,this.database=n||"(default)"}return Ci(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Fk=new Map;function Vk(e,t,n){if(!n)throw new ql(Vl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qk(e,t,n,r){if(!0===t&&!0===r)throw new ql(Vl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Bk(e){if(!Sf.isDocumentKey(e))throw new ql(Vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zk(e){if(Sf.isDocumentKey(e))throw new ql(Vl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ul()}function Wk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ql(Vl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hk(e);throw new ql(Vl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Kk(e,t){if(t<=0)throw new ql(Vl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Gk=function(){function e(t){var n;if(Ii(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ql(Vl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ql(Vl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ci(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Qk=function(){function e(t,n,r){Ii(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gk({}),this._settingsFrozen=!1,t instanceof jk?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ql(Vl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jk(e.options.projectId)}(t))}return Ci(e,[{key:"app",get:function(){if(!this._app)throw new ql(Vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ql(Vl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hl;switch(e.type){case"gapi":var t=e.client;return jl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ql(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ql(Vl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Fk.get(e);t&&(Pl("ComponentProvider","Removing Datastore"),Fk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Yk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Wk(e,Qk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ll("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Al.MOCK_USER;else{o=Yi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ql(Vl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Al(s)}e._authCredentials=new Wl(new zl(o,u))}}var $k=function(){function e(t,n,r){Ii(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ci(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Xk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Jk=function(){function e(t,n,r){Ii(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ci(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Xk=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this,e,r,fh(i)))._path=i,a.type="collection",a}return Ci(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $k(this.firestore,null,new Sf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Jk);function Zk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ya(e),Vk("collection","path",t),e instanceof Qk){var a=lf.fromString.apply(lf,[t].concat(r));return zk(a),new Xk(e,null,a)}if(!(e instanceof $k||e instanceof Xk))throw new ql(Vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lf.fromString.apply(lf,[t].concat(r)));return zk(o),new Xk(e.firestore,null,o)}function eb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ya(e),1===arguments.length&&(t=Zl.A()),Vk("doc","path",t),e instanceof Qk){var a=lf.fromString.apply(lf,[t].concat(r));return Bk(a),new $k(e,null,new Sf(a))}if(!(e instanceof $k||e instanceof Xk))throw new ql(Vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lf.fromString.apply(lf,[t].concat(r)));return Bk(o),new $k(e.firestore,e instanceof Xk?e.converter:null,new Sf(o))}function tb(e,t){return e=ya(e),t=ya(t),(e instanceof $k||e instanceof Xk)&&(t instanceof $k||t instanceof Xk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nb(e,t){return e=ya(e),t=ya(t),e instanceof Jk&&t instanceof Jk&&e.firestore===t.firestore&&bh(e._query,t._query)&&e.converter===t.converter}var rb=function(){function e(){var t=this;Ii(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new $y(this,"async_queue_retry"),this.bc=function(){var e=Qy();e&&Pl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Qy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Ci(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Qy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new Bl;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Si(li().mark((function e(){var t=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),qp(e.t0)){e.next=12;break}throw e.t0;case 12:Pl("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Dl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Hm.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Ul()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Ai(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ai(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function ib(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ai(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ab=function(){function e(){Ii(this,e),this._progressObserver={},this._taskCompletionResolver=new Bl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ci(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ob=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new rb,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ci(n,[{key:"_terminate",value:function(){return this._firestoreClient||sb(this),this._firestoreClient.terminate()}}]),n}(Qk);function ub(e){return e._firestoreClient||sb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Uk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function cb(e,t,n){var r=new Bl;return e.asyncQueue.enqueue(Si(li().mark((function i(){return li().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wk(e,n);case 3:return i.next=5,_k(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Vl.FAILED_PRECONDITION||e.code===Vl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function lb(e){return function(e){return e.asyncQueue.enqueue(Si(li().mark((function t(){var n,r;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ak(e);case 2:return n=t.sent,t.next=5,Ok(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fl(e);return t.Gr.delete(0),rm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ub(e=Wk(e,ob)))}function fb(e){return function(e){return e.asyncQueue.enqueue(Si(li().mark((function t(){var n,r;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ak(e);case 2:return n=t.sent,t.next=5,Ok(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fl(t)).Gr.add(0),e.next=4,am(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ub(e=Wk(e,ob)))}function hb(e,t){var n=ub(e=Wk(e,ob)),r=new ab;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new mk(e,t)}(function(e,t){if(e instanceof Uint8Array)return vk(e,t);if(e instanceof ArrayBuffer)return vk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Yy(t));e.asyncQueue.enqueueAndForget(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lk,t.next=3,Rk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function db(e,t){return function(e,t){return e.asyncQueue.enqueue(Si(li().mark((function n(){return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fl(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,Nk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ub(e=Wk(e,ob)),t).then((function(t){return t?new Jk(e,null,t.query):null}))}function pb(e){if(e._initialized||e._terminated)throw new ql(Vl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vb=function(){function e(){Ii(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ql(Vl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hf(n)}return Ci(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var yb=function(){function e(t){Ii(this,e),this._byteString=t}return Ci(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(pf.fromBase64String(t))}catch(t){throw new ql(Vl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(pf.fromUint8Array(t))}}]),e}(),mb=Ci((function e(t){Ii(this,e),this._methodName=t})),gb=function(){function e(t,n){if(Ii(this,e),!isFinite(t)||t<-90||t>90)throw new ql(Vl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ql(Vl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ci(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ef(this._lat,e._lat)||ef(this._long,e._long)}}]),e}(),kb=/^__.*__$/,bb=function(){function e(t,n,r){Ii(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ci(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Xh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jh(e,this.data,t,this.fieldTransforms)}}]),e}(),wb=function(){function e(t,n,r){Ii(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ci(e,[{key:"toMutation",value:function(e,t){return new Xh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ul()}}var _b=function(){function e(t,n,r,i,a,o){Ii(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ci(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return zb(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(xb(this.$c)&&kb.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),Eb=function(){function e(t,n,r){Ii(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Yy(t)}return Ci(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _b({$c:e,methodName:t,jc:n,path:hf.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Sb(e){var t=e._freezeSettings(),n=Yy(e._databaseId);return new Eb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ib(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);Fb("Data must be an object, but it was:",o,r);var u,s,c=Ub(r,o);if(a.merge)u=new df(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ai(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Vb(t,d,n);if(!o.contains(p))throw new ql(Vl.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Hb(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new df(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new bb(new Vf(c),u,s)}var Tb=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(mb);function Cb(e,t,n){return new _b({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Ab=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"_toFieldTransform",value:function(e){return new qh(e.path,new Ph)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(mb),Nb=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e)).Wc=r,i}return Ci(n,[{key:"_toFieldTransform",value:function(e){var t=Cb(this,e,!0),n=this.Wc.map((function(e){return Mb(e,t)})),r=new Dh(n);return new qh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mb),Ob=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e)).Wc=r,i}return Ci(n,[{key:"_toFieldTransform",value:function(e){var t=Cb(this,e,!0),n=this.Wc.map((function(e){return Mb(e,t)})),r=new Mh(n);return new qh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mb),Rb=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e)).Gc=r,i}return Ci(n,[{key:"_toFieldTransform",value:function(e){var t=new jh(e.k,Ch(e.k,this.Gc));return new qh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mb);function Pb(e,t,n,r){var i=e.Qc(1,t,n);Fb("Data must be an object, but it was:",i,r);var a=[],o=Vf.empty();uf(r,(function(e,r){var u=Bb(t,e,n);r=ya(r);var s=i.Bc(u);if(r instanceof Tb)a.push(u);else{var c=Mb(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new df(a);return new wb(o,u,i.fieldTransforms)}function Db(e,t,n,r,i,a){var o=e.Qc(1,t,n),u=[Vb(t,r,n)],s=[i];if(a.length%2!=0)throw new ql(Vl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Vb(t,a[c])),s.push(a[c+1]);for(var l=[],f=Vf.empty(),h=u.length-1;h>=0;--h)if(!Hb(l,u[h])){var d=u[h],p=s[h];p=ya(p);var v=o.Bc(d);if(p instanceof Tb)l.push(d);else{var y=Mb(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new df(l);return new wb(f,m,o.fieldTransforms)}function Lb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Mb(n,e.Qc(r?4:3,t))}function Mb(e,t){if(jb(e=ya(e)))return Fb("Unsupported field value:",t,e),Ub(e,t);if(e instanceof mb)return function(e,t){if(!xb(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ai(e);try{for(a.s();!(n=a.n()).done;){var o=Mb(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ya(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ch(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rf.fromDate(e);return{timestampValue:Md(t.k,n)}}if(e instanceof rf){var r=new rf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Md(t.k,r)}}if(e instanceof gb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yb)return{bytesValue:Ud(t.k,e._byteString)};if(e instanceof $k){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Vd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(Hk(e)))}(e,t)}function Ub(e,t){var n={};return sf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uf(e,(function(e,r){var i=Mb(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rf||e instanceof gb||e instanceof yb||e instanceof $k||e instanceof mb)}function Fb(e,t,n){if(!jb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Hk(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Vb(e,t,n){if((t=ya(t))instanceof vb)return t._internalPath;if("string"==typeof t)return Bb(e,t);throw zb("Field path arguments must be of type string or ",e,!1,void 0,n)}var qb=new RegExp("[~\\*/\\[\\]]");function Bb(e,t,n){if(t.search(qb)>=0)throw zb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Vi(vb,$r(t.split(".")))._internalPath}catch(r){throw zb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ql(Vl.INVALID_ARGUMENT,u+e+s)}function Hb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Wb=function(){function e(t,n,r,i,a){Ii(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ci(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $k(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Kb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Gb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Kb=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"data",value:function(){return po(Li(n.prototype),"data",this).call(this)}}]),n}(Wb);function Gb(e,t){return"string"==typeof t?Bb(e,t):t instanceof vb?t._internalPath:t._delegate._internalPath}var Qb=function(){function e(t,n){Ii(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ci(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Yb=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o,u){var s;return Ii(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ci(n,[{key:"exists",value:function(){return po(Li(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Gb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Wb),$b=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return po(Li(n.prototype),"data",this).call(this,e)}}]),n}(Yb),Jb=function(){function e(t,n,r,i){Ii(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qb(i.hasPendingWrites,i.fromCache),this.query=r}return Ci(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $b(n._firestore,n._userDataWriter,r.key,r,new Qb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ql(Vl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $b(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $b(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Xb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Xb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ul()}}function Zb(e,t){return e instanceof Yb&&t instanceof Yb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Jb&&t instanceof Jb&&e._firestore===t._firestore&&nb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function ew(e){if(dh(e)&&0===e.explicitOrderBy.length)throw new ql(Vl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tw=Ci((function e(){Ii(this,e)}));function nw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var rw=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Ci(n,[{key:"_apply",value:function(e){var t=Sb(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ql(Vl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){pw(o,a);var s,c=[],l=Ai(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(dw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=dw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||pw(o,a),u=Lb(n,"where",o,"in"===a||"not-in"===a);var h=Qf.create(i,a,u);return function(e,t){if(t.V()){var n=vh(e);if(null!==n&&!n.isEqual(t.field))throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ph(e);null!==r&&vw(e,t.field,r)}var i=function(e,t){var n,r=Ai(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ql(Vl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ql(Vl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Jk(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ch(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(tw);var iw=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Ci(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ah(t,n);return function(e,t){if(null===ph(e)){var n=vh(e);null!==n&&vw(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Jk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ch(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(tw);var aw=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Ci(n,[{key:"_apply",value:function(e){return new Jk(e.firestore,e.converter,kh(e._query,this.Xc,this.Zc))}}]),n}(tw);var ow=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Ci(n,[{key:"_apply",value:function(e){var t=hw(e,this.type,this.ta,this.ea);return new Jk(e.firestore,e.converter,function(e,t){return new ch(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(tw);function uw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ow("startAt",t,!0)}function sw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ow("startAfter",t,!1)}var cw=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return Ii(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Ci(n,[{key:"_apply",value:function(e){var t=hw(e,this.type,this.ta,this.ea);return new Jk(e.firestore,e.converter,function(e,t){return new ch(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(tw);function lw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cw("endBefore",t,!0)}function fw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cw("endAt",t,!1)}function hw(e,t,n,r){if(n[0]=ya(n[0]),n[0]instanceof Wb)return function(e,t,n,r,i){if(!r)throw new ql(Vl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ai(mh(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Pf(t,r.key));else{var c=r.data.field(s.field);if(kf(c))throw new ql(Vl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new rh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Sb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ql(Vl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!yh(e)&&-1!==c.indexOf("/"))throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(lf.fromString(c));if(!Sf.isDocumentKey(l))throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Sf(l);u.push(Pf(t,f))}else{var h=Lb(n,r,c);u.push(h)}}return new rh(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function dw(e,t,n){if("string"==typeof(n=ya(n))){if(""===n)throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yh(t)&&-1!==n.indexOf("/"))throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lf.fromString(n));if(!Sf.isDocumentKey(r))throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Pf(e,new Sf(r))}if(n instanceof $k)return Pf(e,n._key);throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Hk(n),"."))}function pw(e,t){if(!Array.isArray(e)||0===e.length)throw new ql(Vl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ql(Vl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function vw(e,t,n){if(!n.isEqual(t))throw new ql(Vl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yw=function(){function e(){Ii(this,e)}return Ci(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(If(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ul()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new gb(mf(e.latitude),mf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=yf(e);return new rf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lf.fromString(e);jl(hp(n));var r=new jk(n.get(1),n.get(3)),i=new Sf(n.popFirst(5));return r.isEqual(t)||Dl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gw=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this)).firestore=e,r}return Ci(n,[{key:"convertBytes",value:function(e){return new yb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $k(this.firestore,null,t)}}]),n}(yw),kw=function(){function e(t,n){Ii(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sb(t)}return Ci(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=bw(e,this._firestore),i=mw(r.converter,t,n),a=Ib(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,zh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=bw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ya(t))||t instanceof vb?Db(this._dataReader,"WriteBatch.update",i._key,t,n,o):Pb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,zh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=bw(e,this._firestore);return this._mutations=this._mutations.concat(new id(t._key,zh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ql(Vl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function bw(e,t){if((e=ya(e)).firestore!==t)throw new ql(Vl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ww=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this)).firestore=e,r}return Ci(n,[{key:"convertBytes",value:function(e){return new yb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $k(this.firestore,null,t)}}]),n}(yw);function xw(e){e=Wk(e,$k);var t=Wk(e.firestore,ob),n=ub(t),r=new ww(t);return function(e,t){var n=new Bl;return e.asyncQueue.enqueueAndForget(Si(li().mark((function r(){return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fl(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ql(Vl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Wm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Nk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Yb(t,r,e._key,n,new Qb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _w(e){e=Wk(e,Jk);var t=Wk(e.firestore,ob),n=ub(t),r=new ww(t);return function(e,t){var n=new Bl;return e.asyncQueue.enqueueAndForget(Si(li().mark((function r(){return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Si(li().mark((function e(t,n,r){var i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dy(t,n,!0);case 3:i=e.sent,a=new fg(n,i.zn),o=a.Po(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Wm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Nk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Jb(t,r,e,n)}))}function Ew(e,t,n){e=Wk(e,$k);var r=Wk(e.firestore,ob),i=mw(e.converter,t,n);return Cw(r,[Ib(Sb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zh.none())])}function Sw(e,t,n){e=Wk(e,$k);for(var r=Wk(e.firestore,ob),i=Sb(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Cw(r,[("string"==typeof(t=ya(t))||t instanceof vb?Db(i,"updateDoc",e._key,t,n,o):Pb(i,"updateDoc",e._key,t)).toMutation(e._key,zh.exists(!0))])}function Iw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ya(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||ib(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(ib(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof $k)l=Wk(e.firestore,ob),f=fh(e._key.path),c={next:function(t){n[s]&&n[s](Aw(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Wk(e,Jk);l=Wk(p.firestore,ob),f=p._query;var v=new ww(l);c={next:function(e){n[s]&&n[s](new Jb(l,v,p,e))},error:n[s+1],complete:n[s+2]},ew(e._query)}return function(e,t,n,r){var i=new yk(r),a=new ig(t,i,n);return e.asyncQueue.enqueueAndForget(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Jm,t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zm,t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ub(l),f,h,c)}function Tw(e,t){return function(e,t){var n=new yk(t);return e.asyncQueue.enqueueAndForget(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fl(e).io.add(t),t.next()},t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fl(e).io.delete(t)},t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ub(e=Wk(e,ob)),ib(t)?t:{next:t})}function Cw(e,t){return function(e,t){var n=new Bl;return e.asyncQueue.enqueueAndForget(Si(li().mark((function r(){return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=wg,r.next=3,Rk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ub(e),t)}function Aw(e,t,n){var r=n.docs.get(t._key),i=new ww(e);return new Yb(e,i,t._key,r,new Qb(n.hasPendingWrites,n.fromCache),t.converter)}var Nw=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ci(n,[{key:"get",value:function(e){var t=this,r=bw(e,this._firestore),i=new ww(this._firestore);return po(Li(n.prototype),"get",this).call(this,e).then((function(e){return new Yb(t._firestore,i,r._key,e._document,new Qb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ii(this,e),this._firestore=t,this._transaction=n,this._dataReader=Sb(t)}return Ci(e,[{key:"get",value:function(e){var t=this,n=bw(e,this._firestore),r=new gw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ul();var i=e[0];if(i.isFoundDocument())return new Wb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Wb(t._firestore,r,n._key,null,n.converter);throw Ul()}))}},{key:"set",value:function(e,t,n){var r=bw(e,this._firestore),i=mw(r.converter,t,n),a=Ib(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=bw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ya(t))||t instanceof vb?Db(this._dataReader,"Transaction.update",i._key,t,n,o):Pb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=bw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ow(e,t){return function(e,t){var n=new Bl;return e.asyncQueue.enqueueAndForget(Si(li().mark((function r(){var i;return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Tk(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new kk(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(ub(e=Wk(e,ob)),(function(n){return t(new Nw(e,n))}))}function Rw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Nb("arrayUnion",t)}function Pw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ob("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Nl=e}($a),qa(new ma("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ob(i,new Kl(e.getProvider("auth-internal")),new $l(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),no(Cl,"3.4.4",e),no(Cl,"3.4.4","esm2017")}();function Dw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ql("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Lw(){if("undefined"===typeof Uint8Array)throw new ql("unimplemented","Uint8Arrays are not available in this environment.")}function Mw(){if("undefined"==typeof atob)throw new ql("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Uw=function(){function e(t){Ii(this,e),this._delegate=t}return Ci(e,[{key:"toBase64",value:function(){return Mw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Lw(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Mw(),new e(yb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Lw(),new e(yb.fromUint8Array(t))}}]),e}();function jw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ai(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Fw=function(){function e(){Ii(this,e)}return Ci(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){pb(e=Wk(e,ob));var n=ub(e),r=e._freezeSettings(),i=new pk;return cb(n,i,new hk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){pb(e=Wk(e,ob));var t=ub(e),n=e._freezeSettings(),r=new pk;return cb(t,r,new dk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ql(Vl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Bl;return e._queue.enqueueAndForgetEvenWhileRestricted(Si(li().mark((function n(){return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jp.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,jp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()($v(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Vw=function(){function e(t,n,r){var i=this;Ii(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof jk||(this._appCompat=t)}return Ci(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ll("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return lb(this._delegate)}},{key:"disableNetwork",value:function(){return fb(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&qk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Bl;return e.asyncQueue.enqueueAndForget(Si(li().mark((function n(){return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Rg,n.next=3,Rk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ub(e=Wk(e,ob)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Tw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ql("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ex(this,Zk(this._delegate,e))}catch(t){throw Kw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Ww(this,eb(this._delegate,e))}catch(t){throw Kw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Jw(this,function(e,t){if(e=Wk(e,Qk),Vk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ql(Vl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Jk(e,null,function(e){return new ch(lf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Kw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Ow(this._delegate,(function(n){return e(new Bw(t,n))}))}},{key:"batch",value:function(){var e=this;return ub(this._delegate),new zw(new kw(this._delegate,(function(t){return Cw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hb(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return db(this._delegate,e).then((function(e){return e?new Jw(t,e):null}))}}]),e}(),qw=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this)).firestore=e,r}return Ci(n,[{key:"convertBytes",value:function(e){return new Uw(new yb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ww.forKey(t,this.firestore,null)}}]),n}(yw);var Bw=function(){function e(t,n){Ii(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new qw(t)}return Ci(e,[{key:"get",value:function(e){var t=this,n=tx(e);return this._delegate.get(n).then((function(e){return new Yw(t._firestore,new Yb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=tx(e);return n?(Dw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=tx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tx(e);return this._delegate.delete(t),this}}]),e}(),zw=function(){function e(t){Ii(this,e),this._delegate=t}return Ci(e,[{key:"set",value:function(e,t,n){var r=tx(e);return n?(Dw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=tx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tx(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Hw=function(){function e(t,n,r){Ii(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ci(e,[{key:"fromFirestore",value:function(e,t){var n=new $b(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $w(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new qw(t),n),i.set(n,a)),a}}]),e}();Hw.INSTANCES=new WeakMap;var Ww=function(){function e(t,n){Ii(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qw(t)}return Ci(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ex(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ex(this.firestore,Zk(this._delegate,e))}catch(t){throw Kw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ya(e))instanceof $k&&tb(this._delegate,e)}},{key:"set",value:function(e,t){t=Dw("DocumentReference.set",t);try{return t?Ew(this._delegate,e,t):Ew(this._delegate,e)}catch(n){throw Kw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Sw(this._delegate,e):Sw.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Kw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Cw(Wk(e.firestore,ob),[new id(e._key,zh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Gw(n),a=Qw(n,(function(t){return new Yw(e.firestore,new Yb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Iw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Wk(e,$k);var t=Wk(e.firestore,ob);return Lk(ub(t),e._key,{source:"server"}).then((function(n){return Aw(t,e,n)}))}(this._delegate):function(e){e=Wk(e,$k);var t=Wk(e.firestore,ob);return Lk(ub(t),e._key).then((function(n){return Aw(t,e,n)}))}(this._delegate),t.then((function(e){return new Yw(n.firestore,new Yb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Hw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ql("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new $k(n._delegate,r,new Sf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new $k(n._delegate,r,t))}}]),e}();function Kw(e,t,n){return e.message=e.message.replace(t,n),e}function Gw(e){var t,n=Ai(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Qw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jw(e[0])?e[0]:jw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yw=function(){function e(t,n){Ii(this,e),this._firestore=t,this._delegate=n}return Ci(e,[{key:"ref",get:function(){return new Ww(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Zb(this._delegate,e._delegate)}}]),e}(),$w=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ul()}(void 0!==t),t}}]),n}(Yw),Jw=function(){function e(t,n){Ii(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qw(t)}return Ci(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,nw(this._delegate,function(e,t,n){var r=t,i=Gb("where",e);return new rw(i,r,n)}(t,n,r)))}catch(i){throw Kw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,nw(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Gb("orderBy",e);return new iw(n,t)}(t,n)))}catch(r){throw Kw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,nw(this._delegate,function(e){return Kk("limit",e),new aw("limit",e,"F")}(t)))}catch(n){throw Kw(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,nw(this._delegate,function(e){return Kk("limitToLast",e),new aw("limitToLast",e,"L")}(t)))}catch(n){throw Kw(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,nw(this._delegate,uw.apply(void 0,arguments)))}catch(t){throw Kw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,nw(this._delegate,sw.apply(void 0,arguments)))}catch(t){throw Kw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,nw(this._delegate,lw.apply(void 0,arguments)))}catch(t){throw Kw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,nw(this._delegate,fw.apply(void 0,arguments)))}catch(t){throw Kw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return nb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_w(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Wk(e,Jk);var t=Wk(e.firestore,ob),n=ub(t),r=new ww(t);return Mk(n,e._query,{source:"server"}).then((function(n){return new Jb(t,r,e,n)}))}(this._delegate):function(e){e=Wk(e,Jk);var t=Wk(e.firestore,ob),n=ub(t),r=new ww(t);return ew(e._query),Mk(n,e._query).then((function(n){return new Jb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Zw(n.firestore,new Jb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Gw(n),a=Qw(n,(function(t){return new Zw(e.firestore,new Jb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Iw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Hw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Xw=function(){function e(t,n){Ii(this,e),this._firestore=t,this._delegate=n}return Ci(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new $w(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Zw=function(){function e(t,n){Ii(this,e),this._firestore=t,this._delegate=n}return Ci(e,[{key:"query",get:function(){return new Jw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new $w(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Xw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new $w(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Zb(this._delegate,e._delegate)}}]),e}(),ex=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ci(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Ww(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Ww(this.firestore,void 0===e?eb(this._delegate):eb(this._delegate,e))}catch(t){throw Kw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Wk(e.firestore,ob),r=eb(e),i=mw(e.converter,t);return Cw(n,[Ib(Sb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Ww(t.firestore,e)}))}},{key:"isEqual",value:function(e){return tb(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Hw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Jw);function tx(e){return Wk(e,$k)}var nx,rx=function(){function e(){Ii(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Vi(vb,n)}return Ci(e,[{key:"isEqual",value:function(e){return(e=ya(e))instanceof vb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(hf.keyField().canonicalString())}}]),e}(),ix=function(){function e(t){Ii(this,e),this._delegate=t}return Ci(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Ab("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Tb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Rw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Pw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Rb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ax={Firestore:Vw,GeoPoint:gb,Timestamp:rf,Blob:Uw,Transaction:Bw,WriteBatch:zw,DocumentReference:Ww,DocumentSnapshot:Yw,Query:Jw,QueryDocumentSnapshot:$w,QuerySnapshot:Zw,CollectionReference:ex,FieldPath:rx,FieldValue:ix,setLogLevel:function(e){!function(e){Ol.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ma("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ax)))})(nx=fo,(function(e,t){return new Vw(e,t,new Fw)})),nx.registerVersion("@firebase/firestore-compat","0.1.13");function ox(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ux;Object.create;var sx="facebook.com",cx="github.com",lx="google.com",fx="password",hx="twitter.com",dx="EMAIL_SIGNIN",px="PASSWORD_RESET",vx="RECOVER_EMAIL",yx="REVERT_SECOND_FACTOR_ADDITION",mx="VERIFY_AND_CHANGE_EMAIL",gx="VERIFY_EMAIL";function kx(){return mt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var bx=function(){var e;return mt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),mt(e,"argument-error",""),mt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),mt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),mt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),mt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),mt(e,"cordova-not-ready","Cordova framework is not ready."),mt(e,"cors-unsupported","This browser is not supported."),mt(e,"credential-already-in-use","This credential is already associated with a different user account."),mt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),mt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),mt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),mt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),mt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),mt(e,"email-already-in-use","The email address is already in use by another account."),mt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),mt(e,"expired-action-code","The action code has expired."),mt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),mt(e,"internal-error","An internal AuthError has occurred."),mt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),mt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),mt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),mt(e,"invalid-auth-event","An internal AuthError has occurred."),mt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),mt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),mt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),mt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),mt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),mt(e,"invalid-email","The email address is badly formatted."),mt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),mt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),mt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),mt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),mt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),mt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),mt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),mt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),mt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),mt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),mt(e,"wrong-password","The password is invalid or the user does not have a password."),mt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),mt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),mt(e,"invalid-provider-id","The specified provider ID is invalid."),mt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),mt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),mt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),mt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),mt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),mt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),mt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),mt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),mt(e,"missing-continue-uri","A continue URL must be provided in the request."),mt(e,"missing-iframe-start","An internal AuthError has occurred."),mt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),mt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),mt(e,"missing-multi-factor-info","No second factor identifier is provided."),mt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),mt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),mt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),mt(e,"app-deleted","This instance of FirebaseApp has been deleted."),mt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),mt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),mt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),mt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),mt(e,"no-auth-event","An internal AuthError has occurred."),mt(e,"no-such-provider","User was not linked to an account with the given provider."),mt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),mt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),mt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),mt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),mt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),mt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),mt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),mt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),mt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),mt(e,"rejected-credential","The request contains malformed or mismatching credentials."),mt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),mt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),mt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),mt(e,"timeout","The operation has timed out."),mt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),mt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),mt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),mt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),mt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),mt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),mt(e,"unverified-email","The operation requires a verified email."),mt(e,"user-cancelled","The user did not grant your application the permissions it requested."),mt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),mt(e,"user-disabled","The user account has been disabled by an administrator."),mt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),mt(e,"user-signed-out",""),mt(e,"weak-password","The password must be 6 characters long or more."),mt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),mt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},wx=kx,xx=new ia("auth","Firebase",kx()),_x=new Na("@firebase/auth");function Ex(e){if(_x.logLevel<=wa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_x.error.apply(_x,["Auth (".concat($a,"): ").concat(e)].concat(n))}}function Sx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ax.apply(void 0,[e].concat(n))}function Ix(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ax.apply(void 0,[e].concat(n))}function Tx(e,t,n){var r=Object.assign(Object.assign({},wx()),mt({},t,n));return new ia("auth","Firebase",r).create(t,{appName:e.name})}function Cx(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Sx(e,"argument-error"),Tx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ax(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=$r(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat($r(o)))}return xx.create.apply(xx,[e].concat(n))}function Nx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ax.apply(void 0,[t].concat(r))}}function Ox(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ex(t),new Error(t)}function Rx(e,t){e||Ox(t)}var Px=new Map;function Dx(e){Rx(e instanceof Function,"Expected a class definition");var t=Px.get(e);return t?(Rx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Px.set(e,t),t)}function Lx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mx(){return"http:"===Ux()||"https:"===Ux()}function Ux(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var jx=function(){function e(t,n){Ii(this,e),this.shortDelay=t,this.longDelay=n,Rx(n>t,"Short delay should be less than long delay!"),this.isMobile=Ji()||ea()}return Ci(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mx()||Zi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Fx(e,t){Rx(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vx=function(){function e(){Ii(this,e)}return Ci(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ox("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ox("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ox("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),qx=(mt(ux={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),mt(ux,"MISSING_CUSTOM_TOKEN","internal-error"),mt(ux,"INVALID_IDENTIFIER","invalid-email"),mt(ux,"MISSING_CONTINUE_URI","internal-error"),mt(ux,"INVALID_PASSWORD","wrong-password"),mt(ux,"MISSING_PASSWORD","internal-error"),mt(ux,"EMAIL_EXISTS","email-already-in-use"),mt(ux,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),mt(ux,"INVALID_IDP_RESPONSE","invalid-credential"),mt(ux,"INVALID_PENDING_TOKEN","invalid-credential"),mt(ux,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),mt(ux,"MISSING_REQ_TYPE","internal-error"),mt(ux,"EMAIL_NOT_FOUND","user-not-found"),mt(ux,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),mt(ux,"EXPIRED_OOB_CODE","expired-action-code"),mt(ux,"INVALID_OOB_CODE","invalid-action-code"),mt(ux,"MISSING_OOB_CODE","internal-error"),mt(ux,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),mt(ux,"INVALID_ID_TOKEN","invalid-user-token"),mt(ux,"TOKEN_EXPIRED","user-token-expired"),mt(ux,"USER_NOT_FOUND","user-token-expired"),mt(ux,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),mt(ux,"INVALID_CODE","invalid-verification-code"),mt(ux,"INVALID_SESSION_INFO","invalid-verification-id"),mt(ux,"INVALID_TEMPORARY_PROOF","invalid-credential"),mt(ux,"MISSING_SESSION_INFO","missing-verification-id"),mt(ux,"SESSION_EXPIRED","code-expired"),mt(ux,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),mt(ux,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),mt(ux,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),mt(ux,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),mt(ux,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),mt(ux,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),mt(ux,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),mt(ux,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),mt(ux,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),mt(ux,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),mt(ux,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ux),Bx=new jx(3e4,6e4);function zx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Hx(e,t,n,r){return Wx.apply(this,arguments)}function Wx(){return Wx=Si(li().mark((function e(t,n,r,i){var a,o=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Kx(t,a,Si(li().mark((function e(){var a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=la(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vx.fetch()($x(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(e,t,n){return Gx.apply(this,arguments)}function Gx(){return Gx=Si(li().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},qx),n),e.prev=2,a=new Jx(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Xx(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Ri(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Xx(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Xx(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Tx(t,d,h);case 30:Sx(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ra)){e.next=37;break}throw e.t0;case 37:Sx(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Gx.apply(this,arguments)}function Qx(e,t,n,r){return Yx.apply(this,arguments)}function Yx(){return Yx=Si(li().mark((function e(t,n,r,i){var a,o,u=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Hx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Sx(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function $x(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Fx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Jx=function(){function e(t){var n=this;Ii(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ix(n.auth,"network-request-failed"))}),Bx.get())}))}return Ci(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ix(e,t,r);return i.customData._tokenResponse=n,i}function Zx(e,t){return e_.apply(this,arguments)}function e_(){return e_=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function o_(){return o_=Si(li().mark((function e(t){var n,r,i,a,o,u,s=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ya(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Nx((a=s_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:a_(u_(a.auth_time)),issuedAtTime:a_(u_(a.iat)),expirationTime:a_(u_(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e){return 1e3*Number(e)}function s_(e){var t=Ri(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ex("JWT malformed, contained fewer than 3 sections"),null;try{var a=Wi(r);return a?JSON.parse(a):(Ex("Failed to decode base64 JWT payload"),null)}catch(o){return Ex("Caught error parsing JWT payload as JSON",o),null}}function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=Si(li().mark((function e(t,n){var r=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ra&&f_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),l_.apply(this,arguments)}function f_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var h_=function(){function e(t){Ii(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ci(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),d_=function(){function e(t,n){Ii(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ci(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=a_(this.lastLoginAt),this.creationTime=a_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function p_(e){return v_.apply(this,arguments)}function v_(){return v_=Si(li().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,c_(t,r_(r,{idToken:i}));case 6:Nx(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?g_(o.providerUserInfo):[],s=m_(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new d_(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function y_(){return(y_=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ya(t),e.next=3,p_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat($r(n),$r(t))}function g_(e){return e.map((function(e){var t=e.providerId,n=ox(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function k_(e,t){return b_.apply(this,arguments)}function b_(){return b_=Si(li().mark((function e(t,n){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kx(t,{},Si(li().mark((function e(){var r,i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=la({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=$x(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vx.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}var w_=function(){function e(){Ii(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ci(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Nx(e.idToken,"internal-error"),Nx("undefined"!==typeof e.idToken,"internal-error"),Nx("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=s_(e);return Nx(t,"internal-error"),Nx("undefined"!==typeof t.exp,"internal-error"),Nx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Si(li().mark((function e(t){var n,r=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Nx(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ox("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Nx("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Nx("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Nx("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function x_(e,t){Nx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var __=function(){function e(t){Ii(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ox(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?$r(a.providerData):[],this.metadata=new d_(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ci(e,[{key:"getIdToken",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Nx(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return o_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return y_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Nx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Nx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Si(li().mark((function e(t){var n,r,i=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,p_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,c_(this,Zx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Nx(k&&_,t,"internal-error");var E=w_.fromJSON(this.name,_);Nx("string"===typeof k,t,"internal-error"),x_(f,t.name),x_(h,t.name),Nx("boolean"===typeof b,t,"internal-error"),Nx("boolean"===typeof w,t,"internal-error"),x_(d,t.name),x_(p,t.name),x_(v,t.name),x_(y,t.name),x_(m,t.name),x_(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=Si(li().mark((function t(n,r){var i,a,o,u=arguments;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new w_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,p_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),E_=function(){function e(){Ii(this,e),this.type="NONE",this.storage={}}return Ci(e,[{key:"_isAvailable",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();E_.type="NONE";var S_=E_;function I_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var T_=function(){function e(t,n,r){Ii(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=I_(this.userKey,a.apiKey,o),this.fullPersistenceKey=I_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ci(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?__._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Si(li().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Dx(S_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Dx(S_),u=I_(i,n.config.apiKey,n.name),s=null,c=Ai(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=__._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function C_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(R_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(A_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(D_(t))return"Blackberry";if(L_(t))return"Webos";if(N_(t))return"Safari";if((t.includes("chrome/")||O_(t))&&!t.includes("edge/"))return"Chrome";if(P_(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function A_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/firefox\//i.test(e)}function N_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function O_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/crios\//i.test(e)}function R_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/iemobile/i.test(e)}function P_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/android/i.test(e)}function D_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/blackberry/i.test(e)}function L_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/webos/i.test(e)}function M_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/iphone|ipad|ipod/i.test(e)}function U_(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return M_(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function j_(){return ta()&&10===document.documentMode}function F_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return M_(e)||P_(e)||L_(e)||D_(e)||/windows phone/i.test(e)||R_(e)}function V_(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=C_($i());break;case"Worker":t="".concat(C_($i()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($a,"/").concat(r)}var q_=function(){function e(t,n){Ii(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Ci(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Dx(t)),this._initializationPromise=this.queue(Si(li().mark((function r(){var i,a;return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,T_.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Si(li().mark((function e(t){var n,r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Nx(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ya(t):null)&&Nx(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Si(li().mark((function e(t){var n=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Nx(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Si(li().mark((function n(){return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Dx(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ia("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Si(li().mark((function e(t,n){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Nx(n=t&&Dx(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,T_.create(this,[Dx(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Si(li().mark((function e(t){var n=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Nx(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Nx(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V_(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=mt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function B_(e){return ya(e)}var z_=function(){function e(t){var n=this;Ii(this,e),this.auth=t,this.observer=null,this.addObserver=da((function(e){return n.observer=e}))}return Ci(e,[{key:"next",get:function(){return Nx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function H_(e,t,n){var r=B_(e);Nx(r._canInitEmulator,r,"emulator-config-failed"),Nx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=W_(t),o=function(e){var t=W_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:K_(r.substr(a.length+1))}}var o=Ri(r.split(":"),2);return{host:o[0],port:K_(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function W_(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function K_(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var G_=function(){function e(t,n){Ii(this,e),this.providerId=t,this.signInMethod=n}return Ci(e,[{key:"toJSON",value:function(){return Ox("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ox("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ox("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ox("not implemented")}}]),e}();function Q_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:resetPassword",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function $_(e,t){return J_.apply(this,arguments)}function J_(){return J_=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function X_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qx(t,"POST","/v1/accounts:signInWithPassword",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:sendOobCode",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,n));case 1:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,n));case 1:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,n));case 1:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,n));case 1:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e,t){return dE.apply(this,arguments)}function dE(){return dE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qx(t,"POST","/v1/accounts:signInWithEmailLink",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(e,t){return vE.apply(this,arguments)}function vE(){return vE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qx(t,"POST","/v1/accounts:signInWithEmailLink",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}var yE=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ii(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ci(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",eE(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hE(t,{email:this._email,oobCode:this._password}));case 5:Sx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$_(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Sx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(G_);function mE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qx(t,"POST","/v1/accounts:signInWithIdp",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}var kE=function(e){Di(n,e);var t=Fi(n);function n(){var e;return Ii(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ci(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return mE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,mE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,mE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=la(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sx("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ox(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(G_);function bE(e,t){return wE.apply(this,arguments)}function wE(){return wE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:sendVerificationCode",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(){return xE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qx(t,"POST","/v1/accounts:signInWithPhoneNumber",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function _E(){return _E=Si(li().mark((function e(t,n){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qx(t,"POST","/v1/accounts:signInWithPhoneNumber",zx(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}var EE=mt({},"USER_NOT_FOUND","user-not-found");function SE(){return SE=Si(li().mark((function e(t,n){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Qx(t,"POST","/v1/accounts:signInWithPhoneNumber",zx(t,r),EE));case 2:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}var IE=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ci(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return xE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return _E.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return SE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(G_);var TE=function(){function e(t){var n,r,i,a,o,u;Ii(this,e);var s=fa(ha(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Nx(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ci(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fa(ha(e)).link,n=t?fa(ha(t)).deep_link_id:null,r=fa(ha(e)).deep_link_id;return(r?fa(ha(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(jk){return null}}}]),e}();var CE=function(){function e(){Ii(this,e),this.providerId=e.PROVIDER_ID}return Ci(e,null,[{key:"credential",value:function(e,t){return yE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=TE.parseLink(t);return Nx(n,"argument-error"),yE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();CE.PROVIDER_ID="password",CE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",CE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var AE=function(){function e(t){Ii(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ci(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),NE=function(e){Di(n,e);var t=Fi(n);function n(){var e;return Ii(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ci(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return $r(this.scopes)}}]),n}(AE),OE=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ci(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Nx(e.idToken||e.accessToken,"argument-error"),kE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Nx("providerId"in t&&"signInMethod"in t,"argument-error"),kE._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(NE),RE=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.call(this,"facebook.com")}return Ci(n,null,[{key:"credential",value:function(e){return kE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(jk){return null}}}]),n}(NE);RE.FACEBOOK_SIGN_IN_METHOD="facebook.com",RE.PROVIDER_ID="facebook.com";var PE=function(e){Di(n,e);var t=Fi(n);function n(){var e;return Ii(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ci(n,null,[{key:"credential",value:function(e,t){return kE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(jk){return null}}}]),n}(NE);PE.GOOGLE_SIGN_IN_METHOD="google.com",PE.PROVIDER_ID="google.com";var DE=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.call(this,"github.com")}return Ci(n,null,[{key:"credential",value:function(e){return kE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(jk){return null}}}]),n}(NE);DE.GITHUB_SIGN_IN_METHOD="github.com",DE.PROVIDER_ID="github.com";var LE=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return Ii(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ci(n,[{key:"_getIdTokenResponse",value:function(e){return mE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,mE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,mE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(G_),ME=function(e){Di(n,e);var t=Fi(n);function n(e){return Ii(this,n),Nx(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ci(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=LE.fromJSON(e);return Nx(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return LE._create(r,n)}catch(i){return null}}}]),n}(AE),UE=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.call(this,"twitter.com")}return Ci(n,null,[{key:"credential",value:function(e,t){return kE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(jk){return null}}}]),n}(NE);function jE(e,t){return FE.apply(this,arguments)}function FE(){return FE=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qx(t,"POST","/v1/accounts:signUp",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}UE.TWITTER_SIGN_IN_METHOD="twitter.com",UE.PROVIDER_ID="twitter.com";var VE=function(){function e(t){Ii(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ci(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Si(li().mark((function t(n,r,i){var a,o,u,s,c=arguments;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,__._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=qE(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Si(li().mark((function t(n,r,i){var a;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=qE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function qE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function BE(){return BE=Si(li().mark((function e(t){var n,r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B_(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new VE({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,jE(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,VE._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}var zE=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o,u;return Ii(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Pi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ci(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ra);function HE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw zE._fromErrorAndOperation(e,n,t,r);throw n}))}function WE(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function KE(e,t){return GE.apply(this,arguments)}function GE(){return GE=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ya(t),e.next=3,$E(!0,r,n);case 3:return e.t0=t_,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=WE(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e,t){return YE.apply(this,arguments)}function YE(){return YE=Si(li().mark((function e(t,n){var r,i,a=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=c_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",VE._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function $E(e,t,n){return JE.apply(this,arguments)}function JE(){return(JE=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p_(n);case 2:i=WE(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Nx(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=Si(li().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,c_(t,HE(i,a,n,t),r);case 6:return Nx((o=e.sent).idToken,i,"internal-error"),Nx(u=s_(o.idToken),i,"internal-error"),s=u.sub,Nx(t.uid===s,i,"user-mismatch"),e.abrupt("return",VE._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Sx(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ZE.apply(this,arguments)}function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=Si(li().mark((function e(t,n){var r,i,a,o,u=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,HE(t,i,n);case 4:return a=e.sent,e.next=7,VE._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){return rS.apply(this,arguments)}function rS(){return rS=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eS(B_(t),n));case 1:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return(aS=Si(li().mark((function e(t,n){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ya(t),e.next=3,$E(!1,r,n.providerId);case 3:return e.abrupt("return",QE(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(e,t){return uS.apply(this,arguments)}function uS(){return(uS=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XE(ya(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sS(e,t){return cS.apply(this,arguments)}function cS(){return cS=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qx(t,"POST","/v1/accounts:signInWithCustomToken",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(){return lS=Si(li().mark((function e(t,n){var r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B_(t),e.next=3,sS(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,VE._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}var fS=function(){function e(t,n){Ii(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ci(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?hS._fromServerResponse(e,t):Sx(e,"internal-error")}}]),e}(),hS=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ci(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(fS);function dS(e,t,n){var r;Nx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Nx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Nx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Nx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function pS(){return pS=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ya(t),a={requestType:"PASSWORD_RESET",email:n},r&&dS(i,a,r),e.next=5,oE(i,a);case 5:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(){return vS=Si(li().mark((function e(t,n,r){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q_(ya(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function yS(){return yS=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X_(ya(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function mS(e,t){return gS.apply(this,arguments)}function gS(){return gS=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ya(t),e.next=3,Q_(r,{oobCode:n});case 3:i=e.sent,Nx(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Nx(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Nx(i.mfaInfo,r,"internal-error");case 13:Nx(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=fS._fromServerResponse(B_(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(){return kS=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mS(ya(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t,n){return wS.apply(this,arguments)}function wS(){return wS=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),e.next=3,jE(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,VE._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(){return xS=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ya(t),a={requestType:"EMAIL_SIGNIN",email:n},Nx(r.handleCodeInApp,i,"argument-error"),r&&dS(i,a,r),e.next=6,sE(i,a);case 6:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function _S(){return _S=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ya(t),Nx((a=CE.credentialWithLink(n,r||Lx()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",nS(i,a));case 4:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function ES(e,t){return SS.apply(this,arguments)}function SS(){return SS=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:createAuthUri",zx(t,n)));case 1:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function IS(){return IS=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx()?Lx():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ES(ya(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}function TS(){return(TS=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ya(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&dS(r.auth,a,n),e.next=8,iE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CS(){return(CS=Si(li().mark((function e(t,n,r){var i,a,o,u;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ya(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&dS(i.auth,o,r),e.next=8,lE(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AS(e,t){return NS.apply(this,arguments)}function NS(){return NS=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function OS(){return(OS=Si(li().mark((function e(t,n){var r,i,a,o,u,s,c;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ya(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,c_(a,AS(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RS(e,t,n){return PS.apply(this,arguments)}function PS(){return PS=Si(li().mark((function e(t,n,r){var i,a,o,u;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,c_(t,$_(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}var DS=Ci((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ii(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),LS=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o;return Ii(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ci(n)}(DS),MS=function(e){Di(n,e);var t=Fi(n);function n(e,r){return Ii(this,n),t.call(this,e,"facebook.com",r)}return Ci(n)}(DS),US=function(e){Di(n,e);var t=Fi(n);function n(e,r){return Ii(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ci(n)}(LS),jS=function(e){Di(n,e);var t=Fi(n);function n(e,r){return Ii(this,n),t.call(this,e,"google.com",r)}return Ci(n)}(DS),FS=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){return Ii(this,n),t.call(this,e,"twitter.com",r,i)}return Ci(n)}(LS);function VS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=s_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new DS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new MS(a,i);case"github.com":return new US(a,i);case"google.com":return new jS(a,i);case"twitter.com":return new FS(a,i,e.screenName||null);case"custom":case"anonymous":return new DS(a,null);default:return new DS(a,r,i)}}(n)}var qS=function(){function e(t,n){Ii(this,e),this.type=t,this.credential=n}return Ci(e,[{key:"toJSON",value:function(){return{multiFactorSession:mt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),BS=function(){function e(t,n,r){Ii(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ci(e,[{key:"resolveSignIn",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=B_(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return fS._fromServerResponse(r,e)}));Nx(i.mfaPendingCredential,r,"internal-error");var o=qS._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Si(li().mark((function e(t){var a,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,VE._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Nx(n.user,r,"internal-error"),e.abrupt("return",VE._forOperation(n.user,n.operationType,u));case 17:Sx(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function zS(e,t){return Hx(e,"POST","/v2/accounts/mfaEnrollment:start",zx(e,t))}function HS(e,t){return Hx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",zx(e,t))}var WS=function(){function e(t){var n=this;Ii(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return fS._fromServerResponse(t.auth,e)})))}))}return Ci(e,[{key:"getSession",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=qS,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Si(li().mark((function e(t,n){var r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,c_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Si(li().mark((function e(t){var n,r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,c_(this.user,HS(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),KS=new WeakMap;var GS="__sak",QS=function(){function e(t,n){Ii(this,e),this.storageRetriever=t,this.type=n}return Ci(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(GS,"1"),this.storage.removeItem(GS),Promise.resolve(!0)):Promise.resolve(!1)}catch(jk){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var YS=function(e){Di(n,e);var t=Fi(n);function n(){var e;return Ii(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=$i();return N_(e)||M_(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=F_(),e._shouldAllowMigration=!0,e}return Ci(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);j_()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Si(li().mark((function e(t,r){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Li(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Si(li().mark((function e(t){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Li(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Li(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(QS);YS.type="LOCAL";var $S=YS,JS=function(e){Di(n,e);var t=Fi(n);function n(){return Ii(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ci(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(QS);JS.type="SESSION";var XS=JS;function ZS(e){return Promise.all(e.map(function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var eI=function(){function e(t){Ii(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ci(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Si(li().mark((function e(t){var n,r,i,a,o,u,s,c;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ZS(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function tI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}eI.receivers=[];var nI=function(){function e(t){Ii(this,e),this.target=t,this.handlers=new Set}return Ci(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Si(li().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=tI("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function rI(){return window}function iI(){return"undefined"!==typeof rI().WorkerGlobalScope&&"function"===typeof rI().importScripts}function aI(){return oI.apply(this,arguments)}function oI(){return(oI=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function uI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var sI="firebaseLocalStorageDb",cI="firebaseLocalStorage",lI="fbase_key",fI=function(){function e(t){Ii(this,e),this.request=t}return Ci(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function hI(e,t){return e.transaction([cI],t?"readwrite":"readonly").objectStore(cI)}function dI(){var e=indexedDB.deleteDatabase(sI);return new fI(e).toPromise()}function pI(){var e=indexedDB.open(sI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(cI,{keyPath:lI})}catch(r){n(r)}})),e.addEventListener("success",Si(li().mark((function n(){var r;return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(cI)){n.next=12;break}return r.close(),n.next=5,dI();case 5:return n.t0=t,n.next=8,pI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function vI(e,t,n){return yI.apply(this,arguments)}function yI(){return yI=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hI(t,!0).put((mt(i={},lI,n),mt(i,"value",r),i)),e.abrupt("return",new fI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function mI(e,t){return gI.apply(this,arguments)}function gI(){return gI=Si(li().mark((function e(t,n){var r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hI(t,!1).get(n),e.next=3,new fI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e,t){var n=hI(e,!0).delete(t);return new fI(n).toPromise()}var bI=function(){function e(){Ii(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ci(e,[{key:"_openDb",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,pI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Si(li().mark((function e(){var t=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=eI._getInstance(iI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Si(li().mark((function e(n,r){var i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Si(li().mark((function e(){var t,n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new nI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&uI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,pI();case 5:return t=e.sent,e.next=8,vI(t,GS,"1");case 8:return e.next=10,kI(t,GS);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Si(li().mark((function e(t,n){var r=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return vI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return mI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Si(li().mark((function e(t){var n=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return kI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Si(li().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=hI(e,!1).getAll();return new fI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ai(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Si(li().mark((function t(){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();bI.type="LOCAL";var wI=bI;function xI(e,t){return Hx(e,"POST","/v2/accounts/mfaSignIn:start",zx(e,t))}function _I(e){return EI.apply(this,arguments)}function EI(){return EI=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function SI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ix("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function II(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var TI=1e12,CI=function(){function e(t){Ii(this,e),this.auth=t,this.counter=TI,this._widgets=new Map}return Ci(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new AI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||TI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||TI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||TI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),AI=function(){function e(t,n,r){var i=this;Ii(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Nx(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ci(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var NI=II("rcb"),OI=new jx(3e4,6e4),RI="https://www.google.com/recaptcha/api.js?",PI=function(){function e(){Ii(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!rI().grecaptcha}return Ci(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Nx(DI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(rI().grecaptcha):new Promise((function(r,i){var a=rI().setTimeout((function(){i(Ix(e,"network-request-failed"))}),OI.get());rI()[NI]=function(){rI().clearTimeout(a),delete rI()[NI];var o=rI().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ix(e,"internal-error"))},SI("".concat(RI,"?").concat(la({onload:NI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ix(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!rI().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function DI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var LI=function(){function e(){Ii(this,e)}return Ci(e,[{key:"load",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new CI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),MI="recaptcha",UI={theme:"light",type:"image"},jI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},UI),r=arguments.length>2?arguments[2]:void 0;Ii(this,e),this.parameters=n,this.type=MI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=B_(r),this.isInvisible="invisible"===this.parameters.size,Nx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Nx(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new LI:new PI,this.validateStartingState()}return Ci(e,[{key:"verify",value:function(){var e=Si(li().mark((function e(){var t,n,r,i=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Nx(!this.parameters.sitekey,this.auth,"argument-error"),Nx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Nx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=rI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Nx(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Si(li().mark((function e(){var t,n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nx(Mx()&&!iI(),this.auth,"internal-error"),e.next=3,FI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,_I(this.auth);case 8:Nx(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Nx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function FI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var VI=function(){function e(t,n){Ii(this,e),this.verificationId=t,this.onConfirmation=n}return Ci(e,[{key:"confirm",value:function(e){var t=IE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function qI(){return qI=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),e.next=3,WI(i,n,ya(r));case 3:return a=e.sent,e.abrupt("return",new VI(a,(function(e){return nS(i,e)})));case 5:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function BI(e,t,n){return zI.apply(this,arguments)}function zI(){return(zI=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ya(t),e.next=3,$E(!1,i,"phone");case 3:return e.next=5,WI(i.auth,n,ya(r));case 5:return a=e.sent,e.abrupt("return",new VI(a,(function(e){return iS(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HI(){return(HI=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ya(t),e.next=3,WI(i.auth,n,ya(r));case 3:return a=e.sent,e.abrupt("return",new VI(a,(function(e){return oS(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WI(e,t,n){return KI.apply(this,arguments)}function KI(){return KI=Si(li().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Nx("string"===typeof a,t,"argument-error"),Nx(r.type===MI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Nx("enroll"===u.type,t,"internal-error"),e.next=13,zS(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Nx("signin"===u.type,t,"internal-error"),Nx(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,xI(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,bE(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),KI.apply(this,arguments)}function GI(){return(GI=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QE(ya(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var QI=function(){function e(t){Ii(this,e),this.providerId=e.PROVIDER_ID,this.auth=B_(t)}return Ci(e,[{key:"verifyPhoneNumber",value:function(e,t){return WI(this.auth,e,ya(t))}}],[{key:"credential",value:function(e,t){return IE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?IE._fromTokenResponse(n,r):null}}]),e}();function YI(e,t){return t?Dx(t):(Nx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}QI.PROVIDER_ID="phone",QI.PHONE_SIGN_IN_METHOD="phone";var $I=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ci(n,[{key:"_getIdTokenResponse",value:function(e){return mE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return mE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return mE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(G_);function JI(e){return eS(e.auth,new $I(e),e.bypassAuthState)}function XI(e){var t=e.auth,n=e.user;return Nx(n,t,"internal-error"),XE(n,new $I(e),e.bypassAuthState)}function ZI(e){return eT.apply(this,arguments)}function eT(){return eT=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Nx(r=t.user,n,"internal-error"),e.abrupt("return",QE(r,new $I(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}var tT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ii(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ci(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Si(li().mark((function t(n,r){return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Si(li().mark((function e(t){var n,r,i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return ZI;case"reauthViaPopup":case"reauthViaRedirect":return XI;default:Sx(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Rx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Rx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),nT=new jx(2e3,1e4);function rT(e,t,n){return iT.apply(this,arguments)}function iT(){return iT=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),Cx(t,n,AE),a=YI(i,r),o=new sT(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(){return(aT=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ya(t)).auth,n,AE),a=YI(i.auth,r),o=new sT(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oT(e,t,n){return uT.apply(this,arguments)}function uT(){return(uT=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ya(t)).auth,n,AE),a=YI(i.auth,r),o=new sT(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sT=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o){var u;return Ii(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Pi(u),u}return Ci(n,[{key:"executeNotNull",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Nx(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Si(li().mark((function e(){var t,n=this;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rx(1===this.filter.length,"Popup operations only handle one event"),t=tI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ix(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ix(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ix(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,nT.get())}()}}]),n}(tT);sT.currentPopupAction=null;var cT=new Map,lT=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ii(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ci(n,[{key:"execute",value:function(){var e=Si(li().mark((function e(){var t,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=cT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,fT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,po(Li(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:cT.set(this.auth._key(),t);case 21:return this.bypassAuthState||cT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Si(li().mark((function e(t){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",po(Li(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",po(Li(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(tT);function fT(e,t){return hT.apply(this,arguments)}function hT(){return hT=Si(li().mark((function e(t,n){var r,i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yT(n),i=vT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e,t){return pT.apply(this,arguments)}function pT(){return pT=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vT(t)._set(yT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),pT.apply(this,arguments)}function vT(e){return Dx(e._redirectPersistence)}function yT(e){return I_("pendingRedirect",e.config.apiKey,e.name)}function mT(e,t,n){return function(e,t,n){return gT.apply(this,arguments)}(e,t,n)}function gT(){return gT=Si(li().mark((function e(t,n,r){var i,a;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),Cx(t,n,AE),a=YI(i,r),e.next=5,dT(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function kT(e,t,n){return function(e,t,n){return bT.apply(this,arguments)}(e,t,n)}function bT(){return(bT=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ya(t)).auth,n,AE),a=YI(i.auth,r),e.next=5,dT(a,i.auth);case 5:return e.next=7,TT(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wT(e,t,n){return function(e,t,n){return xT.apply(this,arguments)}(e,t,n)}function xT(){return(xT=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ya(t)).auth,n,AE),a=YI(i.auth,r),e.next=5,$E(!1,i,n.providerId);case 5:return e.next=7,dT(a,i.auth);case 7:return e.next=9,TT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _T(e,t){return ET.apply(this,arguments)}function ET(){return ET=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B_(t)._initializationPromise;case 2:return e.abrupt("return",ST(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function ST(e,t){return IT.apply(this,arguments)}function IT(){return IT=Si(li().mark((function e(t,n){var r,i,a,o,u,s=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=B_(t),a=YI(i,n),o=new lT(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function TT(e){return CT.apply(this,arguments)}function CT(){return(CT=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AT=function(){function e(t){Ii(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ci(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!OT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ix(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function NT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function OT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function RT(e){return PT.apply(this,arguments)}function PT(){return PT=Si(li().mark((function e(t){var n,r=arguments;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Hx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}var DT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LT=/^https?/;function MT(){return MT=Si(li().mark((function e(t){var n,r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,RT(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ai(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!UT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Sx(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),MT.apply(this,arguments)}function UT(e){var t=Lx(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!LT.test(r))return!1;if(DT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var jT=new jx(3e4,6e4);function FT(){var e=rI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=$r(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var VT=null;function qT(e){return VT=VT||function(e){return new Promise((function(t,n){var r,i,a;function o(){FT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){FT(),n(Ix(e,"network-request-failed"))},timeout:jT.get()})}if(null===(i=null===(r=rI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=rI().gapi)||void 0===a?void 0:a.load)){var u=II("iframefcb");return rI()[u]=function(){gapi.load?o():n(Ix(e,"network-request-failed"))},SI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw VT=null,e}))}(e),VT}var BT=new jx(5e3,15e3),zT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WT(e){var t=e.config;Nx(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Fx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:$a},i=HT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(la(r).slice(1))}function KT(e){return GT.apply(this,arguments)}function GT(){return GT=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qT(t);case 2:return n=e.sent,Nx(r=rI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:WT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zT,dontclear:!0},(function(e){return new Promise(function(){var n=Si(li().mark((function n(r,i){var a,o,u;return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){rI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ix(t,"network-request-failed"),o=rI().setTimeout((function(){i(a)}),BT.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}var QT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YT="_blank",$T="http://localhost",JT=function(){function e(t){Ii(this,e),this.window=t,this.associatedEvent=null}return Ci(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function XT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},QT),{width:r.toString(),height:i.toString(),top:a,left:o}),c=$i().toLowerCase();n&&(u=O_(c)?YT:n),A_(c)&&(t=t||$T,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Ri(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(U_(c)&&"_self"!==u)return ZT(t||"",u),new JT(null);var f=window.open(t||"",u,l);Nx(f,e,"popup-blocked");try{f.focus()}catch(h){}return new JT(f)}function ZT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var eC="__/auth/handler",tC="emulator/auth/handler";function nC(e,t,n,r,i,a){Nx(e.config.authDomain,e,"auth-domain-config-required"),Nx(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$a,eventId:i};if(t instanceof AE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Ri(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof NE){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(eC);return Fx(t,tC)}(e),"?").concat(la(d).slice(1))}var rC="webStorageSupport",iC=function(){function e(){Ii(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XS,this._completeRedirectFn=ST}return Ci(e,[{key:"_openPopup",value:function(){var e=Si(li().mark((function e(t,n,r,i){var a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rx(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=nC(t,n,r,Lx(),i),e.abrupt("return",XT(t,o,tI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Si(li().mark((function e(t,n,r,i){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=nC(t,n,r,Lx(),i),rI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Rx(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KT(t);case 2:return n=e.sent,r=new AT(t),n.register("authEvent",(function(e){return Nx(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(rC,{type:rC},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Sx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return MT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return F_()||N_()||M_()}}]),e}(),aC=iC,oC=function(){function e(t){Ii(this,e),this.factorId=t}return Ci(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ox("unexpected MultiFactorSessionType")}}}]),e}(),uC=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return Ii(this,n),(r=t.call(this,"phone")).credential=e,r}return Ci(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Hx(e,"POST","/v2/accounts/mfaEnrollment:finalize",zx(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Hx(e,"POST","/v2/accounts/mfaSignIn:finalize",zx(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(oC),sC=function(){function e(){Ii(this,e)}return Ci(e,null,[{key:"assertion",value:function(e){return uC._fromCredential(e)}}]),e}();sC.FACTOR_ID="phone";var cC,lC="@firebase/auth",fC="0.19.8",hC=function(){function e(t){Ii(this,e),this.auth=t,this.internalListeners=new Map}return Ci(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Nx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function dC(){return window}cC="Browser",qa(new ma("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Nx(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Nx(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:cC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V_(cC)},r=new q_(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dx);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),qa(new ma("auth-internal",(function(e){return function(e){return new hC(e)}(B_(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),no(lC,fC,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cC)),no(lC,fC,"esm2017");function pC(e,t,n){return vC.apply(this,arguments)}function vC(){return vC=Si(li().mark((function e(t,n,r){var i,a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dC(),o=a.BuildInfo,Rx(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,wC(n.sessionId);case 4:return u=e.sent,s={},M_()?s.ibi=o.packageName:P_()?s.apn=o.packageName:Sx(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",nC(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function yC(){return yC=Si(li().mark((function e(t){var n,r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dC(),r=n.BuildInfo,i={},M_()?i.iosBundleId=r.packageName:P_()?i.androidPackageName=r.packageName:Sx(t,"operation-not-supported-in-this-environment"),e.next=5,RT(t,i);case 5:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function mC(e){var t=dC().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gC(e,t,n){return kC.apply(this,arguments)}function kC(){return kC=Si(li().mark((function e(t,n,r){var i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dC(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ix(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),P_()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),kC.apply(this,arguments)}function bC(e){var t,n,r,i,a,o,u,s,c,l,f=dC();Nx("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Nx("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Nx("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nx("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nx("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function wC(e){return xC.apply(this,arguments)}function xC(){return(xC=Si(li().mark((function e(t){var n,r,i;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_C(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(e){if(Rx(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var EC=function(e){Di(n,e);var t=Fi(n);function n(){var e;return Ii(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ci(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),po(Li(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(AT);function SC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:NC(),postBody:null,tenantId:e.tenantId,error:Ix(e,"no-auth-event")}}function IC(e,t){return OC()._set(RC(e),t)}function TC(e){return CC.apply(this,arguments)}function CC(){return CC=Si(li().mark((function e(t){var n;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OC()._get(RC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,OC()._remove(RC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function AC(e,t){var n,r,i=function(e){var t=PC(e),n=t.link?decodeURIComponent(t.link):void 0,r=PC(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return PC(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=PC(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ix(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function NC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function OC(){return Dx($S)}function RC(e){return I_("authEvent",e.config.apiKey,e.name)}function PC(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Ni(t=n)||Qr(t)||Yr(t)||Oi();r[0];return fa(r.slice(1).join("?"))}var DC=function(){function e(){Ii(this,e),this._redirectPersistence=XS,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ST}return Ci(e,[{key:"_initialize",value:function(){var e=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new EC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Sx(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Si(li().mark((function e(t,n,r,i){var a,o,u,s;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bC(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),cT.clear(),e.next=10,this._originValidation(t);case 10:return o=SC(t,r,i),e.next=13,IC(t,o);case 13:return e.next=15,pC(t,o,n);case 15:return u=e.sent,e.next=18,mC(u);case 18:return s=e.sent,e.abrupt("return",gC(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=dC(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Si(li().mark((function n(){return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,TC(e);case 2:t.onEvent(MC());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Si(li().mark((function n(r){var i,a;return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,TC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=AC(i,r.url)),t.onEvent(a||MC());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");dC().handleOpenURL=function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),LC=DC;function MC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ix("no-auth-event")}}function UC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function jC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return!("file:"!==UC()&&"ionic:"!==UC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function FC(){return ta()&&11===(null===document||void 0===document?void 0:document.documentMode)}function VC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/Edge\/\d+/.test(e)}function qC(){try{var e=self.localStorage,t=tI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return FC()||VC(e)}()||na()}catch(n){return BC()&&na()}return!1}function BC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function zC(){return("http:"===UC()||"https:"===UC()||Zi()||jC())&&!(ea()||Xi())&&qC()&&!BC()}function HC(){return jC()&&"undefined"!==typeof document}function WC(){return KC.apply(this,arguments)}function KC(){return(KC=Si(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GC={LOCAL:"local",NONE:"none",SESSION:"session"},QC=Nx,YC="persistence";function $C(e,t){QC(Object.values(GC).includes(t),e,"invalid-persistence-type"),ea()?QC(t!==GC.SESSION,e,"unsupported-persistence-type"):Xi()?QC(t===GC.NONE,e,"unsupported-persistence-type"):BC()?QC(t===GC.NONE||t===GC.LOCAL&&na(),e,"unsupported-persistence-type"):QC(t===GC.NONE||qC(),e,"unsupported-persistence-type")}function JC(e){return XC.apply(this,arguments)}function XC(){return XC=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ZC(),r=I_(YC,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),XC.apply(this,arguments)}function ZC(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var eA=Nx,tA=function(){function e(){Ii(this,e),this.browserResolver=Dx(aC),this.cordovaResolver=Dx(LC),this.underlyingResolver=null,this._redirectPersistence=XS,this._completeRedirectFn=ST}return Ci(e,[{key:"_initialize",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Si(li().mark((function e(t,n,r,i){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Si(li().mark((function e(t,n,r,i){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return HC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return eA(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,WC();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nA(e){return e.unwrap()}function rA(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new sA(e,function(e,t){var n,r=ya(e),i=t;return Nx(t.customData.operationType,r,"argument-error"),Nx(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),BS._fromError(r,i)}(e,t));else if(r){var i=iA(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function iA(e){var t=(e instanceof ra?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ra)&&"temporaryProof"in t&&"phoneNumber"in t)return QI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===fx)return null;switch(r){case lx:n=PE;break;case sx:n=RE;break;case cx:n=DE;break;case hx:n=UE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?LE._create(r,u):kE._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new OE(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ra?n.credentialFromError(e):n.credentialFromResult(e)}function aA(e,t){return t.catch((function(t){throw t instanceof ra&&rA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,iA(t)),additionalUserInfo:VS(e),user:cA.getOrCreate(r)}}))}function oA(e,t){return uA.apply(this,arguments)}function uA(){return uA=Si(li().mark((function e(t,n){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return aA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}var sA=function(){function e(t,n){Ii(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return Ci(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return aA(nA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),cA=function(){function e(t){Ii(this,e),this._delegate=t,this.multiFactor=function(e){var t=ya(e);return KS.has(t)||KS.set(t,WS._fromUser(t)),KS.get(t)}(t)}return Ci(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aA(this.auth,iS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oA(this.auth,BI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aA(this.auth,oT(this._delegate,t,tA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JC(B_(this.auth));case 2:return e.abrupt("return",wT(this._delegate,t,tA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aA(this.auth,oS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return oA(this.auth,function(e,t,n){return HI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return aA(this.auth,function(e,t,n){return aT.apply(this,arguments)}(this._delegate,e,tA))}},{key:"reauthenticateWithRedirect",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JC(B_(this.auth));case 2:return e.abrupt("return",kT(this._delegate,t,tA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return TS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KE(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return RS(ya(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return RS(ya(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return GI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return OS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return CS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();cA.USER_MAP=new WeakMap;var lA=Nx,fA=function(){function e(t,n){if(Ii(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;lA(r,"invalid-api-key",{appName:t.name}),lA(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?tA:void 0;this._delegate=n.initialize({options:{persistence:dA(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(bx),this.linkUnderlyingAuth()}return Ci(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?cA.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){H_(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return yS.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return mS(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return vS.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Si(li().mark((function e(t,n){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aA(this._delegate,bS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return IS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=TE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Si(li().mark((function e(){var t;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lA(zC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_T(this._delegate,tA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",aA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){B_(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=hA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=hA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return xS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return pS.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Si(li().mark((function e(t){var n,r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$C(this._delegate,t),e.t0=t,e.next=e.t0===GC.SESSION?4:e.t0===GC.LOCAL?6:e.t0===GC.NONE?11:13;break;case 4:return n=XS,e.abrupt("break",14);case 6:return e.next=8,Dx(wI)._isAvailable();case 8:return r=e.sent,n=r?wI:$S,e.abrupt("break",14);case 11:return n=S_,e.abrupt("break",14);case 13:return e.abrupt("return",Sx("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return aA(this._delegate,function(e){return BE.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return aA(this._delegate,nS(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return aA(this._delegate,function(e,t){return lS.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return aA(this._delegate,function(e,t,n){return nS(ya(e),CE.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return aA(this._delegate,function(e,t,n){return _S.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return oA(this._delegate,function(e,t,n){return qI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lA(zC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",aA(this._delegate,rT(this._delegate,t,tA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lA(zC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,JC(this._delegate);case 3:return e.abrupt("return",mT(this._delegate,t,tA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return kS.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function hA(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&cA.getOrCreate(e))},error:t,complete:n}}function dA(e,t){var n=function(e,t){var n=ZC();if(!n)return[];var r=I_(YC,e,t);switch(n.getItem(r)){case GC.NONE:return[S_];case GC.LOCAL:return[wI,XS];case GC.SESSION:return[XS];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(wI)||n.push(wI),"undefined"!==typeof window)for(var r=0,i=[$S,XS];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(S_)||n.push(S_),n}fA.Persistence=GC;var pA=function(){function e(){Ii(this,e),this.providerId="phone",this._delegate=new QI(nA(fo.auth()))}return Ci(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return QI.credential(e,t)}}]),e}();pA.PHONE_SIGN_IN_METHOD=QI.PHONE_SIGN_IN_METHOD,pA.PROVIDER_ID=QI.PROVIDER_ID;var vA=Nx,yA=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fo.app();Ii(this,e),vA(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new jI(t,n,i.auth()),this.type=this._delegate.type}return Ci(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new ma("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fA(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dx,PASSWORD_RESET:px,RECOVER_EMAIL:vx,REVERT_SECOND_FACTOR_ADDITION:yx,VERIFY_AND_CHANGE_EMAIL:mx,VERIFY_EMAIL:gx}},EmailAuthProvider:CE,FacebookAuthProvider:RE,GithubAuthProvider:DE,GoogleAuthProvider:PE,OAuthProvider:OE,SAMLAuthProvider:ME,PhoneAuthProvider:pA,PhoneMultiFactorGenerator:sC,RecaptchaVerifier:yA,TwitterAuthProvider:UE,Auth:fA,AuthCredential:G_,Error:ra}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.8")}(fo);fo.initializeApp({apiKey:"AIzaSyBA20nhz4wQNTS_sMzuk6fyH7nTWX4O9n8",authDomain:"new-crwn-db.firebaseapp.com",projectId:"new-crwn-db",storageBucket:"new-crwn-db.appspot.com",messagingSenderId:"822105546347",appId:"1:822105546347:web:603bb052c42c0701475b2e"});var mA=function(){var e=Si(li().mark((function e(t,n){var r,i,a,o;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=bA.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(kt({displayName:i,email:a,createdAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),gA=function(e){return e.docs.map((function(e){var t=e.data(),n=t.title,r=t.items;return{routeName:encodeURI(n.toLowerCase()),id:e.id,title:n,items:r}})).reduce((function(e,t){return e[t.title.toLowerCase()]=t,e}),{})},kA=fo.auth(),bA=fo.firestore(),wA=new fo.auth.GoogleAuthProvider;wA.setCustomParameters({prompt:"select_account"});var xA=function(){return{type:ri.FETCH_COLLECTIONS_START}},_A=function(e){return{type:ri.FETCH_COLLECTIONS_SUCCESS,payload:e}},EA=function(e){return{type:ri.fetchCollectionsFailure,payload:e}},SA=li().mark(CA),IA=li().mark(AA),TA=li().mark(NA);function CA(){var e,t,n;return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=bA.collection("collections"),r.next=4,e.get();case 4:return t=r.sent,r.next=7,tr(gA,t);case 7:return n=r.sent,r.next=10,Xn(_A(n));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Xn(EA(r.t0.message));case 16:case"end":return r.stop()}}),SA,null,[[0,12]])}function AA(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(ri.FETCH_COLLECTIONS_START,CA);case 2:case"end":return e.stop()}}),IA)}function NA(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn([tr(AA)]);case 2:case"end":return e.stop()}}),TA)}var OA=function(e){return{type:zr.SIGN_IN_FAILURE,payload:e}},RA=function(e){var t=e.user,n=e.additioanlData;return{type:zr.SIGN_UP_SUCCESS,payload:{user:t,additioanlData:n}}},PA=li().mark(GA),DA=li().mark(QA),LA=li().mark(YA),MA=li().mark($A),UA=li().mark(JA),jA=li().mark(XA),FA=li().mark(ZA),VA=li().mark(eN),qA=li().mark(tN),BA=li().mark(nN),zA=li().mark(rN),HA=li().mark(iN),WA=li().mark(aN),KA=li().mark(oN);function GA(e,t){var n,r;return li().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tr(mA,e,t);case 3:return n=i.sent,i.next=6,n.get();case 6:return r=i.sent,i.next=9,Xn((a=kt({id:r.id},r.data()),{type:zr.SIGN_IN_SUCCESS,payload:a}));case 9:i.next=15;break;case 11:return i.prev=11,i.t0=i.catch(0),i.next=15,Xn(OA(i.t0));case 15:case"end":return i.stop()}var a}),PA,null,[[0,11]])}function QA(){var e,t;return li().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,kA.signInWithPopup(wA);case 3:return e=n.sent,t=e.user,n.next=7,GA(t);case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Xn(OA(n.t0));case 13:case"end":return n.stop()}}),DA,null,[[0,9]])}function YA(e){var t,n,r,i,a;return li().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.email,r=t.password,o.prev=1,o.next=4,kA.signInWithEmailAndPassword(n,r);case 4:return i=o.sent,a=i.user,o.next=8,GA(a);case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Xn(OA(o.t0));case 14:case"end":return o.stop()}}),LA,null,[[1,10]])}function $A(){var e;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(e,t){var n=kA.onAuthStateChanged((function(t){n(),e(t)}),t)}));case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,GA(e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Xn(OA(t.t0));case 14:case"end":return t.stop()}}),MA,null,[[0,10]])}function JA(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kA.signOut();case 3:return e.next=5,Xn({type:zr.SIGN_OUT_SUCCESS});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Xn((e.t0,{type:zr.SIGN_OUT_FAILURE}));case 11:case"end":return e.stop()}}),UA,null,[[0,7]])}function XA(e){var t,n,r,i,a,o;return li().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.email,r=t.password,i=t.displayName,u.prev=1,u.next=4,kA.createUserWithEmailAndPassword(n,r);case 4:return a=u.sent,o=a.user,u.next=8,Xn(RA({user:o,additionalData:{displayName:i}}));case 8:u.next=14;break;case 10:return u.prev=10,u.t0=u.catch(1),u.next=14,Xn((s=u.t0,{type:zr.SIGN_UP_FAILURE,payload:s}));case 14:case"end":return u.stop()}var s}),jA,null,[[1,10]])}function ZA(e){var t,n,r;return li().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.user,r=t.additionalData,i.next=3,GA(n,r);case 3:case"end":return i.stop()}}),FA)}function eN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(zr.GOOGLE_SIGN_IN_START,QA);case 2:case"end":return e.stop()}}),VA)}function tN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(zr.EMAIL_SIGN_IN_START,YA);case 2:case"end":return e.stop()}}),qA)}function nN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(zr.CHECK_USER_SESSION,$A);case 2:case"end":return e.stop()}}),BA)}function rN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(zr.SIGN_OUT_START,JA);case 2:case"end":return e.stop()}}),zA)}function iN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(zr.SIGN_UP_START,XA);case 2:case"end":return e.stop()}}),HA)}function aN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(zr.SIGN_UP_SUCCESS,ZA);case 2:case"end":return e.stop()}}),WA)}function oN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn([tr(eN),tr(tN),tr(nN),tr(rN),tr(iN),tr(aN)]);case 2:case"end":return e.stop()}}),KA)}var uN=li().mark(sN);function sN(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn([tr(oN),tr(_i),tr(NA)]);case 2:case"end":return e.stop()}}),uN)}var cN=qr();var lN=St(si,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(bt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=It.apply(void 0,a)(n.dispatch),kt(kt({},n),{},{dispatch:r})}}}.apply(void 0,[cN]));cN.run(sN);var fN=Zt(lN),hN=n(329),dN=function(e){var t=e.cartItem,n=(e.clearItem,e.addItem),r=e.removeItem,i=t.name,a=t.imageUrl,o=t.price,u=t.quantity,s=ft();return(0,hN.jsxs)("div",{className:"checkout-item",children:[(0,hN.jsx)("div",{className:"image-container",children:(0,hN.jsx)("img",{src:a,alt:"item"})}),(0,hN.jsx)("span",{className:"name",children:i}),(0,hN.jsxs)("span",{className:"quantity",children:[(0,hN.jsx)("span",{className:"arrow",onClick:function(e){return s(r(e))},children:"\u276e"}),(0,hN.jsx)("span",{className:"value",children:u}),(0,hN.jsx)("span",{className:"arrow",onClick:function(e){return s(n(e))},children:"\u276f"})]}),(0,hN.jsx)("span",{className:"price",children:o}),(0,hN.jsx)("div",{className:"remove-button",onClick:function(e){return s(function(e){return{type:Kr.CLEAR_ITEM_FROM_CART,payload:e}}(e))},children:"\u2715"})]})},pN=n(878),vN=function(e){var t=e.price,n=100*t;return(0,hN.jsx)(pN.Z,{label:"Pay Now",name:"CRWN Clothing Ltd.",billingAddress:!0,shippingAddress:!0,description:"Your total is ".concat(t),amount:n,panel:"Pay Now",token:function(e){console.log(e),alert("Payment Successful")},stripeKey:"pk_test_51GtGXSGW7kEkFvpaVySBkZXx7UHOonP4KDtK2fuUF6DIBWU7baBoeWH3LfnxNRXHQSsnVMULz8WsP3b4ji8ePzwE00Q5ADvxxQ"})},yN="NOT_FOUND";var mN=function(e,t){return e===t};function gN(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?mN:r,a=n.maxSize,o=void 0===a?1:a,u=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:yN},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return yN}return{get:r,put:function(t,i){r(t)===yN&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,s);function l(){var t=c.get(arguments);if(t===yN){if(t=e.apply(null,arguments),u){var n=c.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function kN(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function bN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,u={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(u=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=u,l=c.memoizeOptions,f=void 0===l?n:l,h=Array.isArray(f)?f:[f],d=kN(r),p=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(h)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var wN=bN(gN),xN=function(e,t){if(void 0===t&&(t=wN),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r},_N=function(e){return e.cart},EN=wN([_N],(function(e){return e.cartItems})),SN=wN([_N],(function(e){return e.hidden})),IN=wN([EN],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),TN=wN([EN],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)})),CN=function(){var e=vt(EN),t=vt(TN);return(0,hN.jsxs)("div",{className:"checkout-page",children:[(0,hN.jsxs)("div",{className:"checkout-header",children:[(0,hN.jsx)("div",{className:"header-block",children:(0,hN.jsx)("span",{children:"Product"})}),(0,hN.jsx)("div",{className:"header-block",children:(0,hN.jsx)("span",{children:"Description"})}),(0,hN.jsx)("div",{className:"header-block",children:(0,hN.jsx)("span",{children:"Quantity"})}),(0,hN.jsx)("div",{className:"header-block",children:(0,hN.jsx)("span",{children:"Price"})}),(0,hN.jsx)("div",{className:"header-block",children:(0,hN.jsx)("span",{children:"Remove"})})]}),e.map((function(e){return(0,hN.jsx)(dN,{cartItem:e})})),(0,hN.jsx)("div",{className:"total",children:(0,hN.jsxs)("span",{children:["TOTAL: ",t]})}),(0,hN.jsxs)("div",{className:"test-warning",children:["*please use the following test credit card for ",(0,hN.jsx)("payments",{}),(0,hN.jsx)("br",{}),"4242 4242 4242 4242 - Exp: 01/20 - CVV: 123"]}),(0,hN.jsx)(vN,{price:t})]})};function AN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NN=n(613),ON=n.n(NN);var RN=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,x=0,_=0,E=0,S=0,I=0,R=0,D=v=d=0,M=0,U=0,j=0,F=0,V=s.length,q=V-1,B="",z="",H="",W="";M<V;){if(p=s.charCodeAt(M),M===q&&0!==_+S+E+x&&(0!==_&&(p=47===_?10:47),S=E=x=0,V++,q++),0===_+S+E+x){if(M===q&&(0<U&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,F=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<q;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<q&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(F,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<U&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:U=r;break;default:U=O}if(F=(v=t(r,U,v,p,h+1)).length,0<P&&(b=u(3,v,U=n(O,B,j),r,C,T,F,p,h,c),B=U.join(""),void 0!==b&&0===(F=(v=b.trim()).length)&&(p=0,v="")),0<F)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(m,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);H+=v,v=j=U=D=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(F=(B=(0<U?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(F=(B=B.replace(" ",":")).length),0<P&&void 0!==(b=u(1,B,r,e,C,T,z.length,c,h,c))&&0===(F=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+s.charAt(M);break}default:58!==B.charCodeAt(F-1)&&(z+=i(B,d,p,B.charCodeAt(2)))}j=U=D=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(U=1,B+="\0"),0<P*L&&u(0,B,r,e,C,T,z.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+E+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(I){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===S+_+x&&(U=j=1,y="\f"+y);break;case 108:if(0===S+_+x+A&&0<D)switch(M-D){case 2:112===I&&58===s.charCodeAt(M-3)&&(A=I);case 8:111===R&&(A=R)}break;case 58:0===S+_+x&&(D=M);break;case 44:0===_+E+S+x&&(U=1,y+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+E&&x++;break;case 93:0===S+_+E&&x--;break;case 41:0===S+_+x&&E--;break;case 40:if(0===S+_+x){if(0===d)if(2*I+3*R===533);else d=1;E++}break;case 64:0===_+E+S+x+D+v&&(v=1);break;case 42:case 47:if(!(0<S+x+E))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:F=M,_=42}break;case 42:47===p&&42===I&&F+2!==M&&(33===s.charCodeAt(F+2)&&(z+=s.substring(F,M+1)),y="",_=0)}}0===_&&(B+=y)}R=I,I=p,M++}if(0<(F=z.length)){if(U=r,0<P&&(void 0!==(b=u(2,z,U,e,C,T,F,c,h,c))&&0===(z=b).length))return W+z+H;if(z=U.join(",")+"{"+z+"}",0!==N*A){switch(2!==N||a(z,2)||(A=0),A){case 111:z=z.replace(k,":-moz-$1")+z;break;case 112:z=z.replace(g,"::-webkit-input-$1")+z.replace(g,"::-moz-$1")+z.replace(g,":-ms-input-$1")+z}A=0}}return W+z+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(I,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=R[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,O=[],R=[],P=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=R.length=0;break;default:if("function"===typeof t)R[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},PN={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var DN=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},LN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,MN=DN((function(e){return LN.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function UN(){return(UN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var jN=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},FN=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,H.typeOf)(e)},VN=Object.freeze([]),qN=Object.freeze({});function BN(e){return"function"==typeof e}function zN(e){return e.displayName||e.name||"Component"}function HN(e){return e&&"string"==typeof e.styledComponentId}var WN="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",KN="undefined"!=typeof window&&"HTMLElement"in window,GN=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing_redo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),QN={};function YN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var $N=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&YN(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),JN=new Map,XN=new Map,ZN=1,eO=function(e){if(JN.has(e))return JN.get(e);for(;XN.has(ZN);)ZN++;var t=ZN++;return JN.set(e,t),XN.set(t,e),t},tO=function(e){return XN.get(e)},nO=function(e,t){t>=ZN&&(ZN=t+1),JN.set(e,t),XN.set(t,e)},rO="style["+WN+'][data-styled-version="5.3.3"]',iO=new RegExp("^"+WN+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),aO=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},oO=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(iO);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(nO(c,s),aO(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},uO=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},sO=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(WN))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(WN,"active"),r.setAttribute("data-styled-version","5.3.3");var o=uO();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},cO=function(){function e(e){var t=this.element=sO(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}YN(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),lO=function(){function e(e){var t=this.element=sO(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),fO=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),hO=KN,dO={isServer:!KN,useCSSOMInjection:!GN},pO=function(){function e(e,t,n){void 0===e&&(e=qN),void 0===t&&(t={}),this.options=UN({},dO,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&KN&&hO&&(hO=!1,function(e){for(var t=document.querySelectorAll(rO),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(WN)&&(oO(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return eO(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(UN({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new fO(i):r?new cO(i):new lO(i),new $N(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(eO(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(eO(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(eO(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=tO(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=WN+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),vO=/(a)(d)/gi,yO=function(e){return String.fromCharCode(e+(e>25?39:97))};function mO(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=yO(t%52)+n;return(yO(t%52)+n).replace(vO,"$1-$2")}var gO=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},kO=function(e){return gO(5381,e)};function bO(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(BN(n)&&!HN(n))return!1}return!0}var wO=kO("5.3.3"),xO=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&bO(e),this.componentId=t,this.baseHash=gO(wO,t),this.baseStyle=n,pO.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=VO(this.rules,e,t,n).join(""),o=mO(gO(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=gO(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=VO(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=gO(c,p+f),l+=p}}if(l){var v=mO(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),_O=/^\s*\/\/.*$/gm,EO=[":","[",".","#"];function SO(e){var t,n,r,i,a=void 0===e?qN:e,o=a.options,u=void 0===o?qN:o,s=a.plugins,c=void 0===s?VN:s,l=new RN(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==EO.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(_O,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||YN(15),gO(e,t.name)}),5381).toString():"",p}var IO=t.createContext(),TO=(IO.Consumer,t.createContext()),CO=(TO.Consumer,new pO),AO=SO();function NO(){return(0,t.useContext)(IO)||CO}function OO(){return(0,t.useContext)(TO)||AO}function RO(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=NO(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return SO({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){ON()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(IO.Provider,{value:o},t.createElement(TO.Provider,{value:u},e.children))}var PO=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=AO);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return YN(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=AO),this.name+e.hash},e}(),DO=/([A-Z])/,LO=/([A-Z])/g,MO=/^ms-/,UO=function(e){return"-"+e.toLowerCase()};function jO(e){return DO.test(e)?e.replace(LO,UO).replace(MO,"-ms-"):e}var FO=function(e){return null==e||!1===e||""===e};function VO(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=VO(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return FO(e)?"":HN(e)?"."+e.styledComponentId:BN(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:VO(e(t),t,n,r):e instanceof PO?n?(e.inject(n,r),e.getName(r)):e:FN(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!FO(t[o])&&(Array.isArray(t[o])&&t[o].isCss||BN(t[o])?a.push(jO(o)+":",t[o],";"):FN(t[o])?a.push.apply(a,e(t[o],o)):a.push(jO(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in PN?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var qO=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function BO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return BN(e)||FN(e)?qO(VO(jN(VN,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:qO(VO(jN(e,n)))}new Set;var zO=function(e,t,n){return void 0===n&&(n=qN),e.theme!==n.theme&&e.theme||t||n.theme},HO=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,WO=/(^-|-$)/g;function KO(e){return e.replace(HO,"-").replace(WO,"")}var GO=function(e){return mO(kO(e)>>>0)};function QO(e){return"string"==typeof e&&!0}var YO=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},$O=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function JO(e,t,n){var r=e[n];YO(t)&&YO(r)?XO(r,t):e[n]=t}function XO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(YO(o))for(var u in o)$O(u)&&JO(e,o[u],u)}return e}var ZO=t.createContext();ZO.Consumer;var eR={};function tR(e,n,r){var i=HN(e),a=!QO(e),o=n.attrs,u=void 0===o?VN:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":KO(e);eR[n]=(eR[n]||0)+1;var r=n+"-"+GO("5.3.3"+n+eR[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return QO(e)?"styled."+e:"Styled("+zN(e)+")"}(e):l,h=n.displayName&&n.componentId?KO(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new xO(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=qN);var r=UN({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in BN(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(zO(n,(0,t.useContext)(ZO),u)||qN,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=NO(),a=OO();return t?e.generateAndInjectStyles(qN,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=QO(m),k=p!==n?UN({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,MN,m):!g||MN(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=UN({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):VN,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(QO(e)?e:KO(zN(e)));return tR(e,UN({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?XO({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&G()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var nR=function(e){return function e(t,n,r){if(void 0===r&&(r=qN),!(0,H.isValidElementType)(n))return YN(1,String(n));var i=function(){return t(n,r,BO.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,UN({},r,{},i))},i.attrs=function(i){return e(t,n,UN({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(tR,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){nR[e]=nR(e)}));var rR=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=bO(e),pO.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(VO(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&pO.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=uO();return"<style "+[n&&'nonce="'+n+'"',WN+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?YN(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return YN(2);var r=((n={})[WN]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=uO();return i&&(r.nonce=i),[t.createElement("style",UN({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new pO({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?YN(2):t.createElement(RO,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return YN(3)}}();var iR,aR=nR,oR=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=BO.apply(void 0,[e].concat(r)),o="sc-global-"+GO(JSON.stringify(a)),u=new rR(a,o);function s(e){var n=NO(),r=OO(),i=(0,t.useContext)(ZO),a=(0,t.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,e,n,i,r),(0,t.useLayoutEffect)((function(){if(!n.server)return c(a,e,n,i,r),function(){return u.removeStyles(a,n)}}),[a,e,n,i,r]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,QN,n,i);else{var a=UN({},t,{theme:zO(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return t.memo(s)}(iR||(iR=AN(["\nbody {\n  font-family: 'Open Sans Condensed';\n  padding: 20px 40px;\n\n  @media only screen and (max-width: 800px) {\n    padding: 10px;\n  }\n}\n\na {\n  text-decoration: none;\n  color: black;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n"])));function uR(e,t){if(null==e)return{};var n,r,i=W(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var sR,cR,lR,fR,hR,dR,pR,vR,yR,mR,gR,kR,bR,wR,xR,_R,ER,SR,IR,TR,CR,AR,NR,OR,RR,PR,DR,LR,MR,UR,jR,FR,VR,qR,BR,zR,HR,WR,KR,GR,QR,YR=wN([function(e){return e.directory}],(function(e){return e.sections})),$R=aR.div(sR||(sR=AN(["\n  height: ",";\n  min-width: 30%;\n  overflow: hidden;\n  flex: 1 1 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid black;\n  margin: 0 7.5px 15px;\n  overflow: hidden;\n  &:hover {\n    cursor: pointer;\n    & .background-image {\n      transform: scale(1.1);\n      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);\n    }\n    & .content {\n      opacity: 0.9;\n    }\n  }\n  &:first-child {\n    margin-right: 7.5px;\n  }\n  &:last-child {\n    margin-left: 7.5px;\n  }\n  @media screen and (max-width: 800px) {\n    height: 200px;\n  }\n"])),(function(e){return e.size?"380px":"240px"})),JR=aR.div(cR||(cR=AN(["\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  background-position: center;\n  background-image: ",";\n"])),(function(e){var t=e.imageUrl;return"url(".concat(t,")")})),XR=aR.div(lR||(lR=AN(["\n  height: 90px;\n  padding: 0 25px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid black;\n  background-color: white;\n  opacity: 0.7;\n  position: absolute;\n"]))),ZR=aR.span(fR||(fR=AN(["\n  font-weight: bold;\n  margin-bottom: 6px;\n  font-size: 22px;\n  color: #4a4a4a;\n"]))),eP=aR.span(hR||(hR=AN(["\n  font-weight: lighter;\n  font-size: 16px;\n"]))),tP=pe((function(e){var t=e.title,n=e.imageUrl,r=e.size,i=e.history,a=e.linkUrl,o=e.match;return(0,hN.jsxs)($R,{size:r,onClick:function(){return i.push("".concat(o.url).concat(a))},children:[(0,hN.jsx)(JR,{className:"background-image",imageUrl:n}),(0,hN.jsxs)(XR,{className:"content",children:[(0,hN.jsx)(ZR,{children:t.toUpperCase()}),(0,hN.jsx)(eP,{children:"SHOP NOW"})]})]})})),nP=["id"],rP=function(){var e=vt(YR);return(0,hN.jsx)("div",{className:"directory-menu",children:e.map((function(e){var t=e.id,n=uR(e,nP);return(0,hN.jsx)(tP,kt({},n),t)}))})},iP=aR.div(dR||(dR=AN(["\n  .homepage {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),aP=function(){return(0,hN.jsx)(iP,{children:(0,hN.jsx)(rP,{})})},oP=function(e){return e.shop},uP=wN([oP],(function(e){return e.collections})),sP=wN([uP],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),cP=wN([oP],(function(e){return e.isFetching})),lP=wN([oP],(function(e){return!!e.collections})),fP=aR.div(pR||(pR=AN(["\n\theight: 60vh;\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),hP=aR.div(vR||(vR=AN(["\n\tdisplay: inline-block;\n\twidth: 50px;\n\theight: 50px;\n\tborder: 3px solid rgba(195, 195, 195, 0.6);\n\tborder-radius: 50%;\n\tborder-top-color: #636767;\n\tanimation: spin 1s ease-in-out infinite;\n\t-webkit-animation: spin 1s ease-in-out infinite;\n\t@keyframes spin {\n\t\tto {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t}\n\t}\n\t@-webkit-keyframes spin {\n\t\tto {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t}\n\t}\n"]))),dP=["isLoading"],pP=function(e){return function(t){var n=t.isLoading,r=uR(t,dP);return n?(0,hN.jsx)(fP,{children:(0,hN.jsx)(hP,{})}):(0,hN.jsx)(e,kt({},r))}},vP=BO(yR||(yR=AN(["\n  background-color: black;\n  color: white;\n  border: none;\n\n  &:hover {\n    background-color: white;\n    color: black;\n    border: 1px solid black;\n  }\n"]))),yP=BO(mR||(mR=AN(["\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n\n  &:hover {\n    background-color: black;\n    color: white;\n    border: none;\n  }\n"]))),mP=BO(gR||(gR=AN(["\n  background-color: #4285f4;\n  color: white;\n  border: none;\n\n  &:hover {\n    background-color: #357ae8;\n    border: none;\n  }\n"]))),gP=aR.button(kR||(kR=AN(['\n  min-width: 165px;\n  width: auto;\n  height: 50px;\n  letter-spacing: 0.5px;\n  line-height: 50px;\n  padding: 0 35px 0 35px;\n  font-size: 15px;\n  text-transform: uppercase;\n  font-family: "Open Sans Condensed";\n  font-weight: bolder;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n\n  ',"\n"])),(function(e){return e.isGoogleSignIn?mP:e.inverted?yP:vP})),kP=["children"],bP=function(e){var t=e.children,n=uR(e,kP);return(0,hN.jsx)(gP,kt(kt({},n),{},{children:t}))},wP=aR.div(bR||(bR=AN(["\n  width: 22vw;\n  display: flex;\n  flex-direction: column;\n  height: 350px;\n  align-items: center;\n  position: relative;\n  &:hover {\n    .image {\n      opacity: 0.8;\n    }\n    button {\n      opacity: 0.85;\n      display: flex;\n    }\n  }\n  @media screen and (max-width: 800px) {\n    width: 40vw;\n    margin-bottom: 30px;\n\n    &:hover {\n      .image {\n        opacity: unset;\n      }\n      button {\n        opacity: unset;\n      }\n    }\n  }\n"]))),xP=aR(bP)(wR||(wR=AN(["\n  width: 80%;\n  opacity: 0.7;\n  position: absolute;\n  top: 255px;\n  display: none;\n\n  @media screen and (max-width: 800px) {\n    display: block;\n    opacity: 0.9;\n    min-width: unset;\n    padding: 0 10px;\n  }\n"]))),_P=aR.div(xR||(xR=AN(["\n  width: 100%;\n  height: 95%;\n  background-size: cover;\n  background-position: center;\n  margin-bottom: 5px;\n  background-image: ",";\n"])),(function(e){var t=e.imageUrl;return"url(".concat(t,")")})),EP=aR.div(_R||(_R=AN(["\n  width: 100%;\n  height: 5%;\n  display: flex;\n  justify-content: space-between;\n  font-size: 18px;\n"]))),SP=aR.span(ER||(ER=AN(["\n  width: 90%;\n  margin-bottom: 15px;\n"]))),IP=aR.span(SR||(SR=AN(["\n  width: 10%;\n  text-align: right;\n"]))),TP=ot(null,(function(e){return{addItem:function(t){return e(function(e){return{type:Kr.ADD_ITEM,payload:e}}(t))}}}))((function(e){var t=e.item,n=e.addItem,r=t.name,i=t.price,a=t.imageUrl;return(0,hN.jsxs)(wP,{children:[(0,hN.jsx)(_P,{className:"image",imageUrl:a}),(0,hN.jsxs)(EP,{children:[(0,hN.jsx)(SP,{children:r}),(0,hN.jsx)(IP,{children:i})]}),(0,hN.jsx)(xP,{onClick:function(){return n(t)},inverted:!0,children:"Add to cart"})]})})),CP=aR.div(IR||(IR=AN(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 30px;\n  @media screen and (max-width: 800px) {\n    align-items: center;\n  }\n"]))),AP=aR.h1(TR||(TR=AN(["\n  font-size: 28px;\n  margin-bottom: 25px;\n  cursor: pointer;\n  &:hover {\n    color: grey;\n  }\n"]))),NP=aR.div(CR||(CR=AN(["\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (max-width: 800px) {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 15px;\n  }\n"]))),OP=pe((function(e){var t=e.title,n=e.items,r=e.history,i=e.match,a=e.routeName;return(0,hN.jsxs)(CP,{children:[(0,hN.jsx)(AP,{onClick:function(){return r.push("".concat(i.path,"/").concat(a))},children:t.toUpperCase()}),(0,hN.jsx)(NP,{children:n.filter((function(e,t){return t<4})).map((function(e){return(0,hN.jsx)(TP,{item:e},e.id)}))})]})})),RP=["id"],PP=function(){var e=vt(sP);return(0,hN.jsx)("div",{className:"collections-overview",children:e.map((function(e){var t=e.id,n=uR(e,RP);return(0,hN.jsx)(OP,kt({},n),t)}))})},DP=It(ot(xN({isLoading:cP})),pP)(PP),LP=aR.div(AR||(AR=AN(["\n  display: flex;\n  flex-direction: column;\n  @media only screen and (max-width: 800px) {\n    align-items: center;\n  }\n"]))),MP=aR.h2(NR||(NR=AN(["\n  font-size: 38px;\n  margin: 0 auto 30px;\n"]))),UP=aR.div(OR||(OR=AN(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  grid-gap: 15px;\n\n  @media only screen and (max-width: 800px) {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  & > div {\n    margin-bottom: 30px;\n  }\n"]))),jP=function(){var e,t=function(){var e=ve(J).match;return e?e.params:{}}(),n=t.collectionId,r=vt((e=n,wN([uP],(function(t){return t?t[e]:null})))),i=r.title,a=r.items;return(0,hN.jsxs)(LP,{children:[(0,hN.jsx)(MP,{children:i}),(0,hN.jsx)(UP,{children:a.map((function(e){return(0,hN.jsx)(TP,{item:e},e.id)}))})]})},FP=It(ot(xN({isLoading:function(e){return!lP(e)}})),pP)(jP),VP=ot(null,(function(e){return{fetchCollectionsStart:function(){return e(xA())}}}))((function(e){var n=e.fetchCollectionsStart,r=e.match;return(0,t.useEffect)((function(){n()}),[n]),(0,hN.jsxs)("div",{className:"shop-page",children:[(0,hN.jsx)(ue,{exact:!0,path:"".concat(r.path),component:DP}),(0,hN.jsx)(ue,{path:"".concat(r.path,"/:collectionId"),component:FP})]})})),qP=["handleChange","label"],BP=function(e){var t=e.handleChange,n=e.label,r=uR(e,qP);return(0,hN.jsxs)("div",{className:"group",children:[(0,hN.jsx)("input",kt({className:"form-input",onChange:t},r)),n?(0,hN.jsx)("label",{className:"".concat(r.value.length?"shrink":""," form-input-label"),children:n}):null]})},zP=function(){var e=ft(),n=function(t,n){return e({type:zr.EMAIL_SIGN_IN_START,payload:{email:t,password:n}})},r=Ri((0,t.useState)({email:"",password:""}),2),i=r[0],a=r[1],o=i.email,u=i.password,s=function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n(o,u);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){var t=e.target,n=t.value,r=t.name;a(kt(kt({},i),{},mt({},r,n)))};return(0,hN.jsxs)("div",{className:"sign-in",children:[(0,hN.jsx)("h2",{children:"I already have an account"}),(0,hN.jsx)("span",{children:"Sign in with your email and password"}),(0,hN.jsxs)("form",{onSubmit:s,children:[(0,hN.jsx)(BP,{name:"email",type:"email",handleChange:c,value:o,label:"email",required:!0}),(0,hN.jsx)(BP,{name:"password",type:"password",value:u,handleChange:c,label:"password",required:!0}),(0,hN.jsxs)("div",{className:"buttons",children:[(0,hN.jsx)(bP,{type:"submit",children:" Sign in "}),(0,hN.jsx)(bP,{type:"button",onClick:function(){return e({type:zr.GOOGLE_SIGN_IN_START})},isGoogleSignIn:!0,children:"Sign in with Google"})]})]})]})},HP=aR.div(RR||(RR=AN(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 380px;\n"]))),WP=aR.h2(PR||(PR=AN(["\n\tmargin: 10px 0;\n"]))),KP=function(){var e=ft(),n=function(t){return e(function(e){return{type:zr.SIGN_UP_START,payload:e}}(t))},r=Ri((0,t.useState)({displayName:"",email:"",password:"",confirmPassword:""}),2),i=r[0],a=r[1],o=i.displayName,u=i.email,s=i.password,c=i.confirmPassword,l=function(){var e=Si(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s===c){e.next=4;break}return alert("passwords don't match"),e.abrupt("return");case 4:n({displayName:o,email:u,password:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.target,n=t.name,r=t.value;a(kt(kt({},i),{},mt({},n,r)))};return(0,hN.jsxs)(HP,{children:[(0,hN.jsx)(WP,{children:"I do not have a account"}),(0,hN.jsx)("span",{children:"Sign up with your email and password"}),(0,hN.jsxs)("form",{className:"sign-up-form",onSubmit:l,children:[(0,hN.jsx)(BP,{type:"text",name:"displayName",value:o,onChange:f,label:"Display Name",required:!0}),(0,hN.jsx)(BP,{type:"email",name:"email",value:u,onChange:f,label:"Email",required:!0}),(0,hN.jsx)(BP,{type:"password",name:"password",value:s,onChange:f,label:"Password",required:!0}),(0,hN.jsx)(BP,{type:"password",name:"confirmPassword",value:c,onChange:f,label:"Confirm Password",required:!0}),(0,hN.jsx)(bP,{type:"submit",children:"SIGN UP"})]})]})},GP=function(){return(0,hN.jsxs)("div",{className:"sign-in-and-sign-up",children:[(0,hN.jsx)(zP,{}),(0,hN.jsx)(KP,{})]})},QP=["title","titleId"];function YP(){return YP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YP.apply(this,arguments)}function $P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JP(e,n){var r=e.title,i=e.titleId,a=$P(e,QP);return t.createElement("svg",YP({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("g",null,t.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),t.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),t.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),DR||(DR=t.createElement("g",null)),LR||(LR=t.createElement("g",null)),MR||(MR=t.createElement("g",null)),UR||(UR=t.createElement("g",null)),jR||(jR=t.createElement("g",null)),FR||(FR=t.createElement("g",null)),VR||(VR=t.createElement("g",null)),qR||(qR=t.createElement("g",null)),BR||(BR=t.createElement("g",null)),zR||(zR=t.createElement("g",null)),HR||(HR=t.createElement("g",null)),WR||(WR=t.createElement("g",null)),KR||(KR=t.createElement("g",null)),GR||(GR=t.createElement("g",null)),QR||(QR=t.createElement("g",null)))}var XP,ZP,eD=t.forwardRef(JP),tD=(n.p,function(){var e=ft(),t=vt(IN);return(0,hN.jsxs)("div",{className:"cart-icon",onClick:function(){return e(mi())},children:[(0,hN.jsx)(eD,{className:"shopping-icon"}),(0,hN.jsx)("span",{className:"item-count",children:t})]})}),nD=function(e){var t=e.item,n=t.imageUrl,r=t.price,i=t.name,a=t.quantity;return(0,hN.jsxs)("div",{className:"cart-item",children:[(0,hN.jsx)("img",{src:n,alt:"item"}),(0,hN.jsxs)("div",{className:"item-details",children:[(0,hN.jsx)("span",{className:"name",children:i}),(0,hN.jsxs)("span",{className:"price",children:[a," x $",r]})]})]})},rD=function(){var e=vt(EN),t=ft(),n=ve(Y);return(0,hN.jsxs)("div",{className:"cart-dropdown",children:[(0,hN.jsx)("div",{className:"cart-items",children:e.length?e.map((function(e){return(0,hN.jsx)(nD,{item:e},e.id)})):(0,hN.jsx)("span",{className:"empty-message",children:"Your cart is empty"})}),(0,hN.jsx)(bP,{onClick:function(){n.push("/crwn-clothing_redo/checkout"),t(mi())},children:"GO TO CHECKOUT"})]})},iD=wN([function(e){return e.user}],(function(e){return e.currentUser})),aD=["title","titleId"];function oD(){return oD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oD.apply(this,arguments)}function uD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sD(e,n){var r=e.title,i=e.titleId,a=uD(e,aD);return t.createElement("svg",oD({width:"50px",height:"39px",viewBox:"0 0 50 39",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:n,"aria-labelledby":i},a),void 0===r?t.createElement("title",{id:i},"Group"):r?t.createElement("title",{id:i},r):null,XP||(XP=t.createElement("desc",null,"Created with Sketch.")),ZP||(ZP=t.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},t.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},t.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},t.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),t.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),t.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),t.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),t.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2}))))))}var cD,lD,fD,hD,dD=t.forwardRef(sD),pD=(n.p,aR.div(cD||(cD=AN(["\n  height: 70px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 25px;\n\n  @media only screen and (max-width: 800px) {\n    heightL 60px;\n    padding: 10px;\n    margin-bottom: 20px;\n  }\n"])))),vD=aR(xe)(lD||(lD=AN(["\n  height: 100%;\n  width: 70px;\n  padding: 25px;\n\n  @media only screen and (max-width: 800px) {\n    width: 50px;\n    padding: 0;\n  }\n"]))),yD=aR.div(fD||(fD=AN(["\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  @media only screen and (max-width: 800px) {\n    width: 80%;\n  }\n"]))),mD=aR(xe)(hD||(hD=AN(["\n  padding: 10px 15px;\n  cursor: pointer;\n"]))),gD=function(){var e=ft(),t=vt(iD),n=vt(SN);return(0,hN.jsxs)(pD,{children:[(0,hN.jsx)(vD,{to:"/crwn-clothing_redo/",children:(0,hN.jsx)(dD,{className:"logo"})}),(0,hN.jsxs)(yD,{children:[(0,hN.jsx)(mD,{to:"/crwn-clothing_redo/shop",children:"SHOP"}),t?(0,hN.jsx)(mD,{as:"div",onClick:function(){return e({type:zr.SIGN_OUT_START})},children:"SIGN OUT"}):(0,hN.jsx)(mD,{to:"/crwn-clothing_redo/signin",children:"SIGN IN"}),(0,hN.jsx)(tD,{})]}),n?null:(0,hN.jsx)(rD,{})]})},kD=function(){var e=vt(iD),n=ft();return(0,t.useEffect)((function(){n({type:zr.CHECK_USER_SESSION})}),[n]),(0,hN.jsxs)("div",{children:[(0,hN.jsx)(oR,{}),(0,hN.jsx)(gD,{}),(0,hN.jsxs)(de,{children:[(0,hN.jsx)(ue,{exact:!0,path:"/crwn-clothing_redo/",component:aP}),(0,hN.jsx)(ue,{path:"/crwn-clothing_redo/shop",component:VP}),(0,hN.jsx)(ue,{excact:!0,path:"/crwn-clothing_redo/checkout",component:CN}),(0,hN.jsx)(ue,{exact:!0,path:"/crwn-clothing_redo/signin",render:function(){return e?(0,hN.jsx)(re,{to:"/crwn-clothing_redo/"}):(0,hN.jsx)(GP,{})}})]})]})};r.render((0,hN.jsx)(Oe,{store:lN,children:(0,hN.jsx)(ye,{children:(0,hN.jsx)(yt.r,{persistor:fN,children:(0,hN.jsx)(kD,{})})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.aef6a5d8.js.map